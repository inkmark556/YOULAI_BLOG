[["Map",1,2,7,8],"meta::meta",["Map",3,4,5,6],"astro-version","5.16.6","astro-config-digest","{\"root\":{},\"srcDir\":{},\"publicDir\":{},\"outDir\":{},\"cacheDir\":{},\"compressHTML\":true,\"base\":\"/\",\"trailingSlash\":\"ignore\",\"output\":\"static\",\"scopedStyleStrategy\":\"attribute\",\"build\":{\"format\":\"directory\",\"client\":{},\"server\":{},\"assets\":\"_astro\",\"serverEntry\":\"entry.mjs\",\"redirects\":true,\"inlineStylesheets\":\"auto\",\"concurrency\":1},\"server\":{\"open\":false,\"host\":false,\"port\":4321,\"streaming\":true,\"allowedHosts\":[]},\"redirects\":{},\"image\":{\"endpoint\":{\"route\":\"/_image\"},\"service\":{\"entrypoint\":\"astro/assets/services/sharp\",\"config\":{}},\"domains\":[],\"remotePatterns\":[],\"responsiveStyles\":false},\"devToolbar\":{\"enabled\":true},\"markdown\":{\"syntaxHighlight\":{\"type\":\"shiki\",\"excludeLangs\":[\"math\"]},\"shikiConfig\":{\"langs\":[],\"langAlias\":{},\"theme\":\"github-dark\",\"themes\":{},\"wrap\":false,\"transformers\":[]},\"remarkPlugins\":[],\"rehypePlugins\":[],\"remarkRehype\":{},\"gfm\":true,\"smartypants\":true},\"security\":{\"checkOrigin\":true,\"allowedDomains\":[]},\"env\":{\"schema\":{},\"validateSecrets\":false},\"experimental\":{\"clientPrerender\":false,\"contentIntellisense\":false,\"headingIdCompat\":false,\"preserveScriptOrder\":false,\"liveContentCollections\":false,\"csp\":false,\"staticImportMetaEnv\":false,\"chromeDevtoolsWorkspace\":false,\"failOnPrerenderConflict\":false,\"svgo\":false},\"legacy\":{\"collections\":false}}","posts",["Map",9,10,26,27,63,64,100,101,127,128,188,189],"about",{"id":9,"data":11,"body":12,"filePath":13,"digest":14,"rendered":15,"legacyId":25},{},"# å…³äºŽæˆ‘\r\n\r\n  å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯åˆæ¥ï¼æ¥ç€é•¿æ²™çš„ä¸€ä½çƒ­çˆ±æ¸¸æˆå’ŒæŠ€æœ¯çš„00åŽå¼€å‘è€…ã€‚\r\n\r\n  æˆ‘å–œæ¬¢ç”¨ä»£ç åˆ›é€ å±žäºŽè‡ªå·±çš„ä¸–ç•Œï¼Œå°¤å…¶å–œæ¬¢ç ”ç©¶æ¸¸æˆçš„åº•å±‚æœºåˆ¶å’Œå„ç§æœ‰è¶£çš„çŽ©æ³•ã€‚Unity æ˜¯æˆ‘æœ€å¸¸ç”¨çš„å¼€å‘å·¥å…·ï¼Œæ— è®ºæ˜¯åšå•æœºã€è”æœºè¿˜æ˜¯ VR/AR é¡¹ç›®ï¼Œéƒ½èƒ½è®©æˆ‘ä¹åœ¨å…¶ä¸­ã€‚\r\n\r\n  å¹³æ—¶é™¤äº†å†™ä»£ç ï¼Œä¹Ÿå–œæ¬¢çŽ©å„ç§ç±»åž‹çš„æ¸¸æˆï¼Œå°¤å…¶æ˜¯ç­–ç•¥ç±»ã€åŠ¨ä½œç±»å’Œç‹¬ç«‹æ¸¸æˆã€‚æœ€å–œæ¬¢çš„ç³»åˆ—æœ‰ã€Šæ–‡æ˜Žã€‹ã€ã€Šå¡žå°”è¾¾ã€‹ã€ã€ŠP5ã€‹ã€ã€Šæ˜Ÿéœ²è°·ç‰©è¯­ã€‹ç­‰ç­‰ã€‚å¶å°”ä¹Ÿä¼šè‡ªå·±åšä¸€äº›å°æ¸¸æˆï¼Œæˆ–è€…å’Œæœ‹å‹ä¸€èµ·å¼€å‘ä¸€äº›æœ‰è¶£çš„ Demoã€‚\r\n\r\n  å…´è¶£çˆ±å¥½æ–¹é¢ï¼Œé™¤äº†æ¸¸æˆå’Œç¼–ç¨‹ï¼Œæˆ‘è¿˜å–œæ¬¢ç”»ç”»ã€æ‘„å½±ã€çœ‹ç§‘å¹»å°è¯´ã€ç ”ç©¶ AI æŠ€æœ¯ã€‚å–œæ¬¢å’Œå¿—åŒé“åˆçš„æœ‹å‹äº¤æµæŠ€æœ¯ã€åˆ†äº«åˆ›æ„ã€‚\r\n\r\n  æˆ‘ç›¸ä¿¡æ¸¸æˆä¸ä»…ä»…æ˜¯å¨±ä¹ï¼Œæ›´æ˜¯ä¸€ç§è¡¨è¾¾å’Œè¿žæŽ¥çš„æ–¹å¼ã€‚å¸Œæœ›èƒ½ç”¨è‡ªå·±çš„æŠ€æœ¯å’Œåˆ›æ„ï¼Œåšå‡ºè®©äººå¼€å¿ƒã€æ„ŸåŠ¨ã€ç”šè‡³èƒ½æ”¹å˜ä¸€ç‚¹ç‚¹ä¸–ç•Œçš„ä½œå“ã€‚\r\n\r\n  æ¬¢è¿Žäº¤æµã€ä¸€èµ·çŽ©æ¸¸æˆæˆ–è€…åˆä½œå¼€å‘ï¼","src/content/posts/about.md","7b2021144f2b4143",{"html":16,"metadata":17},"\u003Ch1 id=\"å…³äºŽæˆ‘\">å…³äºŽæˆ‘\u003C/h1>\n\u003Cp>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯åˆæ¥ï¼æ¥ç€é•¿æ²™çš„ä¸€ä½çƒ­çˆ±æ¸¸æˆå’ŒæŠ€æœ¯çš„00åŽå¼€å‘è€…ã€‚\u003C/p>\n\u003Cp>æˆ‘å–œæ¬¢ç”¨ä»£ç åˆ›é€ å±žäºŽè‡ªå·±çš„ä¸–ç•Œï¼Œå°¤å…¶å–œæ¬¢ç ”ç©¶æ¸¸æˆçš„åº•å±‚æœºåˆ¶å’Œå„ç§æœ‰è¶£çš„çŽ©æ³•ã€‚Unity æ˜¯æˆ‘æœ€å¸¸ç”¨çš„å¼€å‘å·¥å…·ï¼Œæ— è®ºæ˜¯åšå•æœºã€è”æœºè¿˜æ˜¯ VR/AR é¡¹ç›®ï¼Œéƒ½èƒ½è®©æˆ‘ä¹åœ¨å…¶ä¸­ã€‚\u003C/p>\n\u003Cp>å¹³æ—¶é™¤äº†å†™ä»£ç ï¼Œä¹Ÿå–œæ¬¢çŽ©å„ç§ç±»åž‹çš„æ¸¸æˆï¼Œå°¤å…¶æ˜¯ç­–ç•¥ç±»ã€åŠ¨ä½œç±»å’Œç‹¬ç«‹æ¸¸æˆã€‚æœ€å–œæ¬¢çš„ç³»åˆ—æœ‰ã€Šæ–‡æ˜Žã€‹ã€ã€Šå¡žå°”è¾¾ã€‹ã€ã€ŠP5ã€‹ã€ã€Šæ˜Ÿéœ²è°·ç‰©è¯­ã€‹ç­‰ç­‰ã€‚å¶å°”ä¹Ÿä¼šè‡ªå·±åšä¸€äº›å°æ¸¸æˆï¼Œæˆ–è€…å’Œæœ‹å‹ä¸€èµ·å¼€å‘ä¸€äº›æœ‰è¶£çš„ Demoã€‚\u003C/p>\n\u003Cp>å…´è¶£çˆ±å¥½æ–¹é¢ï¼Œé™¤äº†æ¸¸æˆå’Œç¼–ç¨‹ï¼Œæˆ‘è¿˜å–œæ¬¢ç”»ç”»ã€æ‘„å½±ã€çœ‹ç§‘å¹»å°è¯´ã€ç ”ç©¶ AI æŠ€æœ¯ã€‚å–œæ¬¢å’Œå¿—åŒé“åˆçš„æœ‹å‹äº¤æµæŠ€æœ¯ã€åˆ†äº«åˆ›æ„ã€‚\u003C/p>\n\u003Cp>æˆ‘ç›¸ä¿¡æ¸¸æˆä¸ä»…ä»…æ˜¯å¨±ä¹ï¼Œæ›´æ˜¯ä¸€ç§è¡¨è¾¾å’Œè¿žæŽ¥çš„æ–¹å¼ã€‚å¸Œæœ›èƒ½ç”¨è‡ªå·±çš„æŠ€æœ¯å’Œåˆ›æ„ï¼Œåšå‡ºè®©äººå¼€å¿ƒã€æ„ŸåŠ¨ã€ç”šè‡³èƒ½æ”¹å˜ä¸€ç‚¹ç‚¹ä¸–ç•Œçš„ä½œå“ã€‚\u003C/p>\n\u003Cp>æ¬¢è¿Žäº¤æµã€ä¸€èµ·çŽ©æ¸¸æˆæˆ–è€…åˆä½œå¼€å‘ï¼\u003C/p>",{"headings":18,"localImagePaths":22,"remoteImagePaths":23,"frontmatter":11,"imagePaths":24},[19],{"depth":20,"slug":21,"text":21},1,"å…³äºŽæˆ‘",[],[],[],"about.md","post_20251226054819",{"id":26,"data":28,"body":29,"filePath":30,"digest":31,"rendered":32,"legacyId":62},{},"# Unityæ‰‹æŸ„å¼€å‘æŒ‡å—ï¼šæ–°æ—§è¾“å…¥ç³»ç»ŸæŒ‰é”®æ˜ å°„è¯¦è§£\r\nåœ¨ Unity ä¸­è¿›è¡Œæ‰‹æŸ„å¼€å‘æ—¶ï¼ŒæŒ‰é”®çš„å¯¹åº”åç§°ï¼ˆButton Namesï¼‰å–å†³äºŽä½ ä½¿ç”¨çš„æ˜¯ **ä¼ ç»Ÿçš„ Input Manager (æ—§ç‰ˆ)** è¿˜æ˜¯ **Input System Package (æ–°ç‰ˆ)**ã€‚\r\n\r\nç›®å‰ä¸»æµä¸”æŽ¨èçš„åšæ³•æ˜¯ä½¿ç”¨ **Input System Package**ï¼Œå› ä¸ºå®ƒèƒ½è‡ªåŠ¨å¤„ç†ä¸åŒæ‰‹æŸ„ï¼ˆXbox, PS4, Switchï¼‰ä¹‹é—´çš„å·®å¼‚ã€‚\r\n\r\n---\r\n\r\n## 1. æ–°ç‰ˆ Input System (æŽ¨è)\r\n\r\nåœ¨æ–°ç‰ˆç³»ç»Ÿä¸­ï¼Œä½ ä¸éœ€è¦è®°å¿†å¤æ‚çš„ç¼–å·ï¼Œåªéœ€ä½¿ç”¨è·¯å¾„ï¼ˆPathï¼‰å³å¯ã€‚\r\n\r\n| æ‰‹æŸ„æŒ‰é”® (é€šç”¨åç§°) | è·¯å¾„åç§° (Path) |\r\n| --- | --- |\r\n| **å—é¢æŒ‰é”®** (Xbox: A / PS: Ã—) | `\u003CGamepad>/buttonSouth` |\r\n| **ä¸œé¢æŒ‰é”®** (Xbox: B / PS: â—‹) | `\u003CGamepad>/buttonEast` |\r\n| **è¥¿é¢æŒ‰é”®** (Xbox: X / PS: â–¡) | `\u003CGamepad>/buttonWest` |\r\n| **åŒ—é¢æŒ‰é”®** (Xbox: Y / PS: â–³) | `\u003CGamepad>/buttonNorth` |\r\n| **å·¦/å³è‚©é”®** (LB / RB) | `\u003CGamepad>/leftShoulder`, `\u003CGamepad>/rightShoulder` |\r\n| **å·¦/å³æ‰³æœº** (LT / RT) | `\u003CGamepad>/leftTrigger`, `\u003CGamepad>/rightTrigger` |\r\n| **å·¦/å³æ‘‡æ†ç‚¹å‡»** (LS / RS) | `\u003CGamepad>/leftStickPress`, `\u003CGamepad>/rightStickPress` |\r\n| **æ–¹å‘é”®** (D-Pad) | `\u003CGamepad>/dpad/up`, `down`, `left`, `right` |\r\n| **åŠŸèƒ½é”®** (Start / Back) | `\u003CGamepad>/start`, `\u003CGamepad>/select` |\r\n\r\n---\r\n\r\n## 2. æ—§ç‰ˆ Input Manager (é»˜è®¤é¡¹ç›®è®¾ç½®)\r\n\r\nå¦‚æžœä½ åœ¨ `Project Settings -> Input Manager` ä¸­æ‰‹åŠ¨è®¾ç½®ï¼Œé€šå¸¸éœ€è¦å¯¹åº” **Joystick Button** çš„ç¼–å·ã€‚ä»¥ä¸‹æ˜¯ä»¥ **Xbox Controller (Windows)** ä¸ºæ ‡å‡†çš„æ˜ å°„ï¼š\r\n\r\n### å¸¸ç”¨æŒ‰é”®æ˜ å°„è¡¨ (Xbox)\r\n\r\n\r\n\r\n![3ba9965a91e04fa59ca496e1a5db8142.png](/uploads/images/1766734880544-906187610.png)\r\n\r\n\r\n### æŒ‰é’®æ˜ å°„è¡¨ (Buttons)\r\n| ç‰©ç†æŒ‰é”® (Physical Button) | Unity æ˜ å°„ ID (Map to) | å¤‡æ³¨ |\r\n| --- | --- | --- |\r\n| **A** | `joystick button 0` | ç¡®è®¤ / è·³è·ƒ |\r\n| **B** | `joystick button 1` | å–æ¶ˆ / è¿”å›ž |\r\n| **X** | `joystick button 2` | **(ä½ åœ¨å›¾ä¸­æ¼æ ‡äº†è¿™ä¸ª)** |\r\n| **Y** | `joystick button 3` |  |\r\n| **LB** (å·¦è‚©é”®) | `joystick button 4` | Left Bumper |\r\n| **RB** (å³è‚©é”®) | `joystick button 5` | Right Bumper |\r\n| **View** (åŒæ¡†å›¾æ ‡) | `joystick button 6` | æ—§ç§° Back é”® |\r\n| **Menu** (ä¸‰é“æ å›¾æ ‡) | `joystick button 7` | æ—§ç§° Start é”® |\r\n| **L3** (æŒ‰ä¸‹å·¦æ‘‡æ†) | `joystick button 8` | Left Stick Click |\r\n| **R3** (æŒ‰ä¸‹å³æ‘‡æ†) | `joystick button 9` | Right Stick Click |\r\n| **Share** (ä¸­é—´åˆ†äº«é”®) | *é€šå¸¸æ— æ³•è¯†åˆ«* | æ—§ç‰ˆè¾“å…¥ç³»ç»Ÿå¾ˆéš¾ç›´æŽ¥æ£€æµ‹åˆ°æ­¤é”® |\r\n| **Xbox æ ‡** (è¥¿ç“œé”®) | *ç³»ç»Ÿå ç”¨* | å‘¼å‡º Windows æ¸¸æˆæ ï¼ŒUnity æ— æ³•èŽ·å– |\r\n### è½´çº¿æ˜ å°„ (Axes)\r\n| ç‰©ç†è¾“å…¥ (Physical Input) | Unity è½´å‘ (Axis Name/Number) | å€¼èŒƒå›´ (Value) |\r\n| --- | --- | --- |\r\n| **å·¦æ‘‡æ† - æ°´å¹³** | `X Axis` | -1 (å·¦) åˆ° 1 (å³) |\r\n| **å·¦æ‘‡æ† - åž‚ç›´** | `Y Axis` | -1 (ä¸‹) åˆ° 1 (ä¸Š)* |\r\n| **å³æ‘‡æ† - æ°´å¹³** | `4th Axis` | -1 (å·¦) åˆ° 1 (å³) |\r\n| **å³æ‘‡æ† - åž‚ç›´** | `5th Axis` | -1 (ä¸‹) åˆ° 1 (ä¸Š)* |\r\n| **D-Pad (åå­—é”®) - æ°´å¹³** | `6th Axis` | -1 (å·¦) åˆ° 1 (å³) |\r\n| **D-Pad (åå­—é”®) - åž‚ç›´** | `7th Axis` | -1 (ä¸‹) åˆ° 1 (ä¸Š) |\r\n| **LT (å·¦æ‰³æœº)** | `9th Axis` | 0 (æ¾å¼€) åˆ° 1 (æŒ‰ä¸‹) |\r\n| **RT (å³æ‰³æœº)** | `10th Axis` | 0 (æ¾å¼€) åˆ° 1 (æŒ‰ä¸‹) |\r\n---\r\n\r\n## 3. æ³¨æ„äº‹é¡¹ï¼šPS4/PS5 æ‰‹æŸ„å·®å¼‚\r\n\r\nå¦‚æžœä½ ä½¿ç”¨çš„æ˜¯ PS4 DualShock æ‰‹æŸ„ä¸”é€šè¿‡æ—§ç‰ˆ Input Manager è¯†åˆ«ï¼Œç¼–å·ä¼šå®Œå…¨ä¸åŒï¼š\r\n\r\n* **Ã— (South):** `joystick button 1`\r\n* **â—‹ (East):** `joystick button 2`\r\n* **â–¡ (West):** `joystick button 0`\r\n* **â–³ (North):** `joystick button 3`","src/content/posts/post_20251226054819.md","db5da591262c5fc7",{"html":33,"metadata":34},"\u003Ch1 id=\"unityæ‰‹æŸ„å¼€å‘æŒ‡å—æ–°æ—§è¾“å…¥ç³»ç»ŸæŒ‰é”®æ˜ å°„è¯¦è§£\">Unityæ‰‹æŸ„å¼€å‘æŒ‡å—ï¼šæ–°æ—§è¾“å…¥ç³»ç»ŸæŒ‰é”®æ˜ å°„è¯¦è§£\u003C/h1>\n\u003Cp>åœ¨ Unity ä¸­è¿›è¡Œæ‰‹æŸ„å¼€å‘æ—¶ï¼ŒæŒ‰é”®çš„å¯¹åº”åç§°ï¼ˆButton Namesï¼‰å–å†³äºŽä½ ä½¿ç”¨çš„æ˜¯ \u003Cstrong>ä¼ ç»Ÿçš„ Input Manager (æ—§ç‰ˆ)\u003C/strong> è¿˜æ˜¯ \u003Cstrong>Input System Package (æ–°ç‰ˆ)\u003C/strong>ã€‚\u003C/p>\n\u003Cp>ç›®å‰ä¸»æµä¸”æŽ¨èçš„åšæ³•æ˜¯ä½¿ç”¨ \u003Cstrong>Input System Package\u003C/strong>ï¼Œå› ä¸ºå®ƒèƒ½è‡ªåŠ¨å¤„ç†ä¸åŒæ‰‹æŸ„ï¼ˆXbox, PS4, Switchï¼‰ä¹‹é—´çš„å·®å¼‚ã€‚\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"1-æ–°ç‰ˆ-input-system-æŽ¨è\">1. æ–°ç‰ˆ Input System (æŽ¨è)\u003C/h2>\n\u003Cp>åœ¨æ–°ç‰ˆç³»ç»Ÿä¸­ï¼Œä½ ä¸éœ€è¦è®°å¿†å¤æ‚çš„ç¼–å·ï¼Œåªéœ€ä½¿ç”¨è·¯å¾„ï¼ˆPathï¼‰å³å¯ã€‚\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>æ‰‹æŸ„æŒ‰é”® (é€šç”¨åç§°)\u003C/th>\u003Cth>è·¯å¾„åç§° (Path)\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Cstrong>å—é¢æŒ‰é”®\u003C/strong> (Xbox: A / PS: Ã—)\u003C/td>\u003Ctd>\u003Ccode>&#x3C;Gamepad>/buttonSouth\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>ä¸œé¢æŒ‰é”®\u003C/strong> (Xbox: B / PS: â—‹)\u003C/td>\u003Ctd>\u003Ccode>&#x3C;Gamepad>/buttonEast\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>è¥¿é¢æŒ‰é”®\u003C/strong> (Xbox: X / PS: â–¡)\u003C/td>\u003Ctd>\u003Ccode>&#x3C;Gamepad>/buttonWest\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>åŒ—é¢æŒ‰é”®\u003C/strong> (Xbox: Y / PS: â–³)\u003C/td>\u003Ctd>\u003Ccode>&#x3C;Gamepad>/buttonNorth\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>å·¦/å³è‚©é”®\u003C/strong> (LB / RB)\u003C/td>\u003Ctd>\u003Ccode>&#x3C;Gamepad>/leftShoulder\u003C/code>, \u003Ccode>&#x3C;Gamepad>/rightShoulder\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>å·¦/å³æ‰³æœº\u003C/strong> (LT / RT)\u003C/td>\u003Ctd>\u003Ccode>&#x3C;Gamepad>/leftTrigger\u003C/code>, \u003Ccode>&#x3C;Gamepad>/rightTrigger\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>å·¦/å³æ‘‡æ†ç‚¹å‡»\u003C/strong> (LS / RS)\u003C/td>\u003Ctd>\u003Ccode>&#x3C;Gamepad>/leftStickPress\u003C/code>, \u003Ccode>&#x3C;Gamepad>/rightStickPress\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>æ–¹å‘é”®\u003C/strong> (D-Pad)\u003C/td>\u003Ctd>\u003Ccode>&#x3C;Gamepad>/dpad/up\u003C/code>, \u003Ccode>down\u003C/code>, \u003Ccode>left\u003C/code>, \u003Ccode>right\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>åŠŸèƒ½é”®\u003C/strong> (Start / Back)\u003C/td>\u003Ctd>\u003Ccode>&#x3C;Gamepad>/start\u003C/code>, \u003Ccode>&#x3C;Gamepad>/select\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Chr>\n\u003Ch2 id=\"2-æ—§ç‰ˆ-input-manager-é»˜è®¤é¡¹ç›®è®¾ç½®\">2. æ—§ç‰ˆ Input Manager (é»˜è®¤é¡¹ç›®è®¾ç½®)\u003C/h2>\n\u003Cp>å¦‚æžœä½ åœ¨ \u003Ccode>Project Settings -> Input Manager\u003C/code> ä¸­æ‰‹åŠ¨è®¾ç½®ï¼Œé€šå¸¸éœ€è¦å¯¹åº” \u003Cstrong>Joystick Button\u003C/strong> çš„ç¼–å·ã€‚ä»¥ä¸‹æ˜¯ä»¥ \u003Cstrong>Xbox Controller (Windows)\u003C/strong> ä¸ºæ ‡å‡†çš„æ˜ å°„ï¼š\u003C/p>\n\u003Ch3 id=\"å¸¸ç”¨æŒ‰é”®æ˜ å°„è¡¨-xbox\">å¸¸ç”¨æŒ‰é”®æ˜ å°„è¡¨ (Xbox)\u003C/h3>\n\u003Cp>\u003Cimg src=\"/uploads/images/1766734880544-906187610.png\" alt=\"3ba9965a91e04fa59ca496e1a5db8142.png\">\u003C/p>\n\u003Ch3 id=\"æŒ‰é’®æ˜ å°„è¡¨-buttons\">æŒ‰é’®æ˜ å°„è¡¨ (Buttons)\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>ç‰©ç†æŒ‰é”® (Physical Button)\u003C/th>\u003Cth>Unity æ˜ å°„ ID (Map to)\u003C/th>\u003Cth>å¤‡æ³¨\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Cstrong>A\u003C/strong>\u003C/td>\u003Ctd>\u003Ccode>joystick button 0\u003C/code>\u003C/td>\u003Ctd>ç¡®è®¤ / è·³è·ƒ\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>B\u003C/strong>\u003C/td>\u003Ctd>\u003Ccode>joystick button 1\u003C/code>\u003C/td>\u003Ctd>å–æ¶ˆ / è¿”å›ž\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>X\u003C/strong>\u003C/td>\u003Ctd>\u003Ccode>joystick button 2\u003C/code>\u003C/td>\u003Ctd>\u003Cstrong>(ä½ åœ¨å›¾ä¸­æ¼æ ‡äº†è¿™ä¸ª)\u003C/strong>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>Y\u003C/strong>\u003C/td>\u003Ctd>\u003Ccode>joystick button 3\u003C/code>\u003C/td>\u003Ctd>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>LB\u003C/strong> (å·¦è‚©é”®)\u003C/td>\u003Ctd>\u003Ccode>joystick button 4\u003C/code>\u003C/td>\u003Ctd>Left Bumper\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>RB\u003C/strong> (å³è‚©é”®)\u003C/td>\u003Ctd>\u003Ccode>joystick button 5\u003C/code>\u003C/td>\u003Ctd>Right Bumper\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>View\u003C/strong> (åŒæ¡†å›¾æ ‡)\u003C/td>\u003Ctd>\u003Ccode>joystick button 6\u003C/code>\u003C/td>\u003Ctd>æ—§ç§° Back é”®\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>Menu\u003C/strong> (ä¸‰é“æ å›¾æ ‡)\u003C/td>\u003Ctd>\u003Ccode>joystick button 7\u003C/code>\u003C/td>\u003Ctd>æ—§ç§° Start é”®\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>L3\u003C/strong> (æŒ‰ä¸‹å·¦æ‘‡æ†)\u003C/td>\u003Ctd>\u003Ccode>joystick button 8\u003C/code>\u003C/td>\u003Ctd>Left Stick Click\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>R3\u003C/strong> (æŒ‰ä¸‹å³æ‘‡æ†)\u003C/td>\u003Ctd>\u003Ccode>joystick button 9\u003C/code>\u003C/td>\u003Ctd>Right Stick Click\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>Share\u003C/strong> (ä¸­é—´åˆ†äº«é”®)\u003C/td>\u003Ctd>\u003Cem>é€šå¸¸æ— æ³•è¯†åˆ«\u003C/em>\u003C/td>\u003Ctd>æ—§ç‰ˆè¾“å…¥ç³»ç»Ÿå¾ˆéš¾ç›´æŽ¥æ£€æµ‹åˆ°æ­¤é”®\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>Xbox æ ‡\u003C/strong> (è¥¿ç“œé”®)\u003C/td>\u003Ctd>\u003Cem>ç³»ç»Ÿå ç”¨\u003C/em>\u003C/td>\u003Ctd>å‘¼å‡º Windows æ¸¸æˆæ ï¼ŒUnity æ— æ³•èŽ·å–\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch3 id=\"è½´çº¿æ˜ å°„-axes\">è½´çº¿æ˜ å°„ (Axes)\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>ç‰©ç†è¾“å…¥ (Physical Input)\u003C/th>\u003Cth>Unity è½´å‘ (Axis Name/Number)\u003C/th>\u003Cth>å€¼èŒƒå›´ (Value)\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Cstrong>å·¦æ‘‡æ† - æ°´å¹³\u003C/strong>\u003C/td>\u003Ctd>\u003Ccode>X Axis\u003C/code>\u003C/td>\u003Ctd>-1 (å·¦) åˆ° 1 (å³)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>å·¦æ‘‡æ† - åž‚ç›´\u003C/strong>\u003C/td>\u003Ctd>\u003Ccode>Y Axis\u003C/code>\u003C/td>\u003Ctd>-1 (ä¸‹) åˆ° 1 (ä¸Š)*\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>å³æ‘‡æ† - æ°´å¹³\u003C/strong>\u003C/td>\u003Ctd>\u003Ccode>4th Axis\u003C/code>\u003C/td>\u003Ctd>-1 (å·¦) åˆ° 1 (å³)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>å³æ‘‡æ† - åž‚ç›´\u003C/strong>\u003C/td>\u003Ctd>\u003Ccode>5th Axis\u003C/code>\u003C/td>\u003Ctd>-1 (ä¸‹) åˆ° 1 (ä¸Š)*\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>D-Pad (åå­—é”®) - æ°´å¹³\u003C/strong>\u003C/td>\u003Ctd>\u003Ccode>6th Axis\u003C/code>\u003C/td>\u003Ctd>-1 (å·¦) åˆ° 1 (å³)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>D-Pad (åå­—é”®) - åž‚ç›´\u003C/strong>\u003C/td>\u003Ctd>\u003Ccode>7th Axis\u003C/code>\u003C/td>\u003Ctd>-1 (ä¸‹) åˆ° 1 (ä¸Š)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>LT (å·¦æ‰³æœº)\u003C/strong>\u003C/td>\u003Ctd>\u003Ccode>9th Axis\u003C/code>\u003C/td>\u003Ctd>0 (æ¾å¼€) åˆ° 1 (æŒ‰ä¸‹)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>RT (å³æ‰³æœº)\u003C/strong>\u003C/td>\u003Ctd>\u003Ccode>10th Axis\u003C/code>\u003C/td>\u003Ctd>0 (æ¾å¼€) åˆ° 1 (æŒ‰ä¸‹)\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Chr>\n\u003Ch2 id=\"3-æ³¨æ„äº‹é¡¹ps4ps5-æ‰‹æŸ„å·®å¼‚\">3. æ³¨æ„äº‹é¡¹ï¼šPS4/PS5 æ‰‹æŸ„å·®å¼‚\u003C/h2>\n\u003Cp>å¦‚æžœä½ ä½¿ç”¨çš„æ˜¯ PS4 DualShock æ‰‹æŸ„ä¸”é€šè¿‡æ—§ç‰ˆ Input Manager è¯†åˆ«ï¼Œç¼–å·ä¼šå®Œå…¨ä¸åŒï¼š\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cstrong>Ã— (South):\u003C/strong> \u003Ccode>joystick button 1\u003C/code>\u003C/li>\n\u003Cli>\u003Cstrong>â—‹ (East):\u003C/strong> \u003Ccode>joystick button 2\u003C/code>\u003C/li>\n\u003Cli>\u003Cstrong>â–¡ (West):\u003C/strong> \u003Ccode>joystick button 0\u003C/code>\u003C/li>\n\u003Cli>\u003Cstrong>â–³ (North):\u003C/strong> \u003Ccode>joystick button 3\u003C/code>\u003C/li>\n\u003C/ul>",{"headings":35,"localImagePaths":59,"remoteImagePaths":60,"frontmatter":28,"imagePaths":61},[36,39,43,46,50,53,56],{"depth":20,"slug":37,"text":38},"unityæ‰‹æŸ„å¼€å‘æŒ‡å—æ–°æ—§è¾“å…¥ç³»ç»ŸæŒ‰é”®æ˜ å°„è¯¦è§£","Unityæ‰‹æŸ„å¼€å‘æŒ‡å—ï¼šæ–°æ—§è¾“å…¥ç³»ç»ŸæŒ‰é”®æ˜ å°„è¯¦è§£",{"depth":40,"slug":41,"text":42},2,"1-æ–°ç‰ˆ-input-system-æŽ¨è","1. æ–°ç‰ˆ Input System (æŽ¨è)",{"depth":40,"slug":44,"text":45},"2-æ—§ç‰ˆ-input-manager-é»˜è®¤é¡¹ç›®è®¾ç½®","2. æ—§ç‰ˆ Input Manager (é»˜è®¤é¡¹ç›®è®¾ç½®)",{"depth":47,"slug":48,"text":49},3,"å¸¸ç”¨æŒ‰é”®æ˜ å°„è¡¨-xbox","å¸¸ç”¨æŒ‰é”®æ˜ å°„è¡¨ (Xbox)",{"depth":47,"slug":51,"text":52},"æŒ‰é’®æ˜ å°„è¡¨-buttons","æŒ‰é’®æ˜ å°„è¡¨ (Buttons)",{"depth":47,"slug":54,"text":55},"è½´çº¿æ˜ å°„-axes","è½´çº¿æ˜ å°„ (Axes)",{"depth":40,"slug":57,"text":58},"3-æ³¨æ„äº‹é¡¹ps4ps5-æ‰‹æŸ„å·®å¼‚","3. æ³¨æ„äº‹é¡¹ï¼šPS4/PS5 æ‰‹æŸ„å·®å¼‚",[],[],[],"post_20251226054819.md","post_20251229070750",{"id":63,"data":65,"body":66,"filePath":67,"digest":68,"rendered":69,"legacyId":99},{},"# Unity ç¼–è¾‘å™¨æ‰©å±•ï¼šå°è¯´é˜…è¯»å™¨\r\n# å‰è¨€\r\næƒ³çœ‹å°è¯´åˆä¸æƒ³å¤šå¼€ä¸€ä¸ªç¨‹åºåœ¨æ¡Œé¢ä¸Šï¼Œå†™äº†ä¸€ä¸ªç®€å•çš„è„šæœ¬é˜…è¯»å™¨èžåˆè¿›Unityçš„æ£€è§†çª—å£\r\nå…¶å®žå°±æ˜¯ä¸Šç­æ‘¸é±¼æ—¶ç”¨çš„ï¼ðŸ˜\r\n\r\n***è¦ç‚¹ï¼š***\r\n - ä½¿ç”¨çš„Unityè‡ªåŠ¨çš„PlayerPrefsè¿›è¡Œè¿›åº¦çš„ä¿å­˜ \r\n - è¯†åˆ«ç›®å½•ç”¨çš„ç®€å•çš„æ­£åˆ™è¡¨è¾¾å¼ \r\n - è¯†åˆ«é€Ÿåº¦è¿˜è¡Œï¼Œ2000ç« çš„æ–‡æœ¬ç”¨ä¸äº†1ç§’å°±èƒ½è¯†åˆ«å®Œæ¯•\r\n - æ”¯æŒæŒ‰é”®ç»‘å®š\r\n# æ•ˆæžœæ¼”ç¤º\r\n\r\n# ä½¿ç”¨æ­¥éª¤\r\n## 1.å¼•å…¥ä»£ç \r\n\r\n```csharp\r\nusing System.Collections;\r\nusing System.Collections.Generic;\r\nusing System.Text.RegularExpressions;\r\nusing UnityEditor;\r\nusing UnityEngine;\r\n\r\npublic class NovelFish : MonoBehaviour\r\n{\r\n    private string[] _novelChapters;\r\n    private string[] _novelWords;\r\n\r\n    //å°è¯´æ˜¾ç¤ºå†…å®¹\r\n    [Multiline(10)]\r\n    public string novel = \"\";\r\n    //TXTæ–‡æœ¬æ–‡ä»¶\r\n    public TextAsset novelFile;\r\n    public KeyCode ä¸Šä¸€é¡µ = KeyCode.Mouse0;\r\n    public KeyCode ä¸‹ä¸€é¡µ = KeyCode.Mouse1;\r\n    public KeyCode éšè— = KeyCode.Mouse2;\r\n    public KeyCode è‡ªåŠ¨æ’­æ”¾ = KeyCode.A;\r\n    public KeyCode ä¸Šä¸€ç«  = KeyCode.PageUp;\r\n    public KeyCode ä¸‹ä¸€ç«  = KeyCode.PageDown;\r\n\r\n    public bool _isPlaying;\r\n    public int ChapterTarget;\r\n    private int ChapterIndex\r\n    {\r\n        get => PlayerPrefs.GetInt(\"Chapter_\" + novelFile.name, 0);\r\n        set => PlayerPrefs.SetInt(\"Chapter_\" + novelFile.name, value);\r\n    }\r\n\r\n    private int NowChapterIndex\r\n    {\r\n        get => PlayerPrefs.GetInt(\"Now_\" + novelFile.name, 0);\r\n        set => PlayerPrefs.SetInt(\"Now_\" + novelFile.name, value);\r\n    }\r\n\r\n\r\n    private void Start()\r\n    {\r\n        LoadNovel();\r\n    }\r\n\r\n    //ç« èŠ‚è·³è½¬\r\n    [ContextMenu(\"ç« èŠ‚è·³è½¬\")]\r\n    private void JumpPage()\r\n    {\r\n        if (ChapterTarget \u003C 0 || ChapterTarget >= _novelChapters.Length)\r\n            return;\r\n        ChapterIndex = ChapterTarget;\r\n        NowChapterIndex = 0;\r\n        _novelWords = LoadOriginalWord(_novelChapters[ChapterTarget]);\r\n        novel = _novelWords[NowChapterIndex];\r\n    }\r\n\r\n    //é‡ç½®æ–‡ç« \r\n    [ContextMenu(\"é‡ç½®æ–‡ç« \")]\r\n    private void ResetText()\r\n    {\r\n        NowChapterIndex = 0;\r\n        ChapterIndex = 0;\r\n        LoadNovel();\r\n        print(\"æ€»ç« æ•°ï¼š\" + _novelChapters.Length);\r\n    }\r\n\r\n    //æ–‡ç« ï¼ˆæŒ‰ç« èŠ‚ï¼‰åŠ è½½\r\n    private void LoadNovel()\r\n    {\r\n        //ç¬¬1ç« \r\n        var pattern = @\"(?m)^[ç¬¬][0-9]{1,4}[ç« ]\";\r\n        //000 nnn\r\n        // var pattern = @\"(?m)^\\d{3,4}[\\s]\";\r\n        //ç¬¬ä¸€ç«  ï¼ˆä¸­æ–‡æ•°å­—ï¼‰\r\n\t    // var pattern = @\"(?m)^[ç¬¬][\\u4e00-\\u9fa5]{1,5}[ç« ]\";\r\n\r\n\r\n        var novelChapters = Regex.Split(novelFile.text, pattern);\r\n        for (var i = 0; i \u003C novelChapters.Length; i++)\r\n        {\r\n            novelChapters[i] = \"ç¬¬\" + i + \"ç« \" + novelChapters[i];\r\n        }\r\n\r\n        _novelChapters = novelChapters;\r\n        _novelWords = LoadOriginalWord(_novelChapters[ChapterIndex]);\r\n        // novel = _novelWords[NowChapterIndex];\r\n    }\r\n\r\n    //æŒ‰é”®ç»‘å®š\r\n    public void Update()\r\n    {\r\n        if (Input.GetKeyDown(ä¸‹ä¸€é¡µ))\r\n            PageDown();\r\n        if (Input.GetKeyDown(ä¸Šä¸€é¡µ))\r\n            PageUp();\r\n        if (Input.GetKeyDown(éšè—))\r\n            Hide();\r\n        if (Input.GetKeyDown(è‡ªåŠ¨æ’­æ”¾))\r\n            AutoPlay();\r\n        if (Input.GetKeyDown(ä¸Šä¸€ç« ))\r\n            UpChapter();\r\n        if (Input.GetKeyDown(ä¸‹ä¸€ç« ))\r\n            DownChapter(); \r\n    }\r\n\r\n    //ä¸Šä¸€ç« \r\n    private void PageUp()\r\n    {\r\n        NowChapterIndex--;\r\n        if (NowChapterIndex == -1)\r\n        {\r\n            ChapterIndex--;\r\n            _novelWords = LoadOriginalWord(_novelChapters[ChapterIndex]);\r\n            NowChapterIndex = _novelWords.Length - 1;\r\n        }\r\n\r\n        novel = _novelWords[NowChapterIndex];\r\n    }\r\n\r\n    //ä¸‹ä¸€ç« \r\n    private void PageDown()\r\n    {\r\n        NowChapterIndex++;\r\n        if (NowChapterIndex == _novelWords.Length)\r\n        {\r\n            ChapterIndex++;\r\n            NowChapterIndex = 0;\r\n            _novelWords = LoadOriginalWord(_novelChapters[ChapterIndex]);\r\n        }\r\n\r\n        novel = _novelWords[NowChapterIndex];\r\n    }\r\n\r\n    //ä¸‹ä¸€é¡µ\r\n    private void DownChapter()\r\n    {\r\n        ChapterIndex++;\r\n        NowChapterIndex = 0;\r\n        _novelWords = LoadOriginalWord(_novelChapters[ChapterIndex]);\r\n        novel = _novelWords[NowChapterIndex];\r\n    }\r\n\r\n    //ä¸Šä¸€é¡µ\r\n    private void UpChapter()\r\n    {\r\n        ChapterIndex--;\r\n        NowChapterIndex = 0;\r\n        _novelWords = LoadOriginalWord(_novelChapters[ChapterIndex]);\r\n        novel = _novelWords[NowChapterIndex];\r\n    }\r\n\r\n    //è‡ªåŠ¨æ’­æ”¾\r\n    private void AutoPlay()\r\n    {\r\n        _isPlaying = !_isPlaying;\r\n        if (_isPlaying)\r\n            StartCoroutine(nameof(AutoPlayIe));\r\n        else\r\n            StopCoroutine(nameof(AutoPlayIe));\r\n    }\r\n\r\n    private IEnumerator AutoPlayIe()\r\n    {\r\n        PageDown();\r\n        // è‡ªåŠ¨æ’­æ”¾å»¶è¿Ÿ\r\n        yield return new WaitForSeconds(5f);\r\n        StartCoroutine(nameof(AutoPlayIe));\r\n    }\r\n\r\n    //å¿«é€Ÿéšè—ï¼ˆæ˜¾ç¤ºï¼‰\r\n    private void Hide()\r\n    {\r\n        var haveWord = novel != \"\";\r\n        novel = haveWord ? \"\" : _novelWords[NowChapterIndex];\r\n    }\r\n\r\n    //æ–‡å­—æœ€å¤šæ˜¾ç¤ºæ•°é‡\r\n    private const int MaxWordLength = 200;\r\n\r\n    /// \u003Csummary>\r\n    /// åŠ è½½æ–‡ç« ç‰‡æ®µ\r\n    /// \u003C/summary>\r\n    private static string[] LoadOriginalWord(string word)\r\n    {\r\n        var novelFileList = new List\u003Cstring>();\r\n        var originalWord = word.Split('\\n');\r\n        for (var i = 0; i \u003C originalWord.Length; i++)\r\n        {\r\n            //å¤„ç†æŽ‰ç©ºå­—ç¬¦ä¸²\r\n            originalWord[i] = Regex.Replace(originalWord[i], @\"\\s\", \"\");\r\n            if (originalWord[i].Length > 1 && originalWord[i].Length \u003C= 200)\r\n            {\r\n                novelFileList.Add(originalWord[i]);\r\n            }\r\n            else if (originalWord[i].Length > 200)\r\n            {\r\n                var ccl = originalWord[i].Length / MaxWordLength;\r\n                for (var j = 0; j \u003C= ccl; j++)\r\n                {\r\n                    if (originalWord[i].Length != j * MaxWordLength)\r\n                        novelFileList.Add(originalWord[i].Substring(j * MaxWordLength,\r\n                            j == ccl ? (originalWord[i].Length - j * MaxWordLength) - 1 : MaxWordLength));\r\n                }\r\n            }\r\n        }\r\n\r\n        return novelFileList.ToArray();\r\n    }\r\n}\r\n\r\n```\r\nodinæ’ä»¶ç‰ˆ\r\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/1af3cc8a4eb94dda4e0d528d4a66c1e6.png)\r\n\r\n```csharp\r\nusing Sirenix.OdinInspector;\r\nusing System.Collections;\r\nusing System.Collections.Generic;\r\nusing System.Text.RegularExpressions;\r\nusing UnityEngine;\r\n\r\npublic class NovelFish : MonoBehaviour\r\n{\r\n    public enum TitleType\r\n    {\r\n        T00Z,  // 00 Z\r\n        D00Z,  // DI 00 Z\r\n        DCNZ,  // DI CNNUME Z\r\n    }\r\n    private string[] _novelChapters;\r\n    private string[] _novelWords;\r\n    private const int MAX_WORD_LENGTH = 200;\r\n    [Multiline(9), ReadOnly]\r\n    public string novel = \"\";\r\n\r\n    [FoldoutGroup(\"SET\")] public TextAsset novelFile;\r\n    [FoldoutGroup(\"SET\")] public TitleType titleType;\r\n    [FoldoutGroup(\"SET\")] public KeyCode Up = KeyCode.Mouse0;\r\n    [FoldoutGroup(\"SET\")] public KeyCode Down = KeyCode.Mouse1;\r\n    [FoldoutGroup(\"SET\")] public KeyCode HideKey = KeyCode.Mouse2;\r\n    [FoldoutGroup(\"SET\")] public KeyCode Auto = KeyCode.A;\r\n    [FoldoutGroup(\"SET\")] public KeyCode PageUpKey = KeyCode.PageUp;\r\n    [FoldoutGroup(\"SET\")] public KeyCode PageDownKey = KeyCode.PageDown;\r\n    [FoldoutGroup(\"SET\")] public KeyCode Stop = KeyCode.P;\r\n    [FoldoutGroup(\"SET\"), Range(1f, 20f)] public float AutoSpeed = 5f;\r\n\r\n    private bool _isPlaying;\r\n    private bool _isPaused = true;\r\n\r\n    private int ChapterIndex\r\n    {\r\n        get => PlayerPrefs.GetInt(\"Chapter_\" + novelFile.name, 0);\r\n        set => PlayerPrefs.SetInt(\"Chapter_\" + novelFile.name, value);\r\n    }\r\n    private int NowChapterIndex\r\n    {\r\n        get => PlayerPrefs.GetInt(\"Now_\" + novelFile.name, 0);\r\n        set => PlayerPrefs.SetInt(\"Now_\" + novelFile.name, value);\r\n    }\r\n\r\n    private void Start()\r\n    {\r\n        if (novelFile == null)\r\n        {\r\n            _isPaused = true;\r\n            return;\r\n        }\r\n        LoadNovel();\r\n    }\r\n\r\n    [Button(Expanded = true), FoldoutGroup(\"SET\")]\r\n    private void JumpPage(int num)\r\n    {\r\n        if (num \u003C 0 || num >= _novelChapters.Length)\r\n            return;\r\n        ChapterIndex = num;\r\n        NowChapterIndex = 0;\r\n        _novelWords = LoadOriginalWord(_novelChapters[ChapterIndex]);\r\n        novel = _novelWords[NowChapterIndex];\r\n    }\r\n\r\n    [Button, FoldoutGroup(\"SET\")]\r\n    private void Clear()\r\n    {\r\n        novel = \"\";\r\n    }\r\n\r\n    [Button, FoldoutGroup(\"SET\")]\r\n    private void ResetText()\r\n    {\r\n        NowChapterIndex = 0;\r\n        ChapterIndex = 0;\r\n        LoadNovel();\r\n        print(\"Totalï¼š\" + _novelChapters.Length);\r\n    }\r\n\r\n    private void LoadNovel()\r\n    {\r\n        string pattern = string.Empty;\r\n        switch (titleType)\r\n        {\r\n            case TitleType.T00Z:\r\n                pattern = @\"(?m)^\\d{3,4}[\\s]\";\r\n                break;\r\n            case TitleType.D00Z:\r\n                pattern = @\"(?m)^[ç¬¬][0-9]{1,4}[ç« ]\";\r\n                break;\r\n            case TitleType.DCNZ:\r\n                pattern = @\"(?m)^[ç¬¬][\\u4e00-\\u9fa5]{1,5}[ç« ]\";\r\n                break;\r\n        }\r\n\r\n        var novelChapters = Regex.Split(novelFile.text, pattern);\r\n        for (var i = 0; i \u003C novelChapters.Length; i++)\r\n        {\r\n            novelChapters[i] = \"ç¬¬\" + i + \"ç« \" + novelChapters[i];\r\n        }\r\n\r\n        _novelChapters = novelChapters;\r\n        _novelWords = LoadOriginalWord(_novelChapters[ChapterIndex]);\r\n    }\r\n\r\n    //æŒ‰é”®ç»‘å®š\r\n    public void Update()\r\n    {\r\n        if (Input.GetKeyDown(Stop))\r\n            _isPaused = !_isPaused;\r\n        if (_isPaused) return;\r\n\r\n        if (Input.GetKeyDown(Down))\r\n            PageDown();\r\n        if (Input.GetKeyDown(Up))\r\n            PageUp();\r\n        if (Input.GetKeyDown(HideKey))\r\n            Hide();\r\n        if (Input.GetKeyDown(Auto))\r\n            AutoPlay();\r\n        if (Input.GetKeyDown(PageUpKey))\r\n            UpChapter();\r\n        if (Input.GetKeyDown(PageDownKey))\r\n            DownChapter();\r\n    }\r\n\r\n    //ä¸Šä¸€ç« \r\n    private void PageUp()\r\n    {\r\n        NowChapterIndex--;\r\n        if (NowChapterIndex == -1)\r\n        {\r\n            ChapterIndex--;\r\n            _novelWords = LoadOriginalWord(_novelChapters[ChapterIndex]);\r\n            NowChapterIndex = _novelWords.Length - 1;\r\n        }\r\n        novel = _novelWords[NowChapterIndex];\r\n    }\r\n\r\n\r\n    public void PageDown(int page)\r\n    {\r\n        NowChapterIndex += page;\r\n        if (NowChapterIndex >= _novelWords.Length)\r\n        {\r\n            ChapterIndex++;\r\n            NowChapterIndex = 0;\r\n            _novelWords = LoadOriginalWord(_novelChapters[ChapterIndex]);\r\n        }\r\n\r\n        novel = _novelWords[NowChapterIndex];\r\n    }\r\n\r\n    private void PageDown()\r\n    {\r\n        NowChapterIndex++;\r\n        if (NowChapterIndex == _novelWords.Length)\r\n        {\r\n            ChapterIndex++;\r\n            NowChapterIndex = 0;\r\n            _novelWords = LoadOriginalWord(_novelChapters[ChapterIndex]);\r\n        }\r\n\r\n        novel = _novelWords[NowChapterIndex];\r\n    }\r\n\r\n\r\n    private void DownChapter()\r\n    {\r\n        ChapterIndex++;\r\n        NowChapterIndex = 0;\r\n        _novelWords = LoadOriginalWord(_novelChapters[ChapterIndex]);\r\n        novel = _novelWords[NowChapterIndex];\r\n    }\r\n\r\n\r\n    private void UpChapter()\r\n    {\r\n        ChapterIndex--;\r\n        NowChapterIndex = 0;\r\n        _novelWords = LoadOriginalWord(_novelChapters[ChapterIndex]);\r\n        novel = _novelWords[NowChapterIndex];\r\n    }\r\n\r\n    private void AutoPlay()\r\n    {\r\n        _isPlaying = !_isPlaying;\r\n        if (_isPlaying)\r\n            StartCoroutine(nameof(AutoPlayIe));\r\n        else\r\n            StopCoroutine(nameof(AutoPlayIe));\r\n    }\r\n\r\n    private IEnumerator AutoPlayIe()\r\n    {\r\n        PageDown();\r\n        yield return new WaitForSeconds(AutoSpeed);\r\n        if (_isPaused)\r\n        {\r\n            _isPlaying = false;\r\n        }\r\n        else\r\n        {\r\n            StartCoroutine(nameof(AutoPlayIe));\r\n        }\r\n    }\r\n\r\n    //å¿«é€Ÿéšè—ï¼ˆæ˜¾ç¤ºï¼‰\r\n    private void Hide()\r\n    {\r\n        var haveWord = novel != \"\";\r\n        novel = haveWord ? \"\" : _novelWords[NowChapterIndex];\r\n    }\r\n\r\n    /// \u003Csummary>\r\n    /// åŠ è½½æ–‡ç« ç‰‡æ®µ\r\n    /// \u003C/summary>\r\n    private static string[] LoadOriginalWord(string word)\r\n    {\r\n        var novelFileList = new List\u003Cstring>();\r\n        var originalWord = word.Split('\\n');\r\n        for (var i = 0; i \u003C originalWord.Length; i++)\r\n        {\r\n            //å¤„ç†æŽ‰ç©ºå­—ç¬¦ä¸²\r\n            originalWord[i] = Regex.Replace(originalWord[i], @\"\\s\", \"\");\r\n            if (originalWord[i].Length > 1 && originalWord[i].Length \u003C= 200)\r\n            {\r\n                novelFileList.Add(originalWord[i]);\r\n            }\r\n            else if (originalWord[i].Length > 200)\r\n            {\r\n                var ccl = originalWord[i].Length / MAX_WORD_LENGTH;\r\n                for (var j = 0; j \u003C= ccl; j++)\r\n                {\r\n                    if (originalWord[i].Length != j * MAX_WORD_LENGTH)\r\n                        novelFileList.Add(originalWord[i].Substring(j * MAX_WORD_LENGTH,\r\n                            j == ccl ? (originalWord[i].Length - j * MAX_WORD_LENGTH) - 1 : MAX_WORD_LENGTH));\r\n                }\r\n            }\r\n        }\r\n\r\n        return novelFileList.ToArray();\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n## 2.å¯¼å…¥çš„å°è¯´æ–‡æœ¬ TXT\r\n`è®°å¾—è¦å°†å¯¼å…¥çš„txtæ ¼å¼è®¾ç½®ä¸ºUTF-8ä¸ç„¶è¯†åˆ«ä¸å‡ºæ¥`\r\nå¯ä»¥ç”¨è®°äº‹æœ¬æ‰“å¼€è®©åŽå¦å­˜ä¸ºæ—¶è®¾ç½®æ ¼å¼å°±å¥½äº†\r\n## 3.åœ¨ä»£ç å—é‡Œé€‰æ‹©ä½ ä¸‹è½½æ–‡ä»¶çš„ç›®å½•æ ¼å¼\r\nåœ¨70è¡Œä»£ç å·¦å³`æ³¨é‡ŠæŽ‰ä¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼éƒ¨åˆ†`\r\n\r\n\r\n## 4.æ‹–å…¥æ–‡æœ¬æ–‡ä»¶å†é€‰æ‹©é‡ç½®æ–‡ç« å³å¯\r\n\r\n# æ€»ç»“\r\nç›®å‰ç¼ºé™·è¿˜æ˜¯æœ‰çš„ï¼Œä¸èƒ½è‡ªåŠ¨è¯†åˆ«å°è¯´ç›®å½•æ ¼å¼ï¼Œå¿…é¡»åœ¨æ¸¸æˆè¿è¡Œæ¨¡å¼ä¸‹ä½¿ç”¨ï¼ˆç”¨çš„Inputæ£€æµ‹ï¼‰ã€‚\r\næœ‰ç©ºè¿˜æ˜¯å¯ä»¥æ”¹æ”¹çš„ã€‚","src/content/posts/post_20251229070750.md","e938d0869e48a8c3",{"html":70,"metadata":71},"\u003Ch1 id=\"unity-ç¼–è¾‘å™¨æ‰©å±•å°è¯´é˜…è¯»å™¨\">Unity ç¼–è¾‘å™¨æ‰©å±•ï¼šå°è¯´é˜…è¯»å™¨\u003C/h1>\n\u003Ch1 id=\"å‰è¨€\">å‰è¨€\u003C/h1>\n\u003Cp>æƒ³çœ‹å°è¯´åˆä¸æƒ³å¤šå¼€ä¸€ä¸ªç¨‹åºåœ¨æ¡Œé¢ä¸Šï¼Œå†™äº†ä¸€ä¸ªç®€å•çš„è„šæœ¬é˜…è¯»å™¨èžåˆè¿›Unityçš„æ£€è§†çª—å£\r\nå…¶å®žå°±æ˜¯ä¸Šç­æ‘¸é±¼æ—¶ç”¨çš„ï¼ðŸ˜\u003C/p>\n\u003Cp>\u003Cem>\u003Cstrong>è¦ç‚¹ï¼š\u003C/strong>\u003C/em>\u003C/p>\n\u003Cul>\n\u003Cli>ä½¿ç”¨çš„Unityè‡ªåŠ¨çš„PlayerPrefsè¿›è¡Œè¿›åº¦çš„ä¿å­˜\u003C/li>\n\u003Cli>è¯†åˆ«ç›®å½•ç”¨çš„ç®€å•çš„æ­£åˆ™è¡¨è¾¾å¼\u003C/li>\n\u003Cli>è¯†åˆ«é€Ÿåº¦è¿˜è¡Œï¼Œ2000ç« çš„æ–‡æœ¬ç”¨ä¸äº†1ç§’å°±èƒ½è¯†åˆ«å®Œæ¯•\u003C/li>\n\u003Cli>æ”¯æŒæŒ‰é”®ç»‘å®š\u003C/li>\n\u003C/ul>\n\u003Ch1 id=\"æ•ˆæžœæ¼”ç¤º\">æ•ˆæžœæ¼”ç¤º\u003C/h1>\n\u003Ch1 id=\"ä½¿ç”¨æ­¥éª¤\">ä½¿ç”¨æ­¥éª¤\u003C/h1>\n\u003Ch2 id=\"1å¼•å…¥ä»£ç \">1.å¼•å…¥ä»£ç \u003C/h2>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"csharp\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">using\u003C/span>\u003Cspan style=\"color:#B392F0\"> System\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.\u003C/span>\u003Cspan style=\"color:#B392F0\">Collections\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">using\u003C/span>\u003Cspan style=\"color:#B392F0\"> System\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.\u003C/span>\u003Cspan style=\"color:#B392F0\">Collections\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.\u003C/span>\u003Cspan style=\"color:#B392F0\">Generic\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">using\u003C/span>\u003Cspan style=\"color:#B392F0\"> System\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.\u003C/span>\u003Cspan style=\"color:#B392F0\">Text\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.\u003C/span>\u003Cspan style=\"color:#B392F0\">RegularExpressions\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">using\u003C/span>\u003Cspan style=\"color:#B392F0\"> UnityEditor\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">using\u003C/span>\u003Cspan style=\"color:#B392F0\"> UnityEngine\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">public\u003C/span>\u003Cspan style=\"color:#F97583\"> class\u003C/span>\u003Cspan style=\"color:#B392F0\"> NovelFish\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> : \u003C/span>\u003Cspan style=\"color:#B392F0\">MonoBehaviour\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[] \u003C/span>\u003Cspan style=\"color:#B392F0\">_novelChapters\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[] \u003C/span>\u003Cspan style=\"color:#B392F0\">_novelWords\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    //å°è¯´æ˜¾ç¤ºå†…å®¹\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    [\u003C/span>\u003Cspan style=\"color:#B392F0\">Multiline\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">10\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    public\u003C/span>\u003Cspan style=\"color:#F97583\"> string\u003C/span>\u003Cspan style=\"color:#B392F0\"> novel\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    //TXTæ–‡æœ¬æ–‡ä»¶\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    public\u003C/span>\u003Cspan style=\"color:#B392F0\"> TextAsset\u003C/span>\u003Cspan style=\"color:#B392F0\"> novelFile\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    public\u003C/span>\u003Cspan style=\"color:#B392F0\"> KeyCode\u003C/span>\u003Cspan style=\"color:#B392F0\"> ä¸Šä¸€é¡µ\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> KeyCode.Mouse0;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    public\u003C/span>\u003Cspan style=\"color:#B392F0\"> KeyCode\u003C/span>\u003Cspan style=\"color:#B392F0\"> ä¸‹ä¸€é¡µ\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> KeyCode.Mouse1;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    public\u003C/span>\u003Cspan style=\"color:#B392F0\"> KeyCode\u003C/span>\u003Cspan style=\"color:#B392F0\"> éšè—\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> KeyCode.Mouse2;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    public\u003C/span>\u003Cspan style=\"color:#B392F0\"> KeyCode\u003C/span>\u003Cspan style=\"color:#B392F0\"> è‡ªåŠ¨æ’­æ”¾\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> KeyCode.A;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    public\u003C/span>\u003Cspan style=\"color:#B392F0\"> KeyCode\u003C/span>\u003Cspan style=\"color:#B392F0\"> ä¸Šä¸€ç« \u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> KeyCode.PageUp;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    public\u003C/span>\u003Cspan style=\"color:#B392F0\"> KeyCode\u003C/span>\u003Cspan style=\"color:#B392F0\"> ä¸‹ä¸€ç« \u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> KeyCode.PageDown;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    public\u003C/span>\u003Cspan style=\"color:#F97583\"> bool\u003C/span>\u003Cspan style=\"color:#B392F0\"> _isPlaying\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    public\u003C/span>\u003Cspan style=\"color:#F97583\"> int\u003C/span>\u003Cspan style=\"color:#B392F0\"> ChapterTarget\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> int\u003C/span>\u003Cspan style=\"color:#B392F0\"> ChapterIndex\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        get\u003C/span>\u003Cspan style=\"color:#F97583\"> =>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> PlayerPrefs.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetInt\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Chapter_\"\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> novelFile.name, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        set\u003C/span>\u003Cspan style=\"color:#F97583\"> =>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> PlayerPrefs.\u003C/span>\u003Cspan style=\"color:#B392F0\">SetInt\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Chapter_\"\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> novelFile.name, value);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> int\u003C/span>\u003Cspan style=\"color:#B392F0\"> NowChapterIndex\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        get\u003C/span>\u003Cspan style=\"color:#F97583\"> =>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> PlayerPrefs.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetInt\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Now_\"\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> novelFile.name, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        set\u003C/span>\u003Cspan style=\"color:#F97583\"> =>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> PlayerPrefs.\u003C/span>\u003Cspan style=\"color:#B392F0\">SetInt\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Now_\"\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> novelFile.name, value);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> void\u003C/span>\u003Cspan style=\"color:#B392F0\"> Start\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        LoadNovel\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    //ç« èŠ‚è·³è½¬\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    [\u003C/span>\u003Cspan style=\"color:#B392F0\">ContextMenu\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"ç« èŠ‚è·³è½¬\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> void\u003C/span>\u003Cspan style=\"color:#B392F0\"> JumpPage\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (ChapterTarget \u003C/span>\u003Cspan style=\"color:#F97583\">&#x3C;\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#F97583\"> ||\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> ChapterTarget \u003C/span>\u003Cspan style=\"color:#F97583\">>=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> _novelChapters.Length)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">            return\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        ChapterIndex \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> ChapterTarget;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        NowChapterIndex \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        _novelWords \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#B392F0\"> LoadOriginalWord\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(_novelChapters[ChapterTarget]);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        novel \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> _novelWords[NowChapterIndex];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    //é‡ç½®æ–‡ç« \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    [\u003C/span>\u003Cspan style=\"color:#B392F0\">ContextMenu\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"é‡ç½®æ–‡ç« \"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> void\u003C/span>\u003Cspan style=\"color:#B392F0\"> ResetText\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        NowChapterIndex \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        ChapterIndex \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        LoadNovel\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        print\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"æ€»ç« æ•°ï¼š\"\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> _novelChapters.Length);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    //æ–‡ç« ï¼ˆæŒ‰ç« èŠ‚ï¼‰åŠ è½½\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> void\u003C/span>\u003Cspan style=\"color:#B392F0\"> LoadNovel\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">        //ç¬¬1ç« \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        var\u003C/span>\u003Cspan style=\"color:#B392F0\"> pattern\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> @\"(?m)^[ç¬¬][0-9]{1,4}[ç« ]\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">        //000 nnn\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">        // var pattern = @\"(?m)^\\d{3,4}[\\s]\";\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">        //ç¬¬ä¸€ç«  ï¼ˆä¸­æ–‡æ•°å­—ï¼‰\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">\t    // var pattern = @\"(?m)^[ç¬¬][\\u4e00-\\u9fa5]{1,5}[ç« ]\";\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        var\u003C/span>\u003Cspan style=\"color:#B392F0\"> novelChapters\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Regex.\u003C/span>\u003Cspan style=\"color:#B392F0\">Split\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(novelFile.text, pattern);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        for\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">var\u003C/span>\u003Cspan style=\"color:#B392F0\"> i\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; i \u003C/span>\u003Cspan style=\"color:#F97583\">&#x3C;\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> novelChapters.Length; i\u003C/span>\u003Cspan style=\"color:#F97583\">++\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            novelChapters[i] \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"ç¬¬\"\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> i \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"ç« \"\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> novelChapters[i];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        _novelChapters \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> novelChapters;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        _novelWords \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#B392F0\"> LoadOriginalWord\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(_novelChapters[ChapterIndex]);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">        // novel = _novelWords[NowChapterIndex];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    //æŒ‰é”®ç»‘å®š\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    public\u003C/span>\u003Cspan style=\"color:#F97583\"> void\u003C/span>\u003Cspan style=\"color:#B392F0\"> Update\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetKeyDown\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(ä¸‹ä¸€é¡µ))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">            PageDown\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetKeyDown\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(ä¸Šä¸€é¡µ))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">            PageUp\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetKeyDown\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(éšè—))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">            Hide\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetKeyDown\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(è‡ªåŠ¨æ’­æ”¾))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">            AutoPlay\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetKeyDown\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(ä¸Šä¸€ç« ))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">            UpChapter\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetKeyDown\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(ä¸‹ä¸€ç« ))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">            DownChapter\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(); \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    //ä¸Šä¸€ç« \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> void\u003C/span>\u003Cspan style=\"color:#B392F0\"> PageUp\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        NowChapterIndex\u003C/span>\u003Cspan style=\"color:#F97583\">--\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (NowChapterIndex \u003C/span>\u003Cspan style=\"color:#F97583\">==\u003C/span>\u003Cspan style=\"color:#F97583\"> -\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            ChapterIndex\u003C/span>\u003Cspan style=\"color:#F97583\">--\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            _novelWords \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#B392F0\"> LoadOriginalWord\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(_novelChapters[ChapterIndex]);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            NowChapterIndex \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> _novelWords.Length \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        novel \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> _novelWords[NowChapterIndex];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    //ä¸‹ä¸€ç« \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> void\u003C/span>\u003Cspan style=\"color:#B392F0\"> PageDown\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        NowChapterIndex\u003C/span>\u003Cspan style=\"color:#F97583\">++\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (NowChapterIndex \u003C/span>\u003Cspan style=\"color:#F97583\">==\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> _novelWords.Length)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            ChapterIndex\u003C/span>\u003Cspan style=\"color:#F97583\">++\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            NowChapterIndex \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            _novelWords \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#B392F0\"> LoadOriginalWord\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(_novelChapters[ChapterIndex]);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        novel \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> _novelWords[NowChapterIndex];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    //ä¸‹ä¸€é¡µ\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> void\u003C/span>\u003Cspan style=\"color:#B392F0\"> DownChapter\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        ChapterIndex\u003C/span>\u003Cspan style=\"color:#F97583\">++\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        NowChapterIndex \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        _novelWords \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#B392F0\"> LoadOriginalWord\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(_novelChapters[ChapterIndex]);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        novel \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> _novelWords[NowChapterIndex];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    //ä¸Šä¸€é¡µ\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> void\u003C/span>\u003Cspan style=\"color:#B392F0\"> UpChapter\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        ChapterIndex\u003C/span>\u003Cspan style=\"color:#F97583\">--\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        NowChapterIndex \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        _novelWords \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#B392F0\"> LoadOriginalWord\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(_novelChapters[ChapterIndex]);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        novel \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> _novelWords[NowChapterIndex];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    //è‡ªåŠ¨æ’­æ”¾\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> void\u003C/span>\u003Cspan style=\"color:#B392F0\"> AutoPlay\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        _isPlaying \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#F97583\"> !\u003C/span>\u003Cspan style=\"color:#E1E4E8\">_isPlaying;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (_isPlaying)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">            StartCoroutine\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">nameof\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(AutoPlayIe));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        else\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">            StopCoroutine\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">nameof\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(AutoPlayIe));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#B392F0\"> IEnumerator\u003C/span>\u003Cspan style=\"color:#B392F0\"> AutoPlayIe\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        PageDown\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">        // è‡ªåŠ¨æ’­æ”¾å»¶è¿Ÿ\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        yield\u003C/span>\u003Cspan style=\"color:#F97583\"> return\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> WaitForSeconds\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">5f\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        StartCoroutine\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">nameof\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(AutoPlayIe));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    //å¿«é€Ÿéšè—ï¼ˆæ˜¾ç¤ºï¼‰\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> void\u003C/span>\u003Cspan style=\"color:#B392F0\"> Hide\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        var\u003C/span>\u003Cspan style=\"color:#B392F0\"> haveWord\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> novel \u003C/span>\u003Cspan style=\"color:#F97583\">!=\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        novel \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> haveWord \u003C/span>\u003Cspan style=\"color:#F97583\">?\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"\"\u003C/span>\u003Cspan style=\"color:#F97583\"> :\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> _novelWords[NowChapterIndex];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    //æ–‡å­—æœ€å¤šæ˜¾ç¤ºæ•°é‡\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> const\u003C/span>\u003Cspan style=\"color:#F97583\"> int\u003C/span>\u003Cspan style=\"color:#B392F0\"> MaxWordLength\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 200\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    /// &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">summary\u003C/span>\u003Cspan style=\"color:#6A737D\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    /// åŠ è½½æ–‡ç« ç‰‡æ®µ\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    /// &#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">summary\u003C/span>\u003Cspan style=\"color:#6A737D\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> static\u003C/span>\u003Cspan style=\"color:#F97583\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[] \u003C/span>\u003Cspan style=\"color:#B392F0\">LoadOriginalWord\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">string\u003C/span>\u003Cspan style=\"color:#B392F0\"> word\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        var\u003C/span>\u003Cspan style=\"color:#B392F0\"> novelFileList\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> List\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#F97583\">string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        var\u003C/span>\u003Cspan style=\"color:#B392F0\"> originalWord\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> word.\u003C/span>\u003Cspan style=\"color:#B392F0\">Split\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'\u003C/span>\u003Cspan style=\"color:#79B8FF\">\\n\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        for\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">var\u003C/span>\u003Cspan style=\"color:#B392F0\"> i\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; i \u003C/span>\u003Cspan style=\"color:#F97583\">&#x3C;\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> originalWord.Length; i\u003C/span>\u003Cspan style=\"color:#F97583\">++\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">            //å¤„ç†æŽ‰ç©ºå­—ç¬¦ä¸²\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            originalWord[i] \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Regex.\u003C/span>\u003Cspan style=\"color:#B392F0\">Replace\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(originalWord[i], \u003C/span>\u003Cspan style=\"color:#9ECBFF\">@\"\\s\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">            if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (originalWord[i].Length \u003C/span>\u003Cspan style=\"color:#F97583\">>\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1\u003C/span>\u003Cspan style=\"color:#F97583\"> &#x26;&#x26;\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> originalWord[i].Length \u003C/span>\u003Cspan style=\"color:#F97583\">&#x3C;=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 200\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">                novelFileList.\u003C/span>\u003Cspan style=\"color:#B392F0\">Add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(originalWord[i]);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">            else\u003C/span>\u003Cspan style=\"color:#F97583\"> if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (originalWord[i].Length \u003C/span>\u003Cspan style=\"color:#F97583\">>\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 200\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">                var\u003C/span>\u003Cspan style=\"color:#B392F0\"> ccl\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> originalWord[i].Length \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> MaxWordLength;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">                for\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">var\u003C/span>\u003Cspan style=\"color:#B392F0\"> j\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; j \u003C/span>\u003Cspan style=\"color:#F97583\">&#x3C;=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> ccl; j\u003C/span>\u003Cspan style=\"color:#F97583\">++\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">                {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">                    if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (originalWord[i].Length \u003C/span>\u003Cspan style=\"color:#F97583\">!=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> j \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> MaxWordLength)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">                        novelFileList.\u003C/span>\u003Cspan style=\"color:#B392F0\">Add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(originalWord[i].\u003C/span>\u003Cspan style=\"color:#B392F0\">Substring\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(j \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> MaxWordLength,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">                            j \u003C/span>\u003Cspan style=\"color:#F97583\">==\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> ccl \u003C/span>\u003Cspan style=\"color:#F97583\">?\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (originalWord[i].Length \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> j \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> MaxWordLength) \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1\u003C/span>\u003Cspan style=\"color:#F97583\"> :\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> MaxWordLength));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">                }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        return\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> novelFileList.\u003C/span>\u003Cspan style=\"color:#B392F0\">ToArray\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>odinæ’ä»¶ç‰ˆ\r\n\u003Cimg src=\"https://i-blog.csdnimg.cn/blog_migrate/1af3cc8a4eb94dda4e0d528d4a66c1e6.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\">\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"csharp\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">using\u003C/span>\u003Cspan style=\"color:#B392F0\"> Sirenix\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.\u003C/span>\u003Cspan style=\"color:#B392F0\">OdinInspector\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">using\u003C/span>\u003Cspan style=\"color:#B392F0\"> System\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.\u003C/span>\u003Cspan style=\"color:#B392F0\">Collections\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">using\u003C/span>\u003Cspan style=\"color:#B392F0\"> System\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.\u003C/span>\u003Cspan style=\"color:#B392F0\">Collections\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.\u003C/span>\u003Cspan style=\"color:#B392F0\">Generic\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">using\u003C/span>\u003Cspan style=\"color:#B392F0\"> System\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.\u003C/span>\u003Cspan style=\"color:#B392F0\">Text\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.\u003C/span>\u003Cspan style=\"color:#B392F0\">RegularExpressions\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">using\u003C/span>\u003Cspan style=\"color:#B392F0\"> UnityEngine\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">public\u003C/span>\u003Cspan style=\"color:#F97583\"> class\u003C/span>\u003Cspan style=\"color:#B392F0\"> NovelFish\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> : \u003C/span>\u003Cspan style=\"color:#B392F0\">MonoBehaviour\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    public\u003C/span>\u003Cspan style=\"color:#F97583\"> enum\u003C/span>\u003Cspan style=\"color:#B392F0\"> TitleType\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        T00Z\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,  \u003C/span>\u003Cspan style=\"color:#6A737D\">// 00 Z\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        D00Z\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,  \u003C/span>\u003Cspan style=\"color:#6A737D\">// DI 00 Z\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        DCNZ\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,  \u003C/span>\u003Cspan style=\"color:#6A737D\">// DI CNNUME Z\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[] \u003C/span>\u003Cspan style=\"color:#B392F0\">_novelChapters\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[] \u003C/span>\u003Cspan style=\"color:#B392F0\">_novelWords\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> const\u003C/span>\u003Cspan style=\"color:#F97583\"> int\u003C/span>\u003Cspan style=\"color:#B392F0\"> MAX_WORD_LENGTH\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 200\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    [\u003C/span>\u003Cspan style=\"color:#B392F0\">Multiline\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">9\u003C/span>\u003Cspan style=\"color:#E1E4E8\">), \u003C/span>\u003Cspan style=\"color:#B392F0\">ReadOnly\u003C/span>\u003Cspan style=\"color:#E1E4E8\">]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    public\u003C/span>\u003Cspan style=\"color:#F97583\"> string\u003C/span>\u003Cspan style=\"color:#B392F0\"> novel\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    [\u003C/span>\u003Cspan style=\"color:#B392F0\">FoldoutGroup\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"SET\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)] \u003C/span>\u003Cspan style=\"color:#F97583\">public\u003C/span>\u003Cspan style=\"color:#B392F0\"> TextAsset\u003C/span>\u003Cspan style=\"color:#B392F0\"> novelFile\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    [\u003C/span>\u003Cspan style=\"color:#B392F0\">FoldoutGroup\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"SET\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)] \u003C/span>\u003Cspan style=\"color:#F97583\">public\u003C/span>\u003Cspan style=\"color:#B392F0\"> TitleType\u003C/span>\u003Cspan style=\"color:#B392F0\"> titleType\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    [\u003C/span>\u003Cspan style=\"color:#B392F0\">FoldoutGroup\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"SET\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)] \u003C/span>\u003Cspan style=\"color:#F97583\">public\u003C/span>\u003Cspan style=\"color:#B392F0\"> KeyCode\u003C/span>\u003Cspan style=\"color:#B392F0\"> Up\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> KeyCode.Mouse0;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    [\u003C/span>\u003Cspan style=\"color:#B392F0\">FoldoutGroup\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"SET\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)] \u003C/span>\u003Cspan style=\"color:#F97583\">public\u003C/span>\u003Cspan style=\"color:#B392F0\"> KeyCode\u003C/span>\u003Cspan style=\"color:#B392F0\"> Down\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> KeyCode.Mouse1;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    [\u003C/span>\u003Cspan style=\"color:#B392F0\">FoldoutGroup\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"SET\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)] \u003C/span>\u003Cspan style=\"color:#F97583\">public\u003C/span>\u003Cspan style=\"color:#B392F0\"> KeyCode\u003C/span>\u003Cspan style=\"color:#B392F0\"> HideKey\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> KeyCode.Mouse2;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    [\u003C/span>\u003Cspan style=\"color:#B392F0\">FoldoutGroup\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"SET\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)] \u003C/span>\u003Cspan style=\"color:#F97583\">public\u003C/span>\u003Cspan style=\"color:#B392F0\"> KeyCode\u003C/span>\u003Cspan style=\"color:#B392F0\"> Auto\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> KeyCode.A;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    [\u003C/span>\u003Cspan style=\"color:#B392F0\">FoldoutGroup\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"SET\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)] \u003C/span>\u003Cspan style=\"color:#F97583\">public\u003C/span>\u003Cspan style=\"color:#B392F0\"> KeyCode\u003C/span>\u003Cspan style=\"color:#B392F0\"> PageUpKey\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> KeyCode.PageUp;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    [\u003C/span>\u003Cspan style=\"color:#B392F0\">FoldoutGroup\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"SET\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)] \u003C/span>\u003Cspan style=\"color:#F97583\">public\u003C/span>\u003Cspan style=\"color:#B392F0\"> KeyCode\u003C/span>\u003Cspan style=\"color:#B392F0\"> PageDownKey\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> KeyCode.PageDown;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    [\u003C/span>\u003Cspan style=\"color:#B392F0\">FoldoutGroup\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"SET\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)] \u003C/span>\u003Cspan style=\"color:#F97583\">public\u003C/span>\u003Cspan style=\"color:#B392F0\"> KeyCode\u003C/span>\u003Cspan style=\"color:#B392F0\"> Stop\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> KeyCode.P;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    [\u003C/span>\u003Cspan style=\"color:#B392F0\">FoldoutGroup\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"SET\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">), \u003C/span>\u003Cspan style=\"color:#B392F0\">Range\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">1f\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">20f\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)] \u003C/span>\u003Cspan style=\"color:#F97583\">public\u003C/span>\u003Cspan style=\"color:#F97583\"> float\u003C/span>\u003Cspan style=\"color:#B392F0\"> AutoSpeed\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 5f\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> bool\u003C/span>\u003Cspan style=\"color:#B392F0\"> _isPlaying\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> bool\u003C/span>\u003Cspan style=\"color:#B392F0\"> _isPaused\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> true\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> int\u003C/span>\u003Cspan style=\"color:#B392F0\"> ChapterIndex\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        get\u003C/span>\u003Cspan style=\"color:#F97583\"> =>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> PlayerPrefs.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetInt\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Chapter_\"\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> novelFile.name, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        set\u003C/span>\u003Cspan style=\"color:#F97583\"> =>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> PlayerPrefs.\u003C/span>\u003Cspan style=\"color:#B392F0\">SetInt\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Chapter_\"\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> novelFile.name, value);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> int\u003C/span>\u003Cspan style=\"color:#B392F0\"> NowChapterIndex\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        get\u003C/span>\u003Cspan style=\"color:#F97583\"> =>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> PlayerPrefs.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetInt\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Now_\"\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> novelFile.name, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        set\u003C/span>\u003Cspan style=\"color:#F97583\"> =>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> PlayerPrefs.\u003C/span>\u003Cspan style=\"color:#B392F0\">SetInt\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Now_\"\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> novelFile.name, value);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> void\u003C/span>\u003Cspan style=\"color:#B392F0\"> Start\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (novelFile \u003C/span>\u003Cspan style=\"color:#F97583\">==\u003C/span>\u003Cspan style=\"color:#79B8FF\"> null\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            _isPaused \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> true\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">            return\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        LoadNovel\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    [\u003C/span>\u003Cspan style=\"color:#B392F0\">Button\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">Expanded\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> true\u003C/span>\u003Cspan style=\"color:#E1E4E8\">), \u003C/span>\u003Cspan style=\"color:#B392F0\">FoldoutGroup\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"SET\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> void\u003C/span>\u003Cspan style=\"color:#B392F0\"> JumpPage\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">int\u003C/span>\u003Cspan style=\"color:#B392F0\"> num\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (num \u003C/span>\u003Cspan style=\"color:#F97583\">&#x3C;\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#F97583\"> ||\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> num \u003C/span>\u003Cspan style=\"color:#F97583\">>=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> _novelChapters.Length)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">            return\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        ChapterIndex \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> num;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        NowChapterIndex \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        _novelWords \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#B392F0\"> LoadOriginalWord\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(_novelChapters[ChapterIndex]);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        novel \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> _novelWords[NowChapterIndex];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    [\u003C/span>\u003Cspan style=\"color:#B392F0\">Button\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#B392F0\">FoldoutGroup\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"SET\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> void\u003C/span>\u003Cspan style=\"color:#B392F0\"> Clear\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        novel \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    [\u003C/span>\u003Cspan style=\"color:#B392F0\">Button\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#B392F0\">FoldoutGroup\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"SET\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> void\u003C/span>\u003Cspan style=\"color:#B392F0\"> ResetText\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        NowChapterIndex \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        ChapterIndex \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        LoadNovel\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        print\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Totalï¼š\"\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> _novelChapters.Length);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> void\u003C/span>\u003Cspan style=\"color:#B392F0\"> LoadNovel\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        string\u003C/span>\u003Cspan style=\"color:#B392F0\"> pattern\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.Empty;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        switch\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (titleType)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">            case\u003C/span>\u003Cspan style=\"color:#B392F0\"> TitleType\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.\u003C/span>\u003Cspan style=\"color:#B392F0\">T00Z\u003C/span>\u003Cspan style=\"color:#E1E4E8\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">                pattern \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> @\"(?m)^\\d{3,4}[\\s]\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">                break\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">            case\u003C/span>\u003Cspan style=\"color:#B392F0\"> TitleType\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.\u003C/span>\u003Cspan style=\"color:#B392F0\">D00Z\u003C/span>\u003Cspan style=\"color:#E1E4E8\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">                pattern \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> @\"(?m)^[ç¬¬][0-9]{1,4}[ç« ]\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">                break\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">            case\u003C/span>\u003Cspan style=\"color:#B392F0\"> TitleType\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.\u003C/span>\u003Cspan style=\"color:#B392F0\">DCNZ\u003C/span>\u003Cspan style=\"color:#E1E4E8\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">                pattern \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> @\"(?m)^[ç¬¬][\\u4e00-\\u9fa5]{1,5}[ç« ]\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">                break\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        var\u003C/span>\u003Cspan style=\"color:#B392F0\"> novelChapters\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Regex.\u003C/span>\u003Cspan style=\"color:#B392F0\">Split\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(novelFile.text, pattern);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        for\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">var\u003C/span>\u003Cspan style=\"color:#B392F0\"> i\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; i \u003C/span>\u003Cspan style=\"color:#F97583\">&#x3C;\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> novelChapters.Length; i\u003C/span>\u003Cspan style=\"color:#F97583\">++\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            novelChapters[i] \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"ç¬¬\"\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> i \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"ç« \"\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> novelChapters[i];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        _novelChapters \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> novelChapters;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        _novelWords \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#B392F0\"> LoadOriginalWord\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(_novelChapters[ChapterIndex]);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    //æŒ‰é”®ç»‘å®š\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    public\u003C/span>\u003Cspan style=\"color:#F97583\"> void\u003C/span>\u003Cspan style=\"color:#B392F0\"> Update\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetKeyDown\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(Stop))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            _isPaused \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#F97583\"> !\u003C/span>\u003Cspan style=\"color:#E1E4E8\">_isPaused;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (_isPaused) \u003C/span>\u003Cspan style=\"color:#F97583\">return\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetKeyDown\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(Down))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">            PageDown\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetKeyDown\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(Up))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">            PageUp\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetKeyDown\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(HideKey))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">            Hide\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetKeyDown\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(Auto))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">            AutoPlay\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetKeyDown\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(PageUpKey))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">            UpChapter\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetKeyDown\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(PageDownKey))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">            DownChapter\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    //ä¸Šä¸€ç« \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> void\u003C/span>\u003Cspan style=\"color:#B392F0\"> PageUp\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        NowChapterIndex\u003C/span>\u003Cspan style=\"color:#F97583\">--\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (NowChapterIndex \u003C/span>\u003Cspan style=\"color:#F97583\">==\u003C/span>\u003Cspan style=\"color:#F97583\"> -\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            ChapterIndex\u003C/span>\u003Cspan style=\"color:#F97583\">--\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            _novelWords \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#B392F0\"> LoadOriginalWord\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(_novelChapters[ChapterIndex]);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            NowChapterIndex \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> _novelWords.Length \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        novel \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> _novelWords[NowChapterIndex];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    public\u003C/span>\u003Cspan style=\"color:#F97583\"> void\u003C/span>\u003Cspan style=\"color:#B392F0\"> PageDown\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">int\u003C/span>\u003Cspan style=\"color:#B392F0\"> page\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        NowChapterIndex \u003C/span>\u003Cspan style=\"color:#F97583\">+=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> page;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (NowChapterIndex \u003C/span>\u003Cspan style=\"color:#F97583\">>=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> _novelWords.Length)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            ChapterIndex\u003C/span>\u003Cspan style=\"color:#F97583\">++\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            NowChapterIndex \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            _novelWords \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#B392F0\"> LoadOriginalWord\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(_novelChapters[ChapterIndex]);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        novel \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> _novelWords[NowChapterIndex];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> void\u003C/span>\u003Cspan style=\"color:#B392F0\"> PageDown\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        NowChapterIndex\u003C/span>\u003Cspan style=\"color:#F97583\">++\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (NowChapterIndex \u003C/span>\u003Cspan style=\"color:#F97583\">==\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> _novelWords.Length)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            ChapterIndex\u003C/span>\u003Cspan style=\"color:#F97583\">++\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            NowChapterIndex \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            _novelWords \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#B392F0\"> LoadOriginalWord\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(_novelChapters[ChapterIndex]);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        novel \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> _novelWords[NowChapterIndex];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> void\u003C/span>\u003Cspan style=\"color:#B392F0\"> DownChapter\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        ChapterIndex\u003C/span>\u003Cspan style=\"color:#F97583\">++\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        NowChapterIndex \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        _novelWords \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#B392F0\"> LoadOriginalWord\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(_novelChapters[ChapterIndex]);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        novel \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> _novelWords[NowChapterIndex];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> void\u003C/span>\u003Cspan style=\"color:#B392F0\"> UpChapter\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        ChapterIndex\u003C/span>\u003Cspan style=\"color:#F97583\">--\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        NowChapterIndex \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        _novelWords \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#B392F0\"> LoadOriginalWord\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(_novelChapters[ChapterIndex]);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        novel \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> _novelWords[NowChapterIndex];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> void\u003C/span>\u003Cspan style=\"color:#B392F0\"> AutoPlay\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        _isPlaying \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#F97583\"> !\u003C/span>\u003Cspan style=\"color:#E1E4E8\">_isPlaying;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (_isPlaying)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">            StartCoroutine\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">nameof\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(AutoPlayIe));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        else\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">            StopCoroutine\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">nameof\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(AutoPlayIe));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#B392F0\"> IEnumerator\u003C/span>\u003Cspan style=\"color:#B392F0\"> AutoPlayIe\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        PageDown\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        yield\u003C/span>\u003Cspan style=\"color:#F97583\"> return\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> WaitForSeconds\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(AutoSpeed);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (_isPaused)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            _isPlaying \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> false\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        else\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">            StartCoroutine\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">nameof\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(AutoPlayIe));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    //å¿«é€Ÿéšè—ï¼ˆæ˜¾ç¤ºï¼‰\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> void\u003C/span>\u003Cspan style=\"color:#B392F0\"> Hide\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        var\u003C/span>\u003Cspan style=\"color:#B392F0\"> haveWord\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> novel \u003C/span>\u003Cspan style=\"color:#F97583\">!=\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        novel \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> haveWord \u003C/span>\u003Cspan style=\"color:#F97583\">?\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"\"\u003C/span>\u003Cspan style=\"color:#F97583\"> :\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> _novelWords[NowChapterIndex];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    /// &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">summary\u003C/span>\u003Cspan style=\"color:#6A737D\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    /// åŠ è½½æ–‡ç« ç‰‡æ®µ\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    /// &#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">summary\u003C/span>\u003Cspan style=\"color:#6A737D\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> static\u003C/span>\u003Cspan style=\"color:#F97583\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[] \u003C/span>\u003Cspan style=\"color:#B392F0\">LoadOriginalWord\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">string\u003C/span>\u003Cspan style=\"color:#B392F0\"> word\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        var\u003C/span>\u003Cspan style=\"color:#B392F0\"> novelFileList\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> List\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#F97583\">string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        var\u003C/span>\u003Cspan style=\"color:#B392F0\"> originalWord\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> word.\u003C/span>\u003Cspan style=\"color:#B392F0\">Split\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'\u003C/span>\u003Cspan style=\"color:#79B8FF\">\\n\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        for\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">var\u003C/span>\u003Cspan style=\"color:#B392F0\"> i\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; i \u003C/span>\u003Cspan style=\"color:#F97583\">&#x3C;\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> originalWord.Length; i\u003C/span>\u003Cspan style=\"color:#F97583\">++\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">            //å¤„ç†æŽ‰ç©ºå­—ç¬¦ä¸²\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            originalWord[i] \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Regex.\u003C/span>\u003Cspan style=\"color:#B392F0\">Replace\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(originalWord[i], \u003C/span>\u003Cspan style=\"color:#9ECBFF\">@\"\\s\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">            if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (originalWord[i].Length \u003C/span>\u003Cspan style=\"color:#F97583\">>\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1\u003C/span>\u003Cspan style=\"color:#F97583\"> &#x26;&#x26;\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> originalWord[i].Length \u003C/span>\u003Cspan style=\"color:#F97583\">&#x3C;=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 200\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">                novelFileList.\u003C/span>\u003Cspan style=\"color:#B392F0\">Add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(originalWord[i]);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">            else\u003C/span>\u003Cspan style=\"color:#F97583\"> if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (originalWord[i].Length \u003C/span>\u003Cspan style=\"color:#F97583\">>\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 200\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">                var\u003C/span>\u003Cspan style=\"color:#B392F0\"> ccl\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> originalWord[i].Length \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> MAX_WORD_LENGTH;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">                for\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">var\u003C/span>\u003Cspan style=\"color:#B392F0\"> j\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; j \u003C/span>\u003Cspan style=\"color:#F97583\">&#x3C;=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> ccl; j\u003C/span>\u003Cspan style=\"color:#F97583\">++\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">                {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">                    if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (originalWord[i].Length \u003C/span>\u003Cspan style=\"color:#F97583\">!=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> j \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> MAX_WORD_LENGTH)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">                        novelFileList.\u003C/span>\u003Cspan style=\"color:#B392F0\">Add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(originalWord[i].\u003C/span>\u003Cspan style=\"color:#B392F0\">Substring\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(j \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> MAX_WORD_LENGTH,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">                            j \u003C/span>\u003Cspan style=\"color:#F97583\">==\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> ccl \u003C/span>\u003Cspan style=\"color:#F97583\">?\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (originalWord[i].Length \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> j \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> MAX_WORD_LENGTH) \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1\u003C/span>\u003Cspan style=\"color:#F97583\"> :\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> MAX_WORD_LENGTH));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">                }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        return\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> novelFileList.\u003C/span>\u003Cspan style=\"color:#B392F0\">ToArray\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch2 id=\"2å¯¼å…¥çš„å°è¯´æ–‡æœ¬-txt\">2.å¯¼å…¥çš„å°è¯´æ–‡æœ¬ TXT\u003C/h2>\n\u003Cp>\u003Ccode>è®°å¾—è¦å°†å¯¼å…¥çš„txtæ ¼å¼è®¾ç½®ä¸ºUTF-8ä¸ç„¶è¯†åˆ«ä¸å‡ºæ¥\u003C/code>\r\nå¯ä»¥ç”¨è®°äº‹æœ¬æ‰“å¼€è®©åŽå¦å­˜ä¸ºæ—¶è®¾ç½®æ ¼å¼å°±å¥½äº†\u003C/p>\n\u003Ch2 id=\"3åœ¨ä»£ç å—é‡Œé€‰æ‹©ä½ ä¸‹è½½æ–‡ä»¶çš„ç›®å½•æ ¼å¼\">3.åœ¨ä»£ç å—é‡Œé€‰æ‹©ä½ ä¸‹è½½æ–‡ä»¶çš„ç›®å½•æ ¼å¼\u003C/h2>\n\u003Cp>åœ¨70è¡Œä»£ç å·¦å³\u003Ccode>æ³¨é‡ŠæŽ‰ä¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼éƒ¨åˆ†\u003C/code>\u003C/p>\n\u003Ch2 id=\"4æ‹–å…¥æ–‡æœ¬æ–‡ä»¶å†é€‰æ‹©é‡ç½®æ–‡ç« å³å¯\">4.æ‹–å…¥æ–‡æœ¬æ–‡ä»¶å†é€‰æ‹©é‡ç½®æ–‡ç« å³å¯\u003C/h2>\n\u003Ch1 id=\"æ€»ç»“\">æ€»ç»“\u003C/h1>\n\u003Cp>ç›®å‰ç¼ºé™·è¿˜æ˜¯æœ‰çš„ï¼Œä¸èƒ½è‡ªåŠ¨è¯†åˆ«å°è¯´ç›®å½•æ ¼å¼ï¼Œå¿…é¡»åœ¨æ¸¸æˆè¿è¡Œæ¨¡å¼ä¸‹ä½¿ç”¨ï¼ˆç”¨çš„Inputæ£€æµ‹ï¼‰ã€‚\r\næœ‰ç©ºè¿˜æ˜¯å¯ä»¥æ”¹æ”¹çš„ã€‚\u003C/p>",{"headings":72,"localImagePaths":96,"remoteImagePaths":97,"frontmatter":65,"imagePaths":98},[73,76,78,80,82,85,88,91,94],{"depth":20,"slug":74,"text":75},"unity-ç¼–è¾‘å™¨æ‰©å±•å°è¯´é˜…è¯»å™¨","Unity ç¼–è¾‘å™¨æ‰©å±•ï¼šå°è¯´é˜…è¯»å™¨",{"depth":20,"slug":77,"text":77},"å‰è¨€",{"depth":20,"slug":79,"text":79},"æ•ˆæžœæ¼”ç¤º",{"depth":20,"slug":81,"text":81},"ä½¿ç”¨æ­¥éª¤",{"depth":40,"slug":83,"text":84},"1å¼•å…¥ä»£ç ","1.å¼•å…¥ä»£ç ",{"depth":40,"slug":86,"text":87},"2å¯¼å…¥çš„å°è¯´æ–‡æœ¬-txt","2.å¯¼å…¥çš„å°è¯´æ–‡æœ¬ TXT",{"depth":40,"slug":89,"text":90},"3åœ¨ä»£ç å—é‡Œé€‰æ‹©ä½ ä¸‹è½½æ–‡ä»¶çš„ç›®å½•æ ¼å¼","3.åœ¨ä»£ç å—é‡Œé€‰æ‹©ä½ ä¸‹è½½æ–‡ä»¶çš„ç›®å½•æ ¼å¼",{"depth":40,"slug":92,"text":93},"4æ‹–å…¥æ–‡æœ¬æ–‡ä»¶å†é€‰æ‹©é‡ç½®æ–‡ç« å³å¯","4.æ‹–å…¥æ–‡æœ¬æ–‡ä»¶å†é€‰æ‹©é‡ç½®æ–‡ç« å³å¯",{"depth":20,"slug":95,"text":95},"æ€»ç»“",[],[],[],"post_20251229070750.md","unity_001",{"id":100,"data":102,"body":103,"filePath":104,"digest":105,"rendered":106,"legacyId":126},{},"# Unity è‡ªç”±ç›¸æœº\r\n### æ“ä½œæ–¹å¼\r\n- WASDæ°´å¹³ç§»åŠ¨ (æŒ‰ä½å·¦SHIFTåŠ é€Ÿç§»åŠ¨) \r\n- QEåž‚ç›´ç§»åŠ¨   \r\n- é¼ æ ‡å³é”®æŒ‰ä¸‹æ—‹è½¬è§†è§’\r\n\r\n### ä»£ç å†…å®¹\r\n```csharp\r\nusing UnityEngine;\r\n\r\n/// \u003Csummary>\r\n/// è‡ªç”±ç›¸æœº\r\n/// \u003C/summary>\r\npublic class FreeCamera : MonoBehaviour\r\n{\r\n    [Tooltip(\"æ°´å¹³ç§»åŠ¨é€Ÿåº¦\")] public float horizontalSpeed = 50f; //æ°´å¹³ç§»åŠ¨é€Ÿåº¦\r\n    [Tooltip(\"åž‚ç›´ç§»åŠ¨é€Ÿåº¦\")] public float verticalSpeed = 10f; //åž‚ç›´ç§»åŠ¨é€Ÿåº¦\r\n    [Tooltip(\"é¼ æ ‡æ—‹è½¬é€Ÿåº¦\")] public float rotationSpeed = 2f; //æ—‹è½¬é€Ÿåº¦\r\n\r\n    private float _rotationX; //ä¸Šä¸‹æ—‹è½¬è§’åº¦\r\n\r\n    public void Update()\r\n    {\r\n        HandleMove();\r\n        HandleRotate();\r\n    }\r\n\r\n    /// \u003Csummary>\r\n    /// ç›¸æœºç§»åŠ¨\r\n    /// \u003C/summary>\r\n    private void HandleMove()\r\n    {\r\n        //è§†è§’å¹³è¡Œç§»åŠ¨\r\n        var horizontal = Input.GetAxis(\"Horizontal\");\r\n        var vertical = Input.GetAxis(\"Vertical\");\r\n        var direction = horizontalSpeed * Time.deltaTime * new Vector3(horizontal, 0f, vertical);\r\n\r\n        if (Input.GetKey(KeyCode.LeftShift))  //æŒ‰Shiftç§»åŠ¨åŠ é€Ÿ\r\n            direction *= 3;\r\n\r\n        transform.Translate(direction);\r\n\r\n        //  æŽ§åˆ¶æ‘„åƒæœºåž‚ç›´ç§»åŠ¨\r\n        if (Input.GetKey(KeyCode.Q))\r\n            transform.position += transform.up * (verticalSpeed * Time.deltaTime);\r\n        else if (Input.GetKey(KeyCode.E))\r\n            transform.position -= transform.up * (verticalSpeed * Time.deltaTime);\r\n    }\r\n\r\n\r\n    /// \u003Csummary>\r\n    /// è§†è§’æ—‹è½¬\r\n    /// \u003C/summary>\r\n    private void HandleRotate()\r\n    {\r\n        if (Input.GetMouseButton(1))\r\n        {\r\n            var mouseX = Input.GetAxis(\"Mouse X\") * rotationSpeed;\r\n            var mouseY = Input.GetAxis(\"Mouse Y\") * rotationSpeed;\r\n\r\n            _rotationX -= mouseY;\r\n            _rotationX = Mathf.Clamp(_rotationX, -90ï¼Œ 90);\r\n            transform.localRotation = Quaternion.Euler(_rotationX, transform.localEulerAngles.y, 0f);\r\n            transform.Rotate(Vector3.up * mouseX, Space.World);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n# Unity RTSç›¸æœº1\r\n```csharp\r\nusing UnityEngine;\r\n\r\npublic class CameraController01 : MonoBehaviour\r\n{\r\n    private Vector3 moveInput;//æŽ¥æ”¶é”®ç›˜çš„è¾“å…¥é‡\r\n    [SerializeField] private float panSpeed;//ç›¸æœºå¹³ç§»çš„é€Ÿåº¦\r\n\r\n    [SerializeField] private float scrollSpeed;//é¼ æ ‡æ»šåŠ¨çš„é€Ÿåº¦\r\n\r\n    private void Update()\r\n    {\r\n        HandleMovementInput();\r\n    }\r\n\r\n    private void HandleMovementInput()\r\n    {\r\n        //æˆ‘ä»¬å…¶å®žåŠ¨æ€æ”¹å˜çš„æ˜¯Main Cameraçš„Transç»„ä»¶çš„Pos\r\n        Vector3 pos = transform.position;\r\n\r\n        //moveInput = new Vector3(Input.GetAxisRaw(\"Horizontal\"), 0, Input.GetAxisRaw(\"Vertical\"));//æ€§èƒ½ï¼Ÿ\r\n        moveInput.Set(Input.GetAxisRaw(\"Horizontal\"), 0, Input.GetAxisRaw(\"Vertical\"));\r\n\r\n        Vector2 mousePos = Input.mousePosition;\r\n        if (mousePos.x > Screen.width * 0.9f && mousePos.x \u003C Screen.width)\r\n            moveInput.x = 1;\r\n        if (mousePos.x \u003C Screen.width * 0.1f && mousePos.x > 0)\r\n            moveInput.x = -1;\r\n        if (mousePos.y > Screen.height * 0.9 && mousePos.y \u003C Screen.height)\r\n            moveInput.z = 1;\r\n        if (mousePos.y \u003C Screen.height * 0.1 && mousePos.y > 0)\r\n            moveInput.z = -1;\r\n\r\n        //pos += moveInput * panSpeed * Time.deltaTime;//ERROR\r\n        //pos += moveInput.normalized * panSpeed * Time.deltaTime;//åŒ€é€Ÿè¿åŠ¨ï¼Œå½’ä¸€åŒ–/å‘é‡åŒ–\r\n\r\n        pos.x += moveInput.normalized.x * panSpeed * Time.deltaTime;\r\n        pos.y += Input.GetAxis(\"Mouse ScrollWheel\") * scrollSpeed * Time.deltaTime;//Yè½´æ»šè½®è¾“å…¥é‡\r\n        pos.z += moveInput.normalized.z * panSpeed * Time.deltaTime;\r\n\r\n        pos.x = Mathf.Clamp(pos.x, -10, 10);\r\n        pos.y = Mathf.Clamp(pos.y, 5, 30);\r\n        pos.z = Mathf.Clamp(pos.z, -25, 5);//æ ¹æ®è‡ªå·±çš„åœ°å›¾èŒƒå›´è¿›è¡Œè°ƒæ•´ï¼Œå¯ä»¥è®¾ç½®ä¸ºå˜é‡ï¼Œæ–¹ä¾¿å˜›ï¼\r\n\r\n        transform.position = pos;\r\n    }\r\n}\r\n```\r\n\r\n# Unity RTSç›¸æœº2\r\n```csharp\r\nusing System;\r\nusing UnityEngine;\r\n\r\npublic class CameraController02 : MonoBehaviour\r\n{\r\n    private float panSpeed;\r\n    [SerializeField] private float moveTime;//ç¼“å†²æ—¶é—´ï¼Œç”¨äºŽä¹‹åŽçš„Vector3.Lerpå’ŒQuaternion.Lerpæ–¹æ³•/å‡½æ•°\r\n    [SerializeField] private float normalSpeed, fastSpeed;\r\n\r\n    private Vector3 newPos;\r\n    private Quaternion newRotation;\r\n    [SerializeField] private float rotationAmount;//æ—‹è½¬çš„ç¨‹åº¦\r\n\r\n    private Transform cameraTrans;//å­ç‰©ä½“å˜›ï½žä¸»ç›¸æœºTransï¼Œè¦æ”¹YZæ•°å€¼\r\n    [SerializeField] private Vector3 zoomAmount;//è¦æ”¹YZæ•°å€¼ï¼Œè®¾ç½®zoomAmountç»“æž„ä½“ä¸­YZçš„æ•°å€¼\r\n    private Vector3 newZoom;\r\n\r\n    private Vector3 dragStartPos, dragCurrentPos;//é¼ æ ‡æ‹–æ‹½çš„èµ·å§‹ç‚¹ï¼Œå’Œé¼ æ ‡æ‹–æ‹½çš„å½“å‰ä½ç½®\r\n    private Vector3 rotateStart, rotateCurrent;//é¼ æ ‡åˆå§‹ä½ç½®å’Œå½“å‰ä½ç½®ï¼Œç”¨æ¥è®¡ç®—ç›¸æœºæ—‹è½¬è§’åº¦\r\n\r\n    private void Start()\r\n    {\r\n        newPos = transform.position;\r\n        newRotation = transform.rotation;\r\n\r\n        cameraTrans = transform.GetChild(0);\r\n        newZoom = cameraTrans.localPosition;\r\n    }\r\n\r\n    private void Update()\r\n    {\r\n        HandleMovementInput();//é€šè¿‡é”®ç›˜æŽ§åˆ¶ç›¸æœº\r\n        HandleMouseInput();//é€šè¿‡é¼ æ ‡æŽ§åˆ¶ç›¸æœº\r\n    }\r\n\r\n    private void HandleMouseInput()\r\n    {\r\n        if(Input.GetMouseButtonDown(1))//é¼ æ ‡æŒ‰ä¸‹ä¸€çž¬é—´ï¼\r\n        {\r\n            Plane plane = new Plane(Vector3.up, Vector3.zero);\r\n            Ray ray = Camera.main.ScreenPointToRay(Input.mousePosition);\r\n            float distance;\r\n            if(plane.Raycast(ray, out distance))//outè¾“å‡ºå‚æ•°ï¼Œä¸€èˆ¬æ–¹æ³•è¿”å›žä¸€ä¸ªæ•°å€¼ï¼Œoutåˆ™è¿”å›žreturnå’Œoutæ•°å€¼ï¼Œ2ä¸ªç»“æžœ\r\n            {\r\n                dragStartPos = ray.GetPoint(distance);\r\n            }\r\n        }\r\n\r\n        if (Input.GetMouseButton(1))//é¼ æ ‡æŒ‰ç€ï¼ˆå½“å‰ï¼‰\r\n        {\r\n            Plane plane = new Plane(Vector3.up, Vector3.zero);\r\n            Ray ray = Camera.main.ScreenPointToRay(Input.mousePosition);\r\n            float distance;\r\n            if (plane.Raycast(ray, out distance))//outè¾“å‡ºå‚æ•°ï¼Œä¸€èˆ¬æ–¹æ³•è¿”å›žä¸€ä¸ªæ•°å€¼ï¼Œoutåˆ™è¿”å›žreturnå’Œoutæ•°å€¼ï¼Œ2ä¸ªç»“æžœ\r\n            {\r\n                dragCurrentPos = ray.GetPoint(distance);\r\n\r\n                Vector3 difference = dragStartPos - dragCurrentPos;//å¤§å®¶å¯ä»¥è¯•è¯•åè¿‡æ¥å†™ï¼Œæ•ˆæžœé›·åŒåªæ˜¯æ–¹å‘ç›¸å\r\n                newPos = transform.position + difference;\r\n            }\r\n        }\r\n\r\n        newZoom += Input.mouseScrollDelta.y * zoomAmount;\r\n\r\n        if (Input.GetMouseButtonDown(2))\r\n            rotateStart = Input.mousePosition;\r\n        if(Input.GetMouseButton(2))\r\n        {\r\n            rotateCurrent = Input.mousePosition;\r\n            Vector3 difference = rotateStart - rotateCurrent;\r\n\r\n            rotateStart = rotateCurrent;//èµ‹å€¼æœ€æ–°çš„é¼ æ ‡ä½ç½®\r\n            newRotation *= Quaternion.Euler(Vector3.up * -difference.x / 20);//æ°´å¹³æ–¹å‘è§¦å‘æ—‹è½¬\r\n            //newRotation *= Quaternion.Euler(Vector3.up * -difference.y / 20);//åž‚ç›´æ–¹å‘\r\n        }\r\n    }\r\n\r\n    private void HandleMovementInput()\r\n    {\r\n        if (Input.GetKey(KeyCode.LeftShift))\r\n            panSpeed = fastSpeed;\r\n        else\r\n            panSpeed = normalSpeed;\r\n\r\n        if (Input.GetKey(KeyCode.UpArrow) || Input.GetKey(KeyCode.W))\r\n            newPos += transform.forward * panSpeed * Time.deltaTime;//ç›¸æœºå¹³ç§»å‘ä¸Š\r\n        if (Input.GetKey(KeyCode.DownArrow) || Input.GetKey(KeyCode.S))\r\n            newPos -= transform.forward * panSpeed * Time.deltaTime;\r\n        if (Input.GetKey(KeyCode.RightArrow) || Input.GetKey(KeyCode.D))\r\n            newPos += transform.right * panSpeed * Time.deltaTime;//ç›¸æœºå¹³ç§»å‘å³\r\n        if(Input.GetKey(KeyCode.LeftArrow) || Input.GetKey(KeyCode.A))\r\n            newPos -= transform.right * panSpeed * Time.deltaTime;\r\n\r\n        if (Input.GetKey(KeyCode.Q))\r\n            newRotation *= Quaternion.Euler(Vector3.up * rotationAmount);//Qï¼šé€†æ—¶é’ˆ\r\n        if (Input.GetKey(KeyCode.E))\r\n            newRotation *= Quaternion.Euler(Vector3.down * rotationAmount);//(0,-1,0)é¡ºæ—¶é’ˆ\r\n\r\n        if (Input.GetKey(KeyCode.R))\r\n            newZoom += zoomAmount;//æ”¾å¤§åŠŸèƒ½ï¼šYè¶Šæ¥è¶Šå°ï¼ŒZè¶Šæ¥è¶Šå¤§\r\n        if (Input.GetKey(KeyCode.F))\r\n            newZoom -= zoomAmount;//ç¼©å°ï¼šYè¶Šæ¥è¶Šå¤§ï¼ŒZè¶Šæ¥è¶Šå°\r\n\r\n        //transform.position = newPos;//AxisRaw / Axis\r\n        //Lerpæ–¹æ³•ï¼šå½“å‰ä½ç½®ï¼Œç›®æ ‡ä½ç½®ï¼Œæœ€å¤§è·ç¦»ï¼šé€Ÿåº¦ * æ—¶é—´ =>ä»Žå½“å‰ä½ç½®ï¼Œåˆ°ç›®æ ‡ä½ç½®ï¼Œéœ€è¦å¤šå°‘æ—¶é—´åˆ°è¾¾\r\n        transform.position = Vector3.Lerp(transform.position, newPos, moveTime * Time.deltaTime);\r\n\r\n        //transform.rotation = newRotation;\r\n        transform.rotation = Quaternion.Lerp(transform.rotation, newRotation, moveTime * Time.deltaTime);\r\n\r\n        cameraTrans.localPosition = Vector3.Lerp(cameraTrans.localPosition, newZoom, moveTime * Time.deltaTime);\r\n    }\r\n}\r\n```\r\n\r\nrtsç›¸æœºéƒ¨åˆ†ä»£ç æ¥è‡ªï¼š\r\nhttps://github.com/zheyuanzhou/EP00_RTSCamera/tree/main","src/content/posts/unity_001.md","b902277b5ca97ce6",{"html":107,"metadata":108},"\u003Ch1 id=\"unity-è‡ªç”±ç›¸æœº\">Unity è‡ªç”±ç›¸æœº\u003C/h1>\n\u003Ch3 id=\"æ“ä½œæ–¹å¼\">æ“ä½œæ–¹å¼\u003C/h3>\n\u003Cul>\n\u003Cli>WASDæ°´å¹³ç§»åŠ¨ (æŒ‰ä½å·¦SHIFTåŠ é€Ÿç§»åŠ¨)\u003C/li>\n\u003Cli>QEåž‚ç›´ç§»åŠ¨\u003C/li>\n\u003Cli>é¼ æ ‡å³é”®æŒ‰ä¸‹æ—‹è½¬è§†è§’\u003C/li>\n\u003C/ul>\n\u003Ch3 id=\"ä»£ç å†…å®¹\">ä»£ç å†…å®¹\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"csharp\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">using\u003C/span>\u003Cspan style=\"color:#B392F0\"> UnityEngine\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">/// &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">summary\u003C/span>\u003Cspan style=\"color:#6A737D\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">/// è‡ªç”±ç›¸æœº\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">/// &#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">summary\u003C/span>\u003Cspan style=\"color:#6A737D\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">public\u003C/span>\u003Cspan style=\"color:#F97583\"> class\u003C/span>\u003Cspan style=\"color:#B392F0\"> FreeCamera\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> : \u003C/span>\u003Cspan style=\"color:#B392F0\">MonoBehaviour\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    [\u003C/span>\u003Cspan style=\"color:#B392F0\">Tooltip\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"æ°´å¹³ç§»åŠ¨é€Ÿåº¦\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)] \u003C/span>\u003Cspan style=\"color:#F97583\">public\u003C/span>\u003Cspan style=\"color:#F97583\"> float\u003C/span>\u003Cspan style=\"color:#B392F0\"> horizontalSpeed\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 50f\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#6A737D\">//æ°´å¹³ç§»åŠ¨é€Ÿåº¦\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    [\u003C/span>\u003Cspan style=\"color:#B392F0\">Tooltip\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"åž‚ç›´ç§»åŠ¨é€Ÿåº¦\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)] \u003C/span>\u003Cspan style=\"color:#F97583\">public\u003C/span>\u003Cspan style=\"color:#F97583\"> float\u003C/span>\u003Cspan style=\"color:#B392F0\"> verticalSpeed\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 10f\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#6A737D\">//åž‚ç›´ç§»åŠ¨é€Ÿåº¦\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    [\u003C/span>\u003Cspan style=\"color:#B392F0\">Tooltip\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"é¼ æ ‡æ—‹è½¬é€Ÿåº¦\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)] \u003C/span>\u003Cspan style=\"color:#F97583\">public\u003C/span>\u003Cspan style=\"color:#F97583\"> float\u003C/span>\u003Cspan style=\"color:#B392F0\"> rotationSpeed\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 2f\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#6A737D\">//æ—‹è½¬é€Ÿåº¦\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> float\u003C/span>\u003Cspan style=\"color:#B392F0\"> _rotationX\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#6A737D\">//ä¸Šä¸‹æ—‹è½¬è§’åº¦\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    public\u003C/span>\u003Cspan style=\"color:#F97583\"> void\u003C/span>\u003Cspan style=\"color:#B392F0\"> Update\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        HandleMove\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        HandleRotate\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    /// &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">summary\u003C/span>\u003Cspan style=\"color:#6A737D\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    /// ç›¸æœºç§»åŠ¨\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    /// &#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">summary\u003C/span>\u003Cspan style=\"color:#6A737D\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> void\u003C/span>\u003Cspan style=\"color:#B392F0\"> HandleMove\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">        //è§†è§’å¹³è¡Œç§»åŠ¨\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        var\u003C/span>\u003Cspan style=\"color:#B392F0\"> horizontal\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetAxis\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Horizontal\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        var\u003C/span>\u003Cspan style=\"color:#B392F0\"> vertical\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetAxis\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Vertical\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        var\u003C/span>\u003Cspan style=\"color:#B392F0\"> direction\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> horizontalSpeed \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Time.deltaTime \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Vector3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(horizontal, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0f\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, vertical);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetKey\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(KeyCode.LeftShift))  \u003C/span>\u003Cspan style=\"color:#6A737D\">//æŒ‰Shiftç§»åŠ¨åŠ é€Ÿ\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            direction \u003C/span>\u003Cspan style=\"color:#F97583\">*=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">Translate\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(direction);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">        //  æŽ§åˆ¶æ‘„åƒæœºåž‚ç›´ç§»åŠ¨\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetKey\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(KeyCode.Q))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">+=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> transform.up \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (verticalSpeed \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Time.deltaTime);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        else\u003C/span>\u003Cspan style=\"color:#F97583\"> if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetKey\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(KeyCode.E))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">-=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> transform.up \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (verticalSpeed \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Time.deltaTime);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    /// &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">summary\u003C/span>\u003Cspan style=\"color:#6A737D\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    /// è§†è§’æ—‹è½¬\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    /// &#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">summary\u003C/span>\u003Cspan style=\"color:#6A737D\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> void\u003C/span>\u003Cspan style=\"color:#B392F0\"> HandleRotate\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetMouseButton\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">            var\u003C/span>\u003Cspan style=\"color:#B392F0\"> mouseX\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetAxis\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Mouse X\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> rotationSpeed;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">            var\u003C/span>\u003Cspan style=\"color:#B392F0\"> mouseY\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetAxis\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Mouse Y\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> rotationSpeed;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            _rotationX \u003C/span>\u003Cspan style=\"color:#F97583\">-=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> mouseY;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            _rotationX \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Mathf.\u003C/span>\u003Cspan style=\"color:#B392F0\">Clamp\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(_rotationX, \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\">90\u003C/span>\u003Cspan style=\"color:#E1E4E8\">ï¼Œ \u003C/span>\u003Cspan style=\"color:#79B8FF\">90\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            transform.localRotation \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Quaternion.\u003C/span>\u003Cspan style=\"color:#B392F0\">Euler\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(_rotationX, transform.localEulerAngles.y, \u003C/span>\u003Cspan style=\"color:#79B8FF\">0f\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">Rotate\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(Vector3.up \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> mouseX, Space.World);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch1 id=\"unity-rtsç›¸æœº1\">Unity RTSç›¸æœº1\u003C/h1>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"csharp\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">using\u003C/span>\u003Cspan style=\"color:#B392F0\"> UnityEngine\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">public\u003C/span>\u003Cspan style=\"color:#F97583\"> class\u003C/span>\u003Cspan style=\"color:#B392F0\"> CameraController01\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> : \u003C/span>\u003Cspan style=\"color:#B392F0\">MonoBehaviour\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#B392F0\"> Vector3\u003C/span>\u003Cspan style=\"color:#B392F0\"> moveInput\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003Cspan style=\"color:#6A737D\">//æŽ¥æ”¶é”®ç›˜çš„è¾“å…¥é‡\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    [\u003C/span>\u003Cspan style=\"color:#B392F0\">SerializeField\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] \u003C/span>\u003Cspan style=\"color:#F97583\">private\u003C/span>\u003Cspan style=\"color:#F97583\"> float\u003C/span>\u003Cspan style=\"color:#B392F0\"> panSpeed\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003Cspan style=\"color:#6A737D\">//ç›¸æœºå¹³ç§»çš„é€Ÿåº¦\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    [\u003C/span>\u003Cspan style=\"color:#B392F0\">SerializeField\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] \u003C/span>\u003Cspan style=\"color:#F97583\">private\u003C/span>\u003Cspan style=\"color:#F97583\"> float\u003C/span>\u003Cspan style=\"color:#B392F0\"> scrollSpeed\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003Cspan style=\"color:#6A737D\">//é¼ æ ‡æ»šåŠ¨çš„é€Ÿåº¦\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> void\u003C/span>\u003Cspan style=\"color:#B392F0\"> Update\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        HandleMovementInput\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> void\u003C/span>\u003Cspan style=\"color:#B392F0\"> HandleMovementInput\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">        //æˆ‘ä»¬å…¶å®žåŠ¨æ€æ”¹å˜çš„æ˜¯Main Cameraçš„Transç»„ä»¶çš„Pos\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        Vector3\u003C/span>\u003Cspan style=\"color:#B392F0\"> pos\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> transform.position;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">        //moveInput = new Vector3(Input.GetAxisRaw(\"Horizontal\"), 0, Input.GetAxisRaw(\"Vertical\"));//æ€§èƒ½ï¼Ÿ\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        moveInput.\u003C/span>\u003Cspan style=\"color:#B392F0\">Set\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetAxisRaw\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Horizontal\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">), \u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetAxisRaw\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Vertical\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">));\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        Vector2\u003C/span>\u003Cspan style=\"color:#B392F0\"> mousePos\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Input.mousePosition;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (mousePos.x \u003C/span>\u003Cspan style=\"color:#F97583\">>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Screen.width \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.9f\u003C/span>\u003Cspan style=\"color:#F97583\"> &#x26;&#x26;\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> mousePos.x \u003C/span>\u003Cspan style=\"color:#F97583\">&#x3C;\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Screen.width)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            moveInput.x \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (mousePos.x \u003C/span>\u003Cspan style=\"color:#F97583\">&#x3C;\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Screen.width \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.1f\u003C/span>\u003Cspan style=\"color:#F97583\"> &#x26;&#x26;\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> mousePos.x \u003C/span>\u003Cspan style=\"color:#F97583\">>\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            moveInput.x \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#F97583\"> -\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (mousePos.y \u003C/span>\u003Cspan style=\"color:#F97583\">>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Screen.height \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.9\u003C/span>\u003Cspan style=\"color:#F97583\"> &#x26;&#x26;\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> mousePos.y \u003C/span>\u003Cspan style=\"color:#F97583\">&#x3C;\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Screen.height)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            moveInput.z \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (mousePos.y \u003C/span>\u003Cspan style=\"color:#F97583\">&#x3C;\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Screen.height \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.1\u003C/span>\u003Cspan style=\"color:#F97583\"> &#x26;&#x26;\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> mousePos.y \u003C/span>\u003Cspan style=\"color:#F97583\">>\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            moveInput.z \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#F97583\"> -\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">        //pos += moveInput * panSpeed * Time.deltaTime;//ERROR\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">        //pos += moveInput.normalized * panSpeed * Time.deltaTime;//åŒ€é€Ÿè¿åŠ¨ï¼Œå½’ä¸€åŒ–/å‘é‡åŒ–\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        pos.x \u003C/span>\u003Cspan style=\"color:#F97583\">+=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> moveInput.normalized.x \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> panSpeed \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Time.deltaTime;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        pos.y \u003C/span>\u003Cspan style=\"color:#F97583\">+=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetAxis\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Mouse ScrollWheel\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> scrollSpeed \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Time.deltaTime;\u003C/span>\u003Cspan style=\"color:#6A737D\">//Yè½´æ»šè½®è¾“å…¥é‡\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        pos.z \u003C/span>\u003Cspan style=\"color:#F97583\">+=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> moveInput.normalized.z \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> panSpeed \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Time.deltaTime;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        pos.x \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Mathf.\u003C/span>\u003Cspan style=\"color:#B392F0\">Clamp\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(pos.x, \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\">10\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">10\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        pos.y \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Mathf.\u003C/span>\u003Cspan style=\"color:#B392F0\">Clamp\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(pos.y, \u003C/span>\u003Cspan style=\"color:#79B8FF\">5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">30\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        pos.z \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Mathf.\u003C/span>\u003Cspan style=\"color:#B392F0\">Clamp\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(pos.z, \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\">25\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">5\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003Cspan style=\"color:#6A737D\">//æ ¹æ®è‡ªå·±çš„åœ°å›¾èŒƒå›´è¿›è¡Œè°ƒæ•´ï¼Œå¯ä»¥è®¾ç½®ä¸ºå˜é‡ï¼Œæ–¹ä¾¿å˜›ï¼\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> pos;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch1 id=\"unity-rtsç›¸æœº2\">Unity RTSç›¸æœº2\u003C/h1>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"csharp\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">using\u003C/span>\u003Cspan style=\"color:#B392F0\"> System\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">using\u003C/span>\u003Cspan style=\"color:#B392F0\"> UnityEngine\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">public\u003C/span>\u003Cspan style=\"color:#F97583\"> class\u003C/span>\u003Cspan style=\"color:#B392F0\"> CameraController02\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> : \u003C/span>\u003Cspan style=\"color:#B392F0\">MonoBehaviour\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> float\u003C/span>\u003Cspan style=\"color:#B392F0\"> panSpeed\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    [\u003C/span>\u003Cspan style=\"color:#B392F0\">SerializeField\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] \u003C/span>\u003Cspan style=\"color:#F97583\">private\u003C/span>\u003Cspan style=\"color:#F97583\"> float\u003C/span>\u003Cspan style=\"color:#B392F0\"> moveTime\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003Cspan style=\"color:#6A737D\">//ç¼“å†²æ—¶é—´ï¼Œç”¨äºŽä¹‹åŽçš„Vector3.Lerpå’ŒQuaternion.Lerpæ–¹æ³•/å‡½æ•°\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    [\u003C/span>\u003Cspan style=\"color:#B392F0\">SerializeField\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] \u003C/span>\u003Cspan style=\"color:#F97583\">private\u003C/span>\u003Cspan style=\"color:#F97583\"> float\u003C/span>\u003Cspan style=\"color:#B392F0\"> normalSpeed\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#B392F0\">fastSpeed\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#B392F0\"> Vector3\u003C/span>\u003Cspan style=\"color:#B392F0\"> newPos\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#B392F0\"> Quaternion\u003C/span>\u003Cspan style=\"color:#B392F0\"> newRotation\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    [\u003C/span>\u003Cspan style=\"color:#B392F0\">SerializeField\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] \u003C/span>\u003Cspan style=\"color:#F97583\">private\u003C/span>\u003Cspan style=\"color:#F97583\"> float\u003C/span>\u003Cspan style=\"color:#B392F0\"> rotationAmount\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003Cspan style=\"color:#6A737D\">//æ—‹è½¬çš„ç¨‹åº¦\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#B392F0\"> Transform\u003C/span>\u003Cspan style=\"color:#B392F0\"> cameraTrans\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003Cspan style=\"color:#6A737D\">//å­ç‰©ä½“å˜›ï½žä¸»ç›¸æœºTransï¼Œè¦æ”¹YZæ•°å€¼\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    [\u003C/span>\u003Cspan style=\"color:#B392F0\">SerializeField\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] \u003C/span>\u003Cspan style=\"color:#F97583\">private\u003C/span>\u003Cspan style=\"color:#B392F0\"> Vector3\u003C/span>\u003Cspan style=\"color:#B392F0\"> zoomAmount\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003Cspan style=\"color:#6A737D\">//è¦æ”¹YZæ•°å€¼ï¼Œè®¾ç½®zoomAmountç»“æž„ä½“ä¸­YZçš„æ•°å€¼\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#B392F0\"> Vector3\u003C/span>\u003Cspan style=\"color:#B392F0\"> newZoom\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#B392F0\"> Vector3\u003C/span>\u003Cspan style=\"color:#B392F0\"> dragStartPos\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#B392F0\">dragCurrentPos\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003Cspan style=\"color:#6A737D\">//é¼ æ ‡æ‹–æ‹½çš„èµ·å§‹ç‚¹ï¼Œå’Œé¼ æ ‡æ‹–æ‹½çš„å½“å‰ä½ç½®\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#B392F0\"> Vector3\u003C/span>\u003Cspan style=\"color:#B392F0\"> rotateStart\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#B392F0\">rotateCurrent\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003Cspan style=\"color:#6A737D\">//é¼ æ ‡åˆå§‹ä½ç½®å’Œå½“å‰ä½ç½®ï¼Œç”¨æ¥è®¡ç®—ç›¸æœºæ—‹è½¬è§’åº¦\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> void\u003C/span>\u003Cspan style=\"color:#B392F0\"> Start\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        newPos \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> transform.position;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        newRotation \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> transform.rotation;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        cameraTrans \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> transform.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetChild\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        newZoom \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> cameraTrans.localPosition;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> void\u003C/span>\u003Cspan style=\"color:#B392F0\"> Update\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        HandleMovementInput\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003Cspan style=\"color:#6A737D\">//é€šè¿‡é”®ç›˜æŽ§åˆ¶ç›¸æœº\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        HandleMouseInput\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003Cspan style=\"color:#6A737D\">//é€šè¿‡é¼ æ ‡æŽ§åˆ¶ç›¸æœº\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> void\u003C/span>\u003Cspan style=\"color:#B392F0\"> HandleMouseInput\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetMouseButtonDown\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">))\u003C/span>\u003Cspan style=\"color:#6A737D\">//é¼ æ ‡æŒ‰ä¸‹ä¸€çž¬é—´ï¼\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">            Plane\u003C/span>\u003Cspan style=\"color:#B392F0\"> plane\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Plane\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(Vector3.up, Vector3.zero);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">            Ray\u003C/span>\u003Cspan style=\"color:#B392F0\"> ray\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Camera.main.\u003C/span>\u003Cspan style=\"color:#B392F0\">ScreenPointToRay\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(Input.mousePosition);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">            float\u003C/span>\u003Cspan style=\"color:#B392F0\"> distance\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">            if\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(plane.\u003C/span>\u003Cspan style=\"color:#B392F0\">Raycast\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(ray, \u003C/span>\u003Cspan style=\"color:#F97583\">out\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> distance))\u003C/span>\u003Cspan style=\"color:#6A737D\">//outè¾“å‡ºå‚æ•°ï¼Œä¸€èˆ¬æ–¹æ³•è¿”å›žä¸€ä¸ªæ•°å€¼ï¼Œoutåˆ™è¿”å›žreturnå’Œoutæ•°å€¼ï¼Œ2ä¸ªç»“æžœ\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">                dragStartPos \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> ray.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetPoint\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(distance);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetMouseButton\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">))\u003C/span>\u003Cspan style=\"color:#6A737D\">//é¼ æ ‡æŒ‰ç€ï¼ˆå½“å‰ï¼‰\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">            Plane\u003C/span>\u003Cspan style=\"color:#B392F0\"> plane\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Plane\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(Vector3.up, Vector3.zero);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">            Ray\u003C/span>\u003Cspan style=\"color:#B392F0\"> ray\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Camera.main.\u003C/span>\u003Cspan style=\"color:#B392F0\">ScreenPointToRay\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(Input.mousePosition);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">            float\u003C/span>\u003Cspan style=\"color:#B392F0\"> distance\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">            if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (plane.\u003C/span>\u003Cspan style=\"color:#B392F0\">Raycast\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(ray, \u003C/span>\u003Cspan style=\"color:#F97583\">out\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> distance))\u003C/span>\u003Cspan style=\"color:#6A737D\">//outè¾“å‡ºå‚æ•°ï¼Œä¸€èˆ¬æ–¹æ³•è¿”å›žä¸€ä¸ªæ•°å€¼ï¼Œoutåˆ™è¿”å›žreturnå’Œoutæ•°å€¼ï¼Œ2ä¸ªç»“æžœ\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">                dragCurrentPos \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> ray.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetPoint\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(distance);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">                Vector3\u003C/span>\u003Cspan style=\"color:#B392F0\"> difference\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> dragStartPos \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> dragCurrentPos;\u003C/span>\u003Cspan style=\"color:#6A737D\">//å¤§å®¶å¯ä»¥è¯•è¯•åè¿‡æ¥å†™ï¼Œæ•ˆæžœé›·åŒåªæ˜¯æ–¹å‘ç›¸å\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">                newPos \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> difference;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        newZoom \u003C/span>\u003Cspan style=\"color:#F97583\">+=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Input.mouseScrollDelta.y \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> zoomAmount;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetMouseButtonDown\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            rotateStart \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Input.mousePosition;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetMouseButton\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            rotateCurrent \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Input.mousePosition;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">            Vector3\u003C/span>\u003Cspan style=\"color:#B392F0\"> difference\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> rotateStart \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> rotateCurrent;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            rotateStart \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> rotateCurrent;\u003C/span>\u003Cspan style=\"color:#6A737D\">//èµ‹å€¼æœ€æ–°çš„é¼ æ ‡ä½ç½®\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            newRotation \u003C/span>\u003Cspan style=\"color:#F97583\">*=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Quaternion.\u003C/span>\u003Cspan style=\"color:#B392F0\">Euler\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(Vector3.up \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#F97583\"> -\u003C/span>\u003Cspan style=\"color:#E1E4E8\">difference.x \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 20\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003Cspan style=\"color:#6A737D\">//æ°´å¹³æ–¹å‘è§¦å‘æ—‹è½¬\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">            //newRotation *= Quaternion.Euler(Vector3.up * -difference.y / 20);//åž‚ç›´æ–¹å‘\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    private\u003C/span>\u003Cspan style=\"color:#F97583\"> void\u003C/span>\u003Cspan style=\"color:#B392F0\"> HandleMovementInput\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetKey\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(KeyCode.LeftShift))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            panSpeed \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> fastSpeed;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        else\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            panSpeed \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> normalSpeed;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetKey\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(KeyCode.UpArrow) \u003C/span>\u003Cspan style=\"color:#F97583\">||\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetKey\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(KeyCode.W))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            newPos \u003C/span>\u003Cspan style=\"color:#F97583\">+=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> transform.forward \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> panSpeed \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Time.deltaTime;\u003C/span>\u003Cspan style=\"color:#6A737D\">//ç›¸æœºå¹³ç§»å‘ä¸Š\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetKey\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(KeyCode.DownArrow) \u003C/span>\u003Cspan style=\"color:#F97583\">||\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetKey\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(KeyCode.S))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            newPos \u003C/span>\u003Cspan style=\"color:#F97583\">-=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> transform.forward \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> panSpeed \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Time.deltaTime;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetKey\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(KeyCode.RightArrow) \u003C/span>\u003Cspan style=\"color:#F97583\">||\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetKey\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(KeyCode.D))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            newPos \u003C/span>\u003Cspan style=\"color:#F97583\">+=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> transform.right \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> panSpeed \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Time.deltaTime;\u003C/span>\u003Cspan style=\"color:#6A737D\">//ç›¸æœºå¹³ç§»å‘å³\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetKey\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(KeyCode.LeftArrow) \u003C/span>\u003Cspan style=\"color:#F97583\">||\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetKey\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(KeyCode.A))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            newPos \u003C/span>\u003Cspan style=\"color:#F97583\">-=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> transform.right \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> panSpeed \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Time.deltaTime;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetKey\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(KeyCode.Q))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            newRotation \u003C/span>\u003Cspan style=\"color:#F97583\">*=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Quaternion.\u003C/span>\u003Cspan style=\"color:#B392F0\">Euler\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(Vector3.up \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> rotationAmount);\u003C/span>\u003Cspan style=\"color:#6A737D\">//Qï¼šé€†æ—¶é’ˆ\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetKey\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(KeyCode.E))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            newRotation \u003C/span>\u003Cspan style=\"color:#F97583\">*=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Quaternion.\u003C/span>\u003Cspan style=\"color:#B392F0\">Euler\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(Vector3.down \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> rotationAmount);\u003C/span>\u003Cspan style=\"color:#6A737D\">//(0,-1,0)é¡ºæ—¶é’ˆ\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetKey\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(KeyCode.R))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            newZoom \u003C/span>\u003Cspan style=\"color:#F97583\">+=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> zoomAmount;\u003C/span>\u003Cspan style=\"color:#6A737D\">//æ”¾å¤§åŠŸèƒ½ï¼šYè¶Šæ¥è¶Šå°ï¼ŒZè¶Šæ¥è¶Šå¤§\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (Input.\u003C/span>\u003Cspan style=\"color:#B392F0\">GetKey\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(KeyCode.F))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            newZoom \u003C/span>\u003Cspan style=\"color:#F97583\">-=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> zoomAmount;\u003C/span>\u003Cspan style=\"color:#6A737D\">//ç¼©å°ï¼šYè¶Šæ¥è¶Šå¤§ï¼ŒZè¶Šæ¥è¶Šå°\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">        //transform.position = newPos;//AxisRaw / Axis\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">        //Lerpæ–¹æ³•ï¼šå½“å‰ä½ç½®ï¼Œç›®æ ‡ä½ç½®ï¼Œæœ€å¤§è·ç¦»ï¼šé€Ÿåº¦ * æ—¶é—´ =>ä»Žå½“å‰ä½ç½®ï¼Œåˆ°ç›®æ ‡ä½ç½®ï¼Œéœ€è¦å¤šå°‘æ—¶é—´åˆ°è¾¾\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        transform.position \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Vector3.\u003C/span>\u003Cspan style=\"color:#B392F0\">Lerp\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(transform.position, newPos, moveTime \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Time.deltaTime);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">        //transform.rotation = newRotation;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        transform.rotation \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Quaternion.\u003C/span>\u003Cspan style=\"color:#B392F0\">Lerp\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(transform.rotation, newRotation, moveTime \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Time.deltaTime);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        cameraTrans.localPosition \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Vector3.\u003C/span>\u003Cspan style=\"color:#B392F0\">Lerp\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(cameraTrans.localPosition, newZoom, moveTime \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Time.deltaTime);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>rtsç›¸æœºéƒ¨åˆ†ä»£ç æ¥è‡ªï¼š\r\n\u003Ca href=\"https://github.com/zheyuanzhou/EP00_RTSCamera/tree/main\">https://github.com/zheyuanzhou/EP00_RTSCamera/tree/main\u003C/a>\u003C/p>",{"headings":109,"localImagePaths":123,"remoteImagePaths":124,"frontmatter":102,"imagePaths":125},[110,113,115,117,120],{"depth":20,"slug":111,"text":112},"unity-è‡ªç”±ç›¸æœº","Unity è‡ªç”±ç›¸æœº",{"depth":47,"slug":114,"text":114},"æ“ä½œæ–¹å¼",{"depth":47,"slug":116,"text":116},"ä»£ç å†…å®¹",{"depth":20,"slug":118,"text":119},"unity-rtsç›¸æœº1","Unity RTSç›¸æœº1",{"depth":20,"slug":121,"text":122},"unity-rtsç›¸æœº2","Unity RTSç›¸æœº2",[],[],[],"unity_001.md","post_20251226070813",{"id":127,"data":129,"body":130,"filePath":131,"digest":132,"rendered":133,"legacyId":187},{},"# Unity æ— äººæœºç‰©ç†æ¨¡æ‹Ÿå¼€å‘æ—¥å¿—ï¼šä»Žé›¶æ‰“é€ ç©¿è¶Šæœºæ‰‹æ„Ÿ\r\n\r\n> **æ‘˜è¦**ï¼šæœ¬æ–‡è®°å½•äº†åœ¨ Unity ä¸­æž„å»ºä¸€ä¸ªé«˜æ‹ŸçœŸ FPV ç©¿è¶Šæœºï¼ˆDroneï¼‰ç‰©ç†æ¨¡æ‹Ÿç³»ç»Ÿçš„è¿‡ç¨‹ã€‚ä»ŽåŸºç¡€çš„ PID æŽ§åˆ¶åˆ°å¼•å…¥ç©ºæ°”åŠ¨åŠ›å­¦é˜»åŠ›ã€åœ°é¢æ•ˆåº”å’Œç”µæœºæƒ¯æ€§ï¼Œä¸€æ­¥æ­¥é€¼è¿‘çœŸå®žçš„é£žè¡Œæ‰‹æ„Ÿã€‚\r\n\r\n---\r\nçŽ¯å¢ƒï¼š`Unity 2022.3.57c1f1` `Window10`  \r\n\r\n\r\n![cad859e8da0f4a42b86025f0b7122778.png](/uploads/images/1766733359777-825864655.png)\r\n\r\n\r\n### å¼€æºä»“åº“åœ°å€\r\n[Unityå¼•æ“Žå¼€å‘çš„æ— äººæœºæ¨¡æ‹Ÿç³»ç»Ÿ](https://gitee.com/youlai-code/unity-drone.git)\r\n### æ¼”ç¤ºè§†é¢‘ï¼š  \r\n[Unityæ— äººæœºä»¿çœŸ-bilbil](https://www.bilibili.com/video/BV1Y8BVB9Edu/?share_source=copy_web&vd_source=996906670f4a2574b3c77132cb5ebda3)\r\n\u003Ciframe src=\"//player.bilibili.com/player.html?isOutside=true&aid=115772286377550&bvid=BV1Y8BVB9Edu&cid=34941700066&p=1\" scrolling=\"no\" border=\"0\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\">\u003C/iframe>\r\n\r\n---\r\n# åŠŸèƒ½ä»‹ç»\r\n##  è¾“å…¥ç³»ç»Ÿ\r\n\r\næœ€åˆçš„å®žçŽ°ä½¿ç”¨é”®ç›˜é¼ æ ‡æŽ§åˆ¶ï¼Œä½†è¿™å¯¹äºŽæ¨¡æ‹Ÿç©¿è¶Šæœºæ¥è¯´å®Œå…¨ä¸å¤Ÿã€‚çœŸå®žçš„ç©¿è¶Šæœºéœ€è¦ç»†è…»çš„æ¨¡æ‹Ÿé‡è¾“å…¥ã€‚\r\n\r\n\r\n![Gemini_Generated_Image_gczo5ggczo5ggczo.jpg](/uploads/images/1766732941939-2276967.jpg)\r\n\r\n\r\n---\r\n\r\n## æ ¸å¿ƒç‰©ç†å¼•æ“Ž\r\n\r\nUnity çš„ `Rigidbody` æä¾›äº†åŸºç¡€ç‰©ç†ï¼Œä½†è¦é£žå¾—åƒç©¿è¶Šæœºï¼Œå¿…é¡»æ‰‹åŠ¨è®¡ç®—åŠ›å’ŒåŠ›çŸ©ã€‚\r\n\r\n### PID æŽ§åˆ¶å™¨ (Rate Loop)\r\nè¿™æ˜¯é£žæŽ§çš„çµé­‚ã€‚æˆ‘ä»¬å®žçŽ°äº†ä¸‰ä¸ªç‹¬ç«‹çš„ PID æŽ§åˆ¶å™¨åˆ†åˆ«æŽ§åˆ¶ Pitchã€Roll å’Œ Yaw çš„**è§’é€Ÿåº¦**ã€‚\r\n**PID**çš„ä»‹ç»è¯·çœ‹æˆ‘çš„å¦å¤–ä¸€ç¯‡æ–‡æ¡£ï¼š  [PIDç®—æ³•](https://blog.csdn.net/wa36d/article/details/145108722?spm=1001.2014.3001.5502)\r\n*   **ç›®æ ‡**ï¼šæ‘‡æ†è¾“å…¥ = ç›®æ ‡è§’é€Ÿåº¦ï¼ˆä¾‹å¦‚æ»¡æ† 200åº¦/ç§’ï¼‰ã€‚\r\n*   **åé¦ˆ**ï¼š`rb.angularVelocity`ã€‚\r\n*   **è¾“å‡º**ï¼šPID è®¡ç®—å‡ºçš„ä¿®æ­£åŠ›çŸ©ã€‚\r\n\r\n### æ··æŽ§å™¨ (Mixer)\r\nå°† PID è¾“å‡ºåˆ†é…åˆ°å››ä¸ªç”µæœºã€‚é‡‡ç”¨æ ‡å‡†çš„ **Quad X** å¸ƒå±€ï¼š\r\n\r\n\r\n\r\n![d09f547e541e4fbeaf68b5022ca118d2.png](/uploads/images/1766734335095-585963069.png)\r\n\r\n```csharp\r\n// FL (å·¦å‰): +Pitch +Roll -Yaw\r\n// FR (å³å‰): +Pitch -Roll +Yaw\r\n// BL (å·¦åŽ): -Pitch +Roll +Yaw\r\n// BR (å³åŽ): -Pitch -Roll -Yaw\r\n```\r\n---\r\n\r\n## ç‰©ç†ç»†èŠ‚çš„æ‰“ç£¨\r\n\r\nåŸºç¡€ PID èƒ½é£žï¼Œä½†æ‰‹æ„Ÿåƒâ€œåœ¨çœŸç©ºä¸­é£žè¡Œâ€æˆ–è€…â€œå®Œç¾Žçš„åˆšä½“â€ã€‚ä¸ºäº†çœŸå®žæ„Ÿï¼Œæˆ‘å¼•å…¥äº†ä¸‰ä¸ªå…³é”®ç‰¹æ€§ï¼š\r\n\r\n### ç”µæœºæƒ¯æ€§ (Motor Inertia)\r\nçœŸå®žçš„ç”µæœºä»Ž 0 åŠ é€Ÿåˆ° 100% éœ€è¦æ—¶é—´ã€‚\r\n*   **å®žçŽ°**ï¼šä½¿ç”¨ `Mathf.Lerp` å¯¹æ²¹é—¨è¾“å…¥è¿›è¡Œä½Žé€šæ»¤æ³¢ã€‚\r\n*   **æ•ˆæžœ**ï¼šæ¶ˆé™¤äº†â€œçž¬ç§»èˆ¬â€çš„å“åº”ï¼Œç»™æ²¹é—¨å¸¦æ¥äº†ä¸€ä¸â€œè‚‰â€æ„Ÿå’Œå»¶è¿Ÿï¼Œæžå¤§æå‡äº†é‡é‡æ„Ÿã€‚\r\n```csharp\r\n    // æ›´æ–°åŠ¨åŠ› (åœ¨ FlightController çš„ FixedUpdate ä¸­è°ƒç”¨)\r\n    public void UpdatePhysics(float targetThrottle)\r\n    {\r\n        // æ¨¡æ‹Ÿç”µæœºæƒ¯æ€§ (ä¸€é˜¶ä½Žé€šæ»¤æ³¢)\r\n        // ä»Žå½“å‰æ²¹é—¨å¹³æ»‘è¿‡æ¸¡åˆ°ç›®æ ‡æ²¹é—¨\r\n        float dt = Time.fixedDeltaTime;\r\n        currentThrottle = Mathf.Lerp(currentThrottle, targetThrottle, dt * motorResponseSpeed);\r\n\r\n        // 1. æ–½åŠ å‡åŠ› (åž‚ç›´äºŽæœºè‡‚å‘ä¸Š)\r\n        Vector3 force = transform.up * (currentThrottle * maxThrust);\r\n        rb.AddForceAtPosition(force, transform.position);\r\n\r\n        // 2. æ–½åŠ åæ‰­çŸ© (YawæŽ§åˆ¶)\r\n        // é¡ºæ—¶é’ˆæ—‹è½¬çš„ç”µæœºï¼Œä¼šç»™æœºèº«æ–½åŠ é€†æ—¶é’ˆçš„æ‰­çŸ©ï¼Œåä¹‹äº¦ç„¶\r\n        float torqueDir = isClockwise ? -1f : 1f;\r\n        float torqueMagnitude = currentThrottle * maxThrust * torqueFactor * torqueDir;\r\n        rb.AddTorque(transform.up * torqueMagnitude, ForceMode.Force);\r\n    }\r\n```\r\n### åœ°é¢æ•ˆåº” (Ground Effect)\r\nå½“æ— äººæœºè´´è¿‘åœ°é¢æ—¶ï¼Œä¸‹æ´—æ°”æµå—é˜»ï¼Œå‡åŠ›ä¼šå¢žåŠ ã€‚\r\n*   **å®žçŽ°**ï¼šå‘ä¸‹å‘å°„å°„çº¿æ£€æµ‹é«˜åº¦ã€‚é«˜åº¦ \u003C 0.5m æ—¶ï¼Œæ ¹æ®è·ç¦»éžçº¿æ€§å¢žåŠ å‡åŠ›ç³»æ•°ã€‚\r\n*   **æ•ˆæžœ**ï¼šé™è½æ—¶ä¼šæœ‰æ˜Žæ˜¾çš„â€œæ°”åž«æ„Ÿâ€ï¼Œä¸ä¼šç›´æŽ¥â€œç ¸â€å‘åœ°é¢ï¼Œèµ·é£žä¹Ÿæ›´è½»ç›ˆã€‚\r\n```csharp\r\n            // --- åœ°é¢æ•ˆåº” (Ground Effect) ---\r\n            RaycastHit hit;\r\n            if (Physics.Raycast(transform.position, Vector3.down, out hit, groundEffectMaxHeight))\r\n            {\r\n                float ratio = 1.0f - (hit.distance / groundEffectMaxHeight);\r\n                float groundEffectMultiplier = 1.0f + (ratio * groundEffectLiftFactor);\r\n                \r\n                m1 *= groundEffectMultiplier;\r\n                m2 *= groundEffectMultiplier;\r\n                m3 *= groundEffectMultiplier;\r\n                m4 *= groundEffectMultiplier;\r\n            }\r\n```\r\n### éžçº¿æ€§ç©ºæ°”é˜»åŠ› (Quadratic Drag)\r\nUnity é»˜è®¤çš„ `Drag` æ˜¯çº¿æ€§çš„ ($F \\propto v$)ï¼Œè¿™è®©æ— äººæœºæ„Ÿè§‰åƒåœ¨æ°´é‡Œæ¸¸ã€‚\r\n*   **å®žçŽ°**ï¼šæ‰‹åŠ¨è®¡ç®—å¹³æ–¹é˜»åŠ› $F = -v \\cdot |v| \\cdot k$ã€‚\r\n*   **å·®å¼‚åŒ–é˜»åŠ›**ï¼š\r\n    *   **åž‚ç›´æ–¹å‘**ï¼šæœºèº«æ‰å¹³ï¼Œé˜»åŠ›ç³»æ•°å¤§ (1.0)ã€‚ä¸‹è½ä¼šæœ‰æ˜Žæ˜¾çš„ç»ˆç«¯é€Ÿåº¦ã€‚\r\n    *   **æ°´å¹³æ–¹å‘**ï¼šæœºèº«æµçº¿ï¼Œé˜»åŠ›ç³»æ•°å° (0.2)ã€‚å…è®¸é•¿è·ç¦»æƒ¯æ€§æ»‘è¡Œã€‚\r\n*   **æ•ˆæžœ**ï¼šè¿™æ˜¯æ‰‹æ„Ÿæå‡æœ€æ˜Žæ˜¾çš„ä¸€æ­¥ã€‚å‰é£žæ¾æ†åŽçš„æ»‘è¡Œæ„Ÿï¼Œä»¥åŠé«˜ç©ºä¸‹è½æ—¶çš„é€Ÿåº¦å¹³è¡¡ï¼Œéƒ½éžå¸¸æŽ¥è¿‘çœŸæœºã€‚\r\n```csharp\r\n        // è®¡ç®—å¹³æ–¹é˜»åŠ›: F = -v * |v| * dragFactor\r\n        Vector3 dragForceLocal = Vector3.zero;\r\n        dragForceLocal.x = -localVel.x * Mathf.Abs(localVel.x) * dragFactors.x;\r\n        dragForceLocal.y = -localVel.y * Mathf.Abs(localVel.y) * dragFactors.y; // åž‚ç›´é˜»åŠ›é€šå¸¸è¾ƒå¤§\r\n        dragForceLocal.z = -localVel.z * Mathf.Abs(localVel.z) * dragFactors.z;\r\n```\r\n---\r\n\r\n## é£žè¡Œæ¨¡å¼\r\n\r\næ— äººæœºæ“ä½œä¸€å…±é…ç½®äº†ä¸¤ç§æ¨¡å¼\r\n### Acro Mode (æ‰‹åŠ¨æ¨¡å¼)\r\n*   **é€»è¾‘**ï¼šæ‘‡æ†æŽ§åˆ¶**è§’é€Ÿåº¦**ã€‚æ¾æ†åŽæ— äººæœºä¿æŒå½“å‰å§¿æ€ã€‚\r\n### Angle Mode (è‡ªç¨³æ¨¡å¼)\r\n*   **é€»è¾‘**ï¼š**åŒçŽ¯ PID æŽ§åˆ¶**ã€‚\r\n    *   **å¤–çŽ¯**ï¼šæ‘‡æ†æŽ§åˆ¶**è§’åº¦** (ä¾‹å¦‚æ»¡æ† 45 åº¦)ã€‚è®¡ç®—å‡ºç›®æ ‡è§’é€Ÿåº¦ã€‚\r\n    *   **å†…çŽ¯**ï¼šæ‰§è¡Œç›®æ ‡è§’é€Ÿåº¦ã€‚\r\n*   **ç‰¹æ€§**ï¼šæ¾æ†è‡ªåŠ¨å›žå¹³ã€‚\r\n```csharp\r\n       if (mode == FlightMode.Angle)\r\n        {\r\n            // --- Angle Mode (è‡ªç¨³æ¨¡å¼) ---\r\n            // æ‘‡æ†è¾“å…¥æ˜ å°„ä¸ºç›®æ ‡è§’åº¦ (-45 ~ 45 åº¦)\r\n            float targetPitchAngle = input.Pitch * maxTiltAngle;\r\n            float targetRollAngle = -input.Roll * maxTiltAngle; // Unity Zè½´æ—‹è½¬æ–¹å‘å¯èƒ½éœ€è¦åè½¬\r\n\r\n            // èŽ·å–å½“å‰è§’åº¦ (å°† 0-360 è½¬æ¢ä¸º +/- 180)\r\n            Vector3 currentEuler = transform.localEulerAngles;\r\n            float currentPitch = Mathf.DeltaAngle(0, currentEuler.x);\r\n            float currentRoll = Mathf.DeltaAngle(0, currentEuler.z);\r\n\r\n            // å¤–çŽ¯ P æŽ§åˆ¶: è§’åº¦è¯¯å·® -> ç›®æ ‡è§’é€Ÿåº¦\r\n            // Pitch: ç›®æ ‡ - å½“å‰ (å› ä¸ºåŽé¢æ··æŽ§å™¨ Pitch åè½¬äº†ï¼Œæ‰€ä»¥è¿™é‡Œä¿æŒ ç›®æ ‡-å½“å‰)\r\n            targetPitchRate = (targetPitchAngle - currentPitch) * angleKP;\r\n            \r\n            // Roll: å½“å‰ - ç›®æ ‡ (åè½¬é€»è¾‘ï¼Œé˜²æ­¢æ­£åé¦ˆç¿»æ»š)\r\n            // å³æ»šæ˜¯è´Ÿè§’åº¦ï¼Œå¦‚æžœä¸åè½¬ï¼Œè¯¯å·®ä¸ºæ­£ï¼Œå¯¼è‡´ç»§ç»­å³æ»š\r\n            targetRollRate = (currentRoll - targetRollAngle) * angleKP;\r\n            \r\n            // Yaw è½´é€šå¸¸ä¿æŒ Rate æ¨¡å¼\r\n            targetYawRate = input.Yaw * 150f;\r\n        }\r\n        else\r\n        {\r\n            // --- Acro Mode (ç‰¹æŠ€/æ‰‹åŠ¨æ¨¡å¼) ---\r\n            // æ‘‡æ†è¾“å…¥ç›´æŽ¥æ˜ å°„ä¸ºç›®æ ‡è§’é€Ÿåº¦ (-200 ~ 200 åº¦/ç§’)\r\n            targetPitchRate = input.Pitch * 200f;\r\n            targetRollRate = input.Roll * 200f;\r\n            targetYawRate = input.Yaw * 150f;\r\n        }\r\n```\r\n---\r\n\r\n## ç¨³å®šæ€§ä¸Žä½“éªŒä¼˜åŒ–\r\n\r\né™¤äº†æ ¸å¿ƒç‰©ç†ï¼Œè¿˜æœ‰å¾ˆå¤šç»†èŠ‚å†³å®šäº†æ¨¡æ‹Ÿå™¨çš„å¯ç”¨æ€§ï¼š\r\n\r\n*   **æ€ é€Ÿä¿æŠ¤ (Idle Protection)**ï¼š\r\n    *   é—®é¢˜ï¼šåœ°é¢å¾…æœºæ—¶ï¼ŒPID ç§¯åˆ†é¡¹ç´¯ç§¯å¯¼è‡´æ— äººæœºâ€œæŠ½æâ€æˆ–ä¹±è·³ã€‚\r\n    *   è§£å†³ï¼šæ²¹é—¨ \u003C 5% æ—¶ï¼Œå¼ºåˆ¶å…³é—­ç”µæœºå¹¶ **Reset PID**ã€‚\r\n```csharp\r\n        // --- æ€ é€Ÿä¿æŠ¤é€»è¾‘ ---\r\n        if (throttleBase \u003C 0.05f)\r\n        {\r\n            m1 = m2 = m3 = m4 = 0f;\r\n            pitchPID.Reset();\r\n            rollPID.Reset();\r\n            yawPID.Reset();\r\n        }\r\n```\r\n*   **PID é™å¹… (Authority Limit)**ï¼š\r\n    *   é™åˆ¶ PID å¯¹ç”µæœºçš„æœ€å¤§æŽ§åˆ¶æƒ (ä¾‹å¦‚ 30%)ï¼Œé˜²æ­¢æžç«¯æƒ…å†µä¸‹ PID è¾“å‡ºè¿‡å¤§å¯¼è‡´ç”µæœºé¥±å’Œç”šè‡³ä¾§ç¿»ã€‚\r\n   ```csharp\r\n            // --- PID é™å¹…ä¿æŠ¤ ---\r\n            float pOut = Mathf.Clamp(pitchCorrection * correctionScale, -maxPIDAuthority, maxPIDAuthority);\r\n            float rOut = Mathf.Clamp(rollCorrection * correctionScale, -maxPIDAuthority, maxPIDAuthority);\r\n            float yOut = Mathf.Clamp(yawCorrection * correctionScale, -maxPIDAuthority, maxPIDAuthority); \r\n   ```\r\n*   **ä¸€é”®é‡ç½®**ï¼š\r\n    *   æ·»åŠ æ‰‹æŸ„ **Y é”®** å¤ä½åŠŸèƒ½ï¼Œç‚¸æœºåŽçž¬é—´å›žåˆ°åŽŸç‚¹å¹¶æ¸…ç©ºç‰©ç†é€Ÿåº¦ï¼Œæ–¹ä¾¿åå¤ç»ƒä¹ ã€‚\r\n\r\n---\r\n# äºŒã€æºç \r\n## ä»£ç ç»“æž„\r\nä»£ç ç»“æž„æ¯”è¾ƒç®€å•ï¼Œä¸€å…±å°±4ä¸ªä»£ç å°±å®žçŽ°äº†æ•´ä¸ªæ— äººæœºæ¨¡æ‹Ÿï¼Œä»¥ä¸‹æ˜¯æµç¨‹å›¾ï¼š\r\n\r\n![Gemini_Generated_Image_v4l1irv4l1irv4l1.jpg](/uploads/images/1766732962738-221925025.jpg)\r\n\r\n| æž¶æž„åˆ†å±‚   | æ ¸å¿ƒè„šæœ¬              | è§’è‰²å®šä½         | ä¸»è¦åŠŸèƒ½ä¸Žé€»è¾‘                                                                                                                                                                                | æ•°æ®æµå‘ / ç‰©ç†ä½œç”¨                                                            |\r\n| ---------- | --------------------- | ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------ |\r\n| **è¾“å…¥å±‚** | `DroneInput.cs`       | **ä¿¡å·é¢„å¤„ç†**   | 1. **è¯»å–ç¡¬ä»¶**ï¼šæŽ¥æ”¶ç‰©ç†æ‰‹æŸ„è¾“å…¥ã€‚\u003Cbr> 2. **æ•°æ®æ¸…æ´—**ï¼šå¤„ç†æ‘‡æ†æ­»åŒºã€åº”ç”¨æ˜ å°„æ›²çº¿ã€‚                                                                                                             | **è¾“å‡º**ï¼šæ ‡å‡†åŒ–æŽ§åˆ¶ä¿¡å·\u003Cbr>â€¢ æ²¹é—¨ (Throttle): `0 ~ 1` \u003Cbr>â€¢ä¿¯ä»°/æ¨ªæ»š/åèˆª: `-1 ~ 1`   |\r\n| **æŽ§åˆ¶å±‚** | `FlightController.cs` | **å¤§è„‘ (Brain)** | 1. **æ¨¡å¼å¤„ç†**ï¼šæ ¹æ® Angle/Acro æ¨¡å¼å°†è¾“å…¥è½¬ä¸ºç›®æ ‡è§’é€Ÿåº¦ã€‚\u003Cbr>2. **PID è°ƒåº¦**ï¼šè°ƒç”¨ `PID.cs` è®¡ç®—è¯¯å·®ã€‚\u003Cbr> 3. **æ··æŽ§ (Mixer)**ï¼šæ··åˆä¸»æ²¹é—¨ä¸Ž PID ä¿®æ­£å€¼ã€‚\u003Cbr>  4. **çŽ¯å¢ƒæ¨¡æ‹Ÿ**ï¼šè®¡ç®—éžçº¿æ€§é˜»åŠ›ä¸Žåœ°é¢æ•ˆåº”ã€‚ | **è¾“å…¥**ï¼šæ ‡å‡†åŒ–ä¿¡å· + åˆšä½“ç‰©ç†çŠ¶æ€\u003Cbr>**è¾“å‡º**ï¼š4 ä¸ªç”µæœºçš„æœ€ç»ˆç›®æ ‡æ²¹é—¨            |\r\n| **ç®—æ³•å±‚** | `PID.cs`              | **çº¯æ•°å­¦è®¡ç®—**   | 1. **è¯¯å·®è®¡ç®—**ï¼šå¯¹æ¯”ç›®æ ‡å€¼ä¸Žå½“å‰å€¼ã€‚\u003Cbr>2. **ä¿®æ­£è¾“å‡º**ï¼šè®¡ç®—æ¯”ä¾‹(P)+ç§¯åˆ†(I)+å¾®åˆ†(D)çš„æ€»å’Œã€‚                                                                                                     | **è¾“å…¥**ï¼šç›®æ ‡å€¼ã€å½“å‰å€¼ã€æ—¶é—´å·® (dt)\u003Cbr>**è¾“å‡º**ï¼šPID ä¿®æ­£å€¼                      |\r\n| **æ‰§è¡Œå±‚** | `MotorEngine.cs`      | **å››è‚¢ (Limbs)** | 1. **æƒ¯æ€§æ¨¡æ‹Ÿ**ï¼šé€šè¿‡ä½Žé€šæ»¤æ³¢æ¨¡æ‹Ÿç”µæœºå“åº”å»¶è¿Ÿã€‚\u003Cbr>2. **ç‰©ç†äº¤äº’**ï¼šå°†æ²¹é—¨å€¼è½¬æ¢ä¸ºå…·ä½“çš„ç‰©ç†åŠ›ã€‚                                                                                                  | **è¾“å…¥**ï¼šç›®æ ‡æ²¹é—¨å€¼\u003Cbr>**ä½œç”¨**ï¼šå‘ Rigidbody æ–½åŠ \u003Cbr>â€¢ æŽ¨åŠ› (Force)\u003Cbr>â€¢ åæ‰­çŸ© (Torque) |\r\n\r\n# æ€»ç»“\r\n\r\né€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œæˆ‘ä»¬ä»Žä¸€ä¸ªç®€å•çš„åˆšä½“è¿åŠ¨ï¼Œè¿›åŒ–åˆ°äº†ä¸€ä¸ªå…·å¤‡ç©ºæ°”åŠ¨åŠ›å­¦ç‰¹æ€§çš„é£žè¡Œæ¨¡æ‹Ÿå™¨ã€‚ç›®å‰çš„ç‰©ç†æ‰‹æ„Ÿå·²ç»èƒ½ä¼ è¾¾å‡ºç©¿è¶Šæœºçš„â€œæƒ¯æ€§â€å’Œâ€œé£Žé˜»â€ã€‚\r\n\r\nå¦‚æžœèƒ½å¸®åŠ©åˆ°ä½ ï¼å¯ä»¥ç»™æˆ‘æ¥ä¸ªç‚¹èµžå—ï¼Ÿ è°¢è°¢ï¼uðŸ˜˜","src/content/posts/post_20251226070813.md","0552735030f0481d",{"html":134,"metadata":135},"\u003Ch1 id=\"unity-æ— äººæœºç‰©ç†æ¨¡æ‹Ÿå¼€å‘æ—¥å¿—ä»Žé›¶æ‰“é€ ç©¿è¶Šæœºæ‰‹æ„Ÿ\">Unity æ— äººæœºç‰©ç†æ¨¡æ‹Ÿå¼€å‘æ—¥å¿—ï¼šä»Žé›¶æ‰“é€ ç©¿è¶Šæœºæ‰‹æ„Ÿ\u003C/h1>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>æ‘˜è¦\u003C/strong>ï¼šæœ¬æ–‡è®°å½•äº†åœ¨ Unity ä¸­æž„å»ºä¸€ä¸ªé«˜æ‹ŸçœŸ FPV ç©¿è¶Šæœºï¼ˆDroneï¼‰ç‰©ç†æ¨¡æ‹Ÿç³»ç»Ÿçš„è¿‡ç¨‹ã€‚ä»ŽåŸºç¡€çš„ PID æŽ§åˆ¶åˆ°å¼•å…¥ç©ºæ°”åŠ¨åŠ›å­¦é˜»åŠ›ã€åœ°é¢æ•ˆåº”å’Œç”µæœºæƒ¯æ€§ï¼Œä¸€æ­¥æ­¥é€¼è¿‘çœŸå®žçš„é£žè¡Œæ‰‹æ„Ÿã€‚\u003C/p>\n\u003C/blockquote>\n\u003Chr>\n\u003Cp>çŽ¯å¢ƒï¼š\u003Ccode>Unity 2022.3.57c1f1\u003C/code> \u003Ccode>Window10\u003C/code>\u003C/p>\n\u003Cp>\u003Cimg src=\"/uploads/images/1766733359777-825864655.png\" alt=\"cad859e8da0f4a42b86025f0b7122778.png\">\u003C/p>\n\u003Ch3 id=\"å¼€æºä»“åº“åœ°å€\">å¼€æºä»“åº“åœ°å€\u003C/h3>\n\u003Cp>\u003Ca href=\"https://gitee.com/youlai-code/unity-drone.git\">Unityå¼•æ“Žå¼€å‘çš„æ— äººæœºæ¨¡æ‹Ÿç³»ç»Ÿ\u003C/a>\u003C/p>\n\u003Ch3 id=\"æ¼”ç¤ºè§†é¢‘\">æ¼”ç¤ºè§†é¢‘ï¼š\u003C/h3>\n\u003Cp>\u003Ca href=\"https://www.bilibili.com/video/BV1Y8BVB9Edu/?share_source=copy_web&#x26;vd_source=996906670f4a2574b3c77132cb5ebda3\">Unityæ— äººæœºä»¿çœŸ-bilbil\u003C/a>\u003C/p>\n\u003Ciframe src=\"//player.bilibili.com/player.html?isOutside=true&#x26;aid=115772286377550&#x26;bvid=BV1Y8BVB9Edu&#x26;cid=34941700066&#x26;p=1\" scrolling=\"no\" border=\"0\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\">\u003C/iframe>\n\u003Chr>\n\u003Ch1 id=\"åŠŸèƒ½ä»‹ç»\">åŠŸèƒ½ä»‹ç»\u003C/h1>\n\u003Ch2 id=\"è¾“å…¥ç³»ç»Ÿ\">è¾“å…¥ç³»ç»Ÿ\u003C/h2>\n\u003Cp>æœ€åˆçš„å®žçŽ°ä½¿ç”¨é”®ç›˜é¼ æ ‡æŽ§åˆ¶ï¼Œä½†è¿™å¯¹äºŽæ¨¡æ‹Ÿç©¿è¶Šæœºæ¥è¯´å®Œå…¨ä¸å¤Ÿã€‚çœŸå®žçš„ç©¿è¶Šæœºéœ€è¦ç»†è…»çš„æ¨¡æ‹Ÿé‡è¾“å…¥ã€‚\u003C/p>\n\u003Cp>\u003Cimg src=\"/uploads/images/1766732941939-2276967.jpg\" alt=\"Gemini_Generated_Image_gczo5ggczo5ggczo.jpg\">\u003C/p>\n\u003Chr>\n\u003Ch2 id=\"æ ¸å¿ƒç‰©ç†å¼•æ“Ž\">æ ¸å¿ƒç‰©ç†å¼•æ“Ž\u003C/h2>\n\u003Cp>Unity çš„ \u003Ccode>Rigidbody\u003C/code> æä¾›äº†åŸºç¡€ç‰©ç†ï¼Œä½†è¦é£žå¾—åƒç©¿è¶Šæœºï¼Œå¿…é¡»æ‰‹åŠ¨è®¡ç®—åŠ›å’ŒåŠ›çŸ©ã€‚\u003C/p>\n\u003Ch3 id=\"pid-æŽ§åˆ¶å™¨-rate-loop\">PID æŽ§åˆ¶å™¨ (Rate Loop)\u003C/h3>\n\u003Cp>è¿™æ˜¯é£žæŽ§çš„çµé­‚ã€‚æˆ‘ä»¬å®žçŽ°äº†ä¸‰ä¸ªç‹¬ç«‹çš„ PID æŽ§åˆ¶å™¨åˆ†åˆ«æŽ§åˆ¶ Pitchã€Roll å’Œ Yaw çš„\u003Cstrong>è§’é€Ÿåº¦\u003C/strong>ã€‚\r\n\u003Cstrong>PID\u003C/strong>çš„ä»‹ç»è¯·çœ‹æˆ‘çš„å¦å¤–ä¸€ç¯‡æ–‡æ¡£ï¼š  \u003Ca href=\"https://blog.csdn.net/wa36d/article/details/145108722?spm=1001.2014.3001.5502\">PIDç®—æ³•\u003C/a>\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cstrong>ç›®æ ‡\u003C/strong>ï¼šæ‘‡æ†è¾“å…¥ = ç›®æ ‡è§’é€Ÿåº¦ï¼ˆä¾‹å¦‚æ»¡æ† 200åº¦/ç§’ï¼‰ã€‚\u003C/li>\n\u003Cli>\u003Cstrong>åé¦ˆ\u003C/strong>ï¼š\u003Ccode>rb.angularVelocity\u003C/code>ã€‚\u003C/li>\n\u003Cli>\u003Cstrong>è¾“å‡º\u003C/strong>ï¼šPID è®¡ç®—å‡ºçš„ä¿®æ­£åŠ›çŸ©ã€‚\u003C/li>\n\u003C/ul>\n\u003Ch3 id=\"æ··æŽ§å™¨-mixer\">æ··æŽ§å™¨ (Mixer)\u003C/h3>\n\u003Cp>å°† PID è¾“å‡ºåˆ†é…åˆ°å››ä¸ªç”µæœºã€‚é‡‡ç”¨æ ‡å‡†çš„ \u003Cstrong>Quad X\u003C/strong> å¸ƒå±€ï¼š\u003C/p>\n\u003Cp>\u003Cimg src=\"/uploads/images/1766734335095-585963069.png\" alt=\"d09f547e541e4fbeaf68b5022ca118d2.png\">\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"csharp\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// FL (å·¦å‰): +Pitch +Roll -Yaw\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// FR (å³å‰): +Pitch -Roll +Yaw\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// BL (å·¦åŽ): -Pitch +Roll +Yaw\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// BR (å³åŽ): -Pitch -Roll -Yaw\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"ç‰©ç†ç»†èŠ‚çš„æ‰“ç£¨\">ç‰©ç†ç»†èŠ‚çš„æ‰“ç£¨\u003C/h2>\n\u003Cp>åŸºç¡€ PID èƒ½é£žï¼Œä½†æ‰‹æ„Ÿåƒâ€œåœ¨çœŸç©ºä¸­é£žè¡Œâ€æˆ–è€…â€œå®Œç¾Žçš„åˆšä½“â€ã€‚ä¸ºäº†çœŸå®žæ„Ÿï¼Œæˆ‘å¼•å…¥äº†ä¸‰ä¸ªå…³é”®ç‰¹æ€§ï¼š\u003C/p>\n\u003Ch3 id=\"ç”µæœºæƒ¯æ€§-motor-inertia\">ç”µæœºæƒ¯æ€§ (Motor Inertia)\u003C/h3>\n\u003Cp>çœŸå®žçš„ç”µæœºä»Ž 0 åŠ é€Ÿåˆ° 100% éœ€è¦æ—¶é—´ã€‚\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cstrong>å®žçŽ°\u003C/strong>ï¼šä½¿ç”¨ \u003Ccode>Mathf.Lerp\u003C/code> å¯¹æ²¹é—¨è¾“å…¥è¿›è¡Œä½Žé€šæ»¤æ³¢ã€‚\u003C/li>\n\u003Cli>\u003Cstrong>æ•ˆæžœ\u003C/strong>ï¼šæ¶ˆé™¤äº†â€œçž¬ç§»èˆ¬â€çš„å“åº”ï¼Œç»™æ²¹é—¨å¸¦æ¥äº†ä¸€ä¸â€œè‚‰â€æ„Ÿå’Œå»¶è¿Ÿï¼Œæžå¤§æå‡äº†é‡é‡æ„Ÿã€‚\u003C/li>\n\u003C/ul>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"csharp\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    // æ›´æ–°åŠ¨åŠ› (åœ¨ FlightController çš„ FixedUpdate ä¸­è°ƒç”¨)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    public\u003C/span>\u003Cspan style=\"color:#F97583\"> void\u003C/span>\u003Cspan style=\"color:#B392F0\"> UpdatePhysics\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">float\u003C/span>\u003Cspan style=\"color:#B392F0\"> targetThrottle\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">        // æ¨¡æ‹Ÿç”µæœºæƒ¯æ€§ (ä¸€é˜¶ä½Žé€šæ»¤æ³¢)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">        // ä»Žå½“å‰æ²¹é—¨å¹³æ»‘è¿‡æ¸¡åˆ°ç›®æ ‡æ²¹é—¨\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        float\u003C/span>\u003Cspan style=\"color:#B392F0\"> dt\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Time.fixedDeltaTime;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        currentThrottle \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Mathf.\u003C/span>\u003Cspan style=\"color:#B392F0\">Lerp\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(currentThrottle, targetThrottle, dt \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> motorResponseSpeed);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">        // 1. æ–½åŠ å‡åŠ› (åž‚ç›´äºŽæœºè‡‚å‘ä¸Š)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        Vector3\u003C/span>\u003Cspan style=\"color:#B392F0\"> force\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> transform.up \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (currentThrottle \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> maxThrust);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        rb.\u003C/span>\u003Cspan style=\"color:#B392F0\">AddForceAtPosition\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(force, transform.position);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">        // 2. æ–½åŠ åæ‰­çŸ© (YawæŽ§åˆ¶)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">        // é¡ºæ—¶é’ˆæ—‹è½¬çš„ç”µæœºï¼Œä¼šç»™æœºèº«æ–½åŠ é€†æ—¶é’ˆçš„æ‰­çŸ©ï¼Œåä¹‹äº¦ç„¶\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        float\u003C/span>\u003Cspan style=\"color:#B392F0\"> torqueDir\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> isClockwise \u003C/span>\u003Cspan style=\"color:#F97583\">?\u003C/span>\u003Cspan style=\"color:#F97583\"> -\u003C/span>\u003Cspan style=\"color:#79B8FF\">1f\u003C/span>\u003Cspan style=\"color:#F97583\"> :\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1f\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        float\u003C/span>\u003Cspan style=\"color:#B392F0\"> torqueMagnitude\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> currentThrottle \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> maxThrust \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> torqueFactor \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> torqueDir;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        rb.\u003C/span>\u003Cspan style=\"color:#B392F0\">AddTorque\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(transform.up \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> torqueMagnitude, ForceMode.Force);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"åœ°é¢æ•ˆåº”-ground-effect\">åœ°é¢æ•ˆåº” (Ground Effect)\u003C/h3>\n\u003Cp>å½“æ— äººæœºè´´è¿‘åœ°é¢æ—¶ï¼Œä¸‹æ´—æ°”æµå—é˜»ï¼Œå‡åŠ›ä¼šå¢žåŠ ã€‚\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cstrong>å®žçŽ°\u003C/strong>ï¼šå‘ä¸‹å‘å°„å°„çº¿æ£€æµ‹é«˜åº¦ã€‚é«˜åº¦ &#x3C; 0.5m æ—¶ï¼Œæ ¹æ®è·ç¦»éžçº¿æ€§å¢žåŠ å‡åŠ›ç³»æ•°ã€‚\u003C/li>\n\u003Cli>\u003Cstrong>æ•ˆæžœ\u003C/strong>ï¼šé™è½æ—¶ä¼šæœ‰æ˜Žæ˜¾çš„â€œæ°”åž«æ„Ÿâ€ï¼Œä¸ä¼šç›´æŽ¥â€œç ¸â€å‘åœ°é¢ï¼Œèµ·é£žä¹Ÿæ›´è½»ç›ˆã€‚\u003C/li>\n\u003C/ul>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"csharp\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">            // --- åœ°é¢æ•ˆåº” (Ground Effect) ---\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">            RaycastHit\u003C/span>\u003Cspan style=\"color:#B392F0\"> hit\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">            if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (Physics.\u003C/span>\u003Cspan style=\"color:#B392F0\">Raycast\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(transform.position, Vector3.down, \u003C/span>\u003Cspan style=\"color:#F97583\">out\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> hit, groundEffectMaxHeight))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">                float\u003C/span>\u003Cspan style=\"color:#B392F0\"> ratio\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1.0f\u003C/span>\u003Cspan style=\"color:#F97583\"> -\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (hit.distance \u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> groundEffectMaxHeight);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">                float\u003C/span>\u003Cspan style=\"color:#B392F0\"> groundEffectMultiplier\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1.0f\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (ratio \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> groundEffectLiftFactor);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">                \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">                m1 \u003C/span>\u003Cspan style=\"color:#F97583\">*=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> groundEffectMultiplier;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">                m2 \u003C/span>\u003Cspan style=\"color:#F97583\">*=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> groundEffectMultiplier;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">                m3 \u003C/span>\u003Cspan style=\"color:#F97583\">*=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> groundEffectMultiplier;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">                m4 \u003C/span>\u003Cspan style=\"color:#F97583\">*=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> groundEffectMultiplier;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            }\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"éžçº¿æ€§ç©ºæ°”é˜»åŠ›-quadratic-drag\">éžçº¿æ€§ç©ºæ°”é˜»åŠ› (Quadratic Drag)\u003C/h3>\n\u003Cp>Unity é»˜è®¤çš„ \u003Ccode>Drag\u003C/code> æ˜¯çº¿æ€§çš„ ($F \\propto v$)ï¼Œè¿™è®©æ— äººæœºæ„Ÿè§‰åƒåœ¨æ°´é‡Œæ¸¸ã€‚\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cstrong>å®žçŽ°\u003C/strong>ï¼šæ‰‹åŠ¨è®¡ç®—å¹³æ–¹é˜»åŠ› $F = -v \\cdot |v| \\cdot k$ã€‚\u003C/li>\n\u003Cli>\u003Cstrong>å·®å¼‚åŒ–é˜»åŠ›\u003C/strong>ï¼š\n\u003Cul>\n\u003Cli>\u003Cstrong>åž‚ç›´æ–¹å‘\u003C/strong>ï¼šæœºèº«æ‰å¹³ï¼Œé˜»åŠ›ç³»æ•°å¤§ (1.0)ã€‚ä¸‹è½ä¼šæœ‰æ˜Žæ˜¾çš„ç»ˆç«¯é€Ÿåº¦ã€‚\u003C/li>\n\u003Cli>\u003Cstrong>æ°´å¹³æ–¹å‘\u003C/strong>ï¼šæœºèº«æµçº¿ï¼Œé˜»åŠ›ç³»æ•°å° (0.2)ã€‚å…è®¸é•¿è·ç¦»æƒ¯æ€§æ»‘è¡Œã€‚\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>æ•ˆæžœ\u003C/strong>ï¼šè¿™æ˜¯æ‰‹æ„Ÿæå‡æœ€æ˜Žæ˜¾çš„ä¸€æ­¥ã€‚å‰é£žæ¾æ†åŽçš„æ»‘è¡Œæ„Ÿï¼Œä»¥åŠé«˜ç©ºä¸‹è½æ—¶çš„é€Ÿåº¦å¹³è¡¡ï¼Œéƒ½éžå¸¸æŽ¥è¿‘çœŸæœºã€‚\u003C/li>\n\u003C/ul>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"csharp\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">        // è®¡ç®—å¹³æ–¹é˜»åŠ›: F = -v * |v| * dragFactor\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        Vector3\u003C/span>\u003Cspan style=\"color:#B392F0\"> dragForceLocal\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Vector3.zero;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        dragForceLocal.x \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#F97583\"> -\u003C/span>\u003Cspan style=\"color:#E1E4E8\">localVel.x \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Mathf.\u003C/span>\u003Cspan style=\"color:#B392F0\">Abs\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(localVel.x) \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> dragFactors.x;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        dragForceLocal.y \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#F97583\"> -\u003C/span>\u003Cspan style=\"color:#E1E4E8\">localVel.y \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Mathf.\u003C/span>\u003Cspan style=\"color:#B392F0\">Abs\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(localVel.y) \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> dragFactors.y; \u003C/span>\u003Cspan style=\"color:#6A737D\">// åž‚ç›´é˜»åŠ›é€šå¸¸è¾ƒå¤§\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        dragForceLocal.z \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#F97583\"> -\u003C/span>\u003Cspan style=\"color:#E1E4E8\">localVel.z \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Mathf.\u003C/span>\u003Cspan style=\"color:#B392F0\">Abs\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(localVel.z) \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> dragFactors.z;\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"é£žè¡Œæ¨¡å¼\">é£žè¡Œæ¨¡å¼\u003C/h2>\n\u003Cp>æ— äººæœºæ“ä½œä¸€å…±é…ç½®äº†ä¸¤ç§æ¨¡å¼\u003C/p>\n\u003Ch3 id=\"acro-mode-æ‰‹åŠ¨æ¨¡å¼\">Acro Mode (æ‰‹åŠ¨æ¨¡å¼)\u003C/h3>\n\u003Cul>\n\u003Cli>\u003Cstrong>é€»è¾‘\u003C/strong>ï¼šæ‘‡æ†æŽ§åˆ¶\u003Cstrong>è§’é€Ÿåº¦\u003C/strong>ã€‚æ¾æ†åŽæ— äººæœºä¿æŒå½“å‰å§¿æ€ã€‚\u003C/li>\n\u003C/ul>\n\u003Ch3 id=\"angle-mode-è‡ªç¨³æ¨¡å¼\">Angle Mode (è‡ªç¨³æ¨¡å¼)\u003C/h3>\n\u003Cul>\n\u003Cli>\u003Cstrong>é€»è¾‘\u003C/strong>ï¼š\u003Cstrong>åŒçŽ¯ PID æŽ§åˆ¶\u003C/strong>ã€‚\n\u003Cul>\n\u003Cli>\u003Cstrong>å¤–çŽ¯\u003C/strong>ï¼šæ‘‡æ†æŽ§åˆ¶\u003Cstrong>è§’åº¦\u003C/strong> (ä¾‹å¦‚æ»¡æ† 45 åº¦)ã€‚è®¡ç®—å‡ºç›®æ ‡è§’é€Ÿåº¦ã€‚\u003C/li>\n\u003Cli>\u003Cstrong>å†…çŽ¯\u003C/strong>ï¼šæ‰§è¡Œç›®æ ‡è§’é€Ÿåº¦ã€‚\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>ç‰¹æ€§\u003C/strong>ï¼šæ¾æ†è‡ªåŠ¨å›žå¹³ã€‚\u003C/li>\n\u003C/ul>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"csharp\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">       if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (mode \u003C/span>\u003Cspan style=\"color:#F97583\">==\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> FlightMode.Angle)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">            // --- Angle Mode (è‡ªç¨³æ¨¡å¼) ---\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">            // æ‘‡æ†è¾“å…¥æ˜ å°„ä¸ºç›®æ ‡è§’åº¦ (-45 ~ 45 åº¦)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">            float\u003C/span>\u003Cspan style=\"color:#B392F0\"> targetPitchAngle\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> input.Pitch \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> maxTiltAngle;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">            float\u003C/span>\u003Cspan style=\"color:#B392F0\"> targetRollAngle\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#F97583\"> -\u003C/span>\u003Cspan style=\"color:#E1E4E8\">input.Roll \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> maxTiltAngle; \u003C/span>\u003Cspan style=\"color:#6A737D\">// Unity Zè½´æ—‹è½¬æ–¹å‘å¯èƒ½éœ€è¦åè½¬\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">            // èŽ·å–å½“å‰è§’åº¦ (å°† 0-360 è½¬æ¢ä¸º +/- 180)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">            Vector3\u003C/span>\u003Cspan style=\"color:#B392F0\"> currentEuler\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> transform.localEulerAngles;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">            float\u003C/span>\u003Cspan style=\"color:#B392F0\"> currentPitch\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Mathf.\u003C/span>\u003Cspan style=\"color:#B392F0\">DeltaAngle\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, currentEuler.x);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">            float\u003C/span>\u003Cspan style=\"color:#B392F0\"> currentRoll\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Mathf.\u003C/span>\u003Cspan style=\"color:#B392F0\">DeltaAngle\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, currentEuler.z);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">            // å¤–çŽ¯ P æŽ§åˆ¶: è§’åº¦è¯¯å·® -> ç›®æ ‡è§’é€Ÿåº¦\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">            // Pitch: ç›®æ ‡ - å½“å‰ (å› ä¸ºåŽé¢æ··æŽ§å™¨ Pitch åè½¬äº†ï¼Œæ‰€ä»¥è¿™é‡Œä¿æŒ ç›®æ ‡-å½“å‰)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            targetPitchRate \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (targetPitchAngle \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> currentPitch) \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> angleKP;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">            // Roll: å½“å‰ - ç›®æ ‡ (åè½¬é€»è¾‘ï¼Œé˜²æ­¢æ­£åé¦ˆç¿»æ»š)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">            // å³æ»šæ˜¯è´Ÿè§’åº¦ï¼Œå¦‚æžœä¸åè½¬ï¼Œè¯¯å·®ä¸ºæ­£ï¼Œå¯¼è‡´ç»§ç»­å³æ»š\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            targetRollRate \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (currentRoll \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> targetRollAngle) \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> angleKP;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">            // Yaw è½´é€šå¸¸ä¿æŒ Rate æ¨¡å¼\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            targetYawRate \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> input.Yaw \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 150f\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        else\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">            // --- Acro Mode (ç‰¹æŠ€/æ‰‹åŠ¨æ¨¡å¼) ---\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">            // æ‘‡æ†è¾“å…¥ç›´æŽ¥æ˜ å°„ä¸ºç›®æ ‡è§’é€Ÿåº¦ (-200 ~ 200 åº¦/ç§’)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            targetPitchRate \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> input.Pitch \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 200f\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            targetRollRate \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> input.Roll \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 200f\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            targetYawRate \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> input.Yaw \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 150f\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        }\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Chr>\n\u003Ch2 id=\"ç¨³å®šæ€§ä¸Žä½“éªŒä¼˜åŒ–\">ç¨³å®šæ€§ä¸Žä½“éªŒä¼˜åŒ–\u003C/h2>\n\u003Cp>é™¤äº†æ ¸å¿ƒç‰©ç†ï¼Œè¿˜æœ‰å¾ˆå¤šç»†èŠ‚å†³å®šäº†æ¨¡æ‹Ÿå™¨çš„å¯ç”¨æ€§ï¼š\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cstrong>æ€ é€Ÿä¿æŠ¤ (Idle Protection)\u003C/strong>ï¼š\n\u003Cul>\n\u003Cli>é—®é¢˜ï¼šåœ°é¢å¾…æœºæ—¶ï¼ŒPID ç§¯åˆ†é¡¹ç´¯ç§¯å¯¼è‡´æ— äººæœºâ€œæŠ½æâ€æˆ–ä¹±è·³ã€‚\u003C/li>\n\u003Cli>è§£å†³ï¼šæ²¹é—¨ &#x3C; 5% æ—¶ï¼Œå¼ºåˆ¶å…³é—­ç”µæœºå¹¶ \u003Cstrong>Reset PID\u003C/strong>ã€‚\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"csharp\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">        // --- æ€ é€Ÿä¿æŠ¤é€»è¾‘ ---\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">        if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (throttleBase \u003C/span>\u003Cspan style=\"color:#F97583\">&#x3C;\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0.05f\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            m1 \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> m2 \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> m3 \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> m4 \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 0f\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            pitchPID.\u003C/span>\u003Cspan style=\"color:#B392F0\">Reset\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            rollPID.\u003C/span>\u003Cspan style=\"color:#B392F0\">Reset\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            yawPID.\u003C/span>\u003Cspan style=\"color:#B392F0\">Reset\u003C/span>\u003Cspan style=\"color:#E1E4E8\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        }\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cul>\n\u003Cli>\u003Cstrong>PID é™å¹… (Authority Limit)\u003C/strong>ï¼š\n\u003Cul>\n\u003Cli>é™åˆ¶ PID å¯¹ç”µæœºçš„æœ€å¤§æŽ§åˆ¶æƒ (ä¾‹å¦‚ 30%)ï¼Œé˜²æ­¢æžç«¯æƒ…å†µä¸‹ PID è¾“å‡ºè¿‡å¤§å¯¼è‡´ç”µæœºé¥±å’Œç”šè‡³ä¾§ç¿»ã€‚\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"csharp\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">         // --- PID é™å¹…ä¿æŠ¤ ---\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">         float\u003C/span>\u003Cspan style=\"color:#B392F0\"> pOut\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Mathf.\u003C/span>\u003Cspan style=\"color:#B392F0\">Clamp\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(pitchCorrection \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> correctionScale, \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#E1E4E8\">maxPIDAuthority, maxPIDAuthority);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">         float\u003C/span>\u003Cspan style=\"color:#B392F0\"> rOut\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Mathf.\u003C/span>\u003Cspan style=\"color:#B392F0\">Clamp\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(rollCorrection \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> correctionScale, \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#E1E4E8\">maxPIDAuthority, maxPIDAuthority);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">         float\u003C/span>\u003Cspan style=\"color:#B392F0\"> yOut\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> Mathf.\u003C/span>\u003Cspan style=\"color:#B392F0\">Clamp\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(yawCorrection \u003C/span>\u003Cspan style=\"color:#F97583\">*\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> correctionScale, \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#E1E4E8\">maxPIDAuthority, maxPIDAuthority); \u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cul>\n\u003Cli>\u003Cstrong>ä¸€é”®é‡ç½®\u003C/strong>ï¼š\n\u003Cul>\n\u003Cli>æ·»åŠ æ‰‹æŸ„ \u003Cstrong>Y é”®\u003C/strong> å¤ä½åŠŸèƒ½ï¼Œç‚¸æœºåŽçž¬é—´å›žåˆ°åŽŸç‚¹å¹¶æ¸…ç©ºç‰©ç†é€Ÿåº¦ï¼Œæ–¹ä¾¿åå¤ç»ƒä¹ ã€‚\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Chr>\n\u003Ch1 id=\"äºŒæºç \">äºŒã€æºç \u003C/h1>\n\u003Ch2 id=\"ä»£ç ç»“æž„\">ä»£ç ç»“æž„\u003C/h2>\n\u003Cp>ä»£ç ç»“æž„æ¯”è¾ƒç®€å•ï¼Œä¸€å…±å°±4ä¸ªä»£ç å°±å®žçŽ°äº†æ•´ä¸ªæ— äººæœºæ¨¡æ‹Ÿï¼Œä»¥ä¸‹æ˜¯æµç¨‹å›¾ï¼š\u003C/p>\n\u003Cp>\u003Cimg src=\"/uploads/images/1766732962738-221925025.jpg\" alt=\"Gemini_Generated_Image_v4l1irv4l1irv4l1.jpg\">\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>æž¶æž„åˆ†å±‚\u003C/th>\u003Cth>æ ¸å¿ƒè„šæœ¬\u003C/th>\u003Cth>è§’è‰²å®šä½\u003C/th>\u003Cth>ä¸»è¦åŠŸèƒ½ä¸Žé€»è¾‘\u003C/th>\u003Cth>æ•°æ®æµå‘ / ç‰©ç†ä½œç”¨\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Cstrong>è¾“å…¥å±‚\u003C/strong>\u003C/td>\u003Ctd>\u003Ccode>DroneInput.cs\u003C/code>\u003C/td>\u003Ctd>\u003Cstrong>ä¿¡å·é¢„å¤„ç†\u003C/strong>\u003C/td>\u003Ctd>1. \u003Cstrong>è¯»å–ç¡¬ä»¶\u003C/strong>ï¼šæŽ¥æ”¶ç‰©ç†æ‰‹æŸ„è¾“å…¥ã€‚\u003Cbr> 2. \u003Cstrong>æ•°æ®æ¸…æ´—\u003C/strong>ï¼šå¤„ç†æ‘‡æ†æ­»åŒºã€åº”ç”¨æ˜ å°„æ›²çº¿ã€‚\u003C/td>\u003Ctd>\u003Cstrong>è¾“å‡º\u003C/strong>ï¼šæ ‡å‡†åŒ–æŽ§åˆ¶ä¿¡å·\u003Cbr>â€¢ æ²¹é—¨ (Throttle): \u003Ccode>0 ~ 1\u003C/code> \u003Cbr>â€¢ä¿¯ä»°/æ¨ªæ»š/åèˆª: \u003Ccode>-1 ~ 1\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>æŽ§åˆ¶å±‚\u003C/strong>\u003C/td>\u003Ctd>\u003Ccode>FlightController.cs\u003C/code>\u003C/td>\u003Ctd>\u003Cstrong>å¤§è„‘ (Brain)\u003C/strong>\u003C/td>\u003Ctd>1. \u003Cstrong>æ¨¡å¼å¤„ç†\u003C/strong>ï¼šæ ¹æ® Angle/Acro æ¨¡å¼å°†è¾“å…¥è½¬ä¸ºç›®æ ‡è§’é€Ÿåº¦ã€‚\u003Cbr>2. \u003Cstrong>PID è°ƒåº¦\u003C/strong>ï¼šè°ƒç”¨ \u003Ccode>PID.cs\u003C/code> è®¡ç®—è¯¯å·®ã€‚\u003Cbr> 3. \u003Cstrong>æ··æŽ§ (Mixer)\u003C/strong>ï¼šæ··åˆä¸»æ²¹é—¨ä¸Ž PID ä¿®æ­£å€¼ã€‚\u003Cbr>  4. \u003Cstrong>çŽ¯å¢ƒæ¨¡æ‹Ÿ\u003C/strong>ï¼šè®¡ç®—éžçº¿æ€§é˜»åŠ›ä¸Žåœ°é¢æ•ˆåº”ã€‚\u003C/td>\u003Ctd>\u003Cstrong>è¾“å…¥\u003C/strong>ï¼šæ ‡å‡†åŒ–ä¿¡å· + åˆšä½“ç‰©ç†çŠ¶æ€\u003Cbr>\u003Cstrong>è¾“å‡º\u003C/strong>ï¼š4 ä¸ªç”µæœºçš„æœ€ç»ˆç›®æ ‡æ²¹é—¨\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>ç®—æ³•å±‚\u003C/strong>\u003C/td>\u003Ctd>\u003Ccode>PID.cs\u003C/code>\u003C/td>\u003Ctd>\u003Cstrong>çº¯æ•°å­¦è®¡ç®—\u003C/strong>\u003C/td>\u003Ctd>1. \u003Cstrong>è¯¯å·®è®¡ç®—\u003C/strong>ï¼šå¯¹æ¯”ç›®æ ‡å€¼ä¸Žå½“å‰å€¼ã€‚\u003Cbr>2. \u003Cstrong>ä¿®æ­£è¾“å‡º\u003C/strong>ï¼šè®¡ç®—æ¯”ä¾‹(P)+ç§¯åˆ†(I)+å¾®åˆ†(D)çš„æ€»å’Œã€‚\u003C/td>\u003Ctd>\u003Cstrong>è¾“å…¥\u003C/strong>ï¼šç›®æ ‡å€¼ã€å½“å‰å€¼ã€æ—¶é—´å·® (dt)\u003Cbr>\u003Cstrong>è¾“å‡º\u003C/strong>ï¼šPID ä¿®æ­£å€¼\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>æ‰§è¡Œå±‚\u003C/strong>\u003C/td>\u003Ctd>\u003Ccode>MotorEngine.cs\u003C/code>\u003C/td>\u003Ctd>\u003Cstrong>å››è‚¢ (Limbs)\u003C/strong>\u003C/td>\u003Ctd>1. \u003Cstrong>æƒ¯æ€§æ¨¡æ‹Ÿ\u003C/strong>ï¼šé€šè¿‡ä½Žé€šæ»¤æ³¢æ¨¡æ‹Ÿç”µæœºå“åº”å»¶è¿Ÿã€‚\u003Cbr>2. \u003Cstrong>ç‰©ç†äº¤äº’\u003C/strong>ï¼šå°†æ²¹é—¨å€¼è½¬æ¢ä¸ºå…·ä½“çš„ç‰©ç†åŠ›ã€‚\u003C/td>\u003Ctd>\u003Cstrong>è¾“å…¥\u003C/strong>ï¼šç›®æ ‡æ²¹é—¨å€¼\u003Cbr>\u003Cstrong>ä½œç”¨\u003C/strong>ï¼šå‘ Rigidbody æ–½åŠ \u003Cbr>â€¢ æŽ¨åŠ› (Force)\u003Cbr>â€¢ åæ‰­çŸ© (Torque)\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch1 id=\"æ€»ç»“\">æ€»ç»“\u003C/h1>\n\u003Cp>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œæˆ‘ä»¬ä»Žä¸€ä¸ªç®€å•çš„åˆšä½“è¿åŠ¨ï¼Œè¿›åŒ–åˆ°äº†ä¸€ä¸ªå…·å¤‡ç©ºæ°”åŠ¨åŠ›å­¦ç‰¹æ€§çš„é£žè¡Œæ¨¡æ‹Ÿå™¨ã€‚ç›®å‰çš„ç‰©ç†æ‰‹æ„Ÿå·²ç»èƒ½ä¼ è¾¾å‡ºç©¿è¶Šæœºçš„â€œæƒ¯æ€§â€å’Œâ€œé£Žé˜»â€ã€‚\u003C/p>\n\u003Cp>å¦‚æžœèƒ½å¸®åŠ©åˆ°ä½ ï¼å¯ä»¥ç»™æˆ‘æ¥ä¸ªç‚¹èµžå—ï¼Ÿ è°¢è°¢ï¼uðŸ˜˜\u003C/p>",{"headings":136,"localImagePaths":184,"remoteImagePaths":185,"frontmatter":129,"imagePaths":186},[137,140,142,145,147,149,151,154,157,159,162,165,168,170,173,176,178,181,183],{"depth":20,"slug":138,"text":139},"unity-æ— äººæœºç‰©ç†æ¨¡æ‹Ÿå¼€å‘æ—¥å¿—ä»Žé›¶æ‰“é€ ç©¿è¶Šæœºæ‰‹æ„Ÿ","Unity æ— äººæœºç‰©ç†æ¨¡æ‹Ÿå¼€å‘æ—¥å¿—ï¼šä»Žé›¶æ‰“é€ ç©¿è¶Šæœºæ‰‹æ„Ÿ",{"depth":47,"slug":141,"text":141},"å¼€æºä»“åº“åœ°å€",{"depth":47,"slug":143,"text":144},"æ¼”ç¤ºè§†é¢‘","æ¼”ç¤ºè§†é¢‘ï¼š",{"depth":20,"slug":146,"text":146},"åŠŸèƒ½ä»‹ç»",{"depth":40,"slug":148,"text":148},"è¾“å…¥ç³»ç»Ÿ",{"depth":40,"slug":150,"text":150},"æ ¸å¿ƒç‰©ç†å¼•æ“Ž",{"depth":47,"slug":152,"text":153},"pid-æŽ§åˆ¶å™¨-rate-loop","PID æŽ§åˆ¶å™¨ (Rate Loop)",{"depth":47,"slug":155,"text":156},"æ··æŽ§å™¨-mixer","æ··æŽ§å™¨ (Mixer)",{"depth":40,"slug":158,"text":158},"ç‰©ç†ç»†èŠ‚çš„æ‰“ç£¨",{"depth":47,"slug":160,"text":161},"ç”µæœºæƒ¯æ€§-motor-inertia","ç”µæœºæƒ¯æ€§ (Motor Inertia)",{"depth":47,"slug":163,"text":164},"åœ°é¢æ•ˆåº”-ground-effect","åœ°é¢æ•ˆåº” (Ground Effect)",{"depth":47,"slug":166,"text":167},"éžçº¿æ€§ç©ºæ°”é˜»åŠ›-quadratic-drag","éžçº¿æ€§ç©ºæ°”é˜»åŠ› (Quadratic Drag)",{"depth":40,"slug":169,"text":169},"é£žè¡Œæ¨¡å¼",{"depth":47,"slug":171,"text":172},"acro-mode-æ‰‹åŠ¨æ¨¡å¼","Acro Mode (æ‰‹åŠ¨æ¨¡å¼)",{"depth":47,"slug":174,"text":175},"angle-mode-è‡ªç¨³æ¨¡å¼","Angle Mode (è‡ªç¨³æ¨¡å¼)",{"depth":40,"slug":177,"text":177},"ç¨³å®šæ€§ä¸Žä½“éªŒä¼˜åŒ–",{"depth":20,"slug":179,"text":180},"äºŒæºç ","äºŒã€æºç ",{"depth":40,"slug":182,"text":182},"ä»£ç ç»“æž„",{"depth":20,"slug":95,"text":95},[],[],[],"post_20251226070813.md","post_20251229070308",{"id":188,"data":190,"body":191,"filePath":192,"digest":193,"rendered":194,"legacyId":285},{},"# Cosys-AirSim ä¸Ž Microsoft AirSim çš„æž¶æž„æ¼”è¿›ã€åŠŸèƒ½å·®å¼‚åŠç”Ÿæ€ç³»ç»Ÿå¯¹æ¯”\r\n>*æœ¬ç¯‡æ–‡ç« ä¿¡æ¯ç”± Gemini3è¾…åŠ©æ”¶é›†æ‰€å¾—*\r\n\r\n![be7af7bafd5246889697ccdb05fffb7f.jpeg](/uploads/images/1766991763707-719088700.jpeg)\r\n\r\n>é™„å½•ï¼šè¯¦ç»†æŠ€æœ¯è§„æ ¼å¯¹æ¯”è¡¨\r\n\r\n| ç‰¹æ€§ç»´åº¦      | Microsoft AirSim (Original) | Cosys-AirSim         | å…³é”®å½±å“      |\r\n| ------------- | ------------------- | ------------------ | ------------------- |\r\n| ç»´æŠ¤çŠ¶æ€      | å·²å½’æ¡£ (åœæ­¢äºŽ 2022.07)     | æ´»è·ƒå¼€å‘ä¸­                                       | å®‰å…¨æ€§ã€æ–°åŠŸèƒ½æ”¯æŒã€Bugä¿®å¤         |\r\n| Unreal Engine | UE 4.27 (ä¸»è¦)              | UE 5.2 (LTS) / UE 5.5                            | å›¾å½¢è´¨é‡ (Lumen/Nanite)ã€æœªæ¥å…¼å®¹æ€§ |\r\n| ç‰©ç†å¼•æ“Ž      | PhysX                       | Chaos Physics                                    | æ¨¡æ‹Ÿç²¾åº¦ã€UE5 å…¼å®¹æ€§ã€ç¡®å®šæ€§        |\r\n| ROS æ”¯æŒ      | ROS 1 (Wrapper)             | ROS 2 (Native rclcpp)                            | å®žæ—¶æ€§ã€DDS é€šä¿¡ã€Nav2 å…¼å®¹æ€§       |\r\n| LiDAR æ¨¡åž‹    | CPU Raycast, æ— å¼ºåº¦ä¿¡æ¯     | GPU åŠ é€Ÿ, çœŸå®žå¼ºåº¦, å…¨æ‰«æ                       | è‡ªåŠ¨é©¾é©¶æ„ŸçŸ¥è®­ç»ƒã€é«˜é¢‘ä»¿çœŸ          |\r\n| ç‰¹æœ‰ä¼ æ„Ÿå™¨    | åŸºç¡€ (IMU, GPS, Baro, Mag)  | + Echo (å£°çº³), GPU LiDAR, Light                  | ç”Ÿç‰©ä»¿ç”Ÿã€å…‰ç…§é²æ£’æ€§ç ”ç©¶            |\r\n| è½¦è¾†ç±»åž‹      | Car, Multirotor             | + Skid Steer (Husky, P3DX), USV (ASVSim), BoxCar | ä»“å‚¨ç‰©æµã€æµ·äº‹åº”ç”¨ã€å¿«é€ŸéªŒè¯        |\r\n| å¼€å‘æŽ¥å£      | C++, Python, Java           | C++, Python, Matlab                              | å·¥ç¨‹ç§‘ç ”ä¾¿åˆ©æ€§ã€Simulink é›†æˆ       |\r\n| Unity æ”¯æŒ    | å®žéªŒæ€§æ”¯æŒ                  | å·²ç§»é™¤                                           | èµ„æºé›†ä¸­äºŽ UE ä¼˜åŒ–                  |\r\n| è¯­ä¹‰åˆ†å‰²      | 255 ID é™åˆ¶                 | æ— é™ ID, è‡ªåŠ¨ç½‘æ ¼ç€è‰²                            | å¤§è§„æ¨¡åœºæ™¯æ•°æ®é›†ç”Ÿæˆã€å®žä¾‹åˆ†å‰²      |\r\n\r\n\r\n# 1. æ‰§è¡Œæ‘˜è¦\r\næœ¬ç ”ç©¶æŠ¥å‘Šæ—¨åœ¨è¯¦å°½åˆ†æž Cosys-AirSim ä¸ŽåŽŸç‰ˆ Microsoft AirSim ä¹‹é—´çš„æŠ€æœ¯å·®å¼‚ã€æž¶æž„æ¼”è¿›åŠåº”ç”¨åœºæ™¯ã€‚åœ¨è‡ªä¸»ç³»ç»Ÿä»¿çœŸé¢†åŸŸï¼ŒMicrosoft AirSim æ›¾é•¿æœŸå æ®ä¸»å¯¼åœ°ä½ï¼Œä¸ºæ— äººæœºï¼ˆUAVï¼‰å’Œè‡ªåŠ¨é©¾é©¶æ±½è½¦çš„ç ”ç©¶æä¾›äº†åŸºäºŽè™šå¹»å¼•æ“Žï¼ˆUnreal Engineï¼‰çš„é«˜ä¿çœŸç‰©ç†ä¸Žè§†è§‰æ¨¡æ‹ŸçŽ¯å¢ƒã€‚ç„¶è€Œï¼Œéšç€ Microsoft äºŽ 2022 å¹´ 7 æœˆæ­£å¼å®£å¸ƒç»ˆæ­¢å¯¹åŽŸç‰ˆ AirSim çš„ç»´æŠ¤å¹¶å°†å…¶é¡¹ç›®å½’æ¡£ï¼Œå¼€æºç¤¾åŒºä¸Žå­¦æœ¯ç•Œè¿«åˆ‡éœ€è¦ä¸€ä¸ªèƒ½å¤Ÿç»§æ‰¿å…¶é«˜ä¿çœŸç‰©ç†ä»¿çœŸé—äº§å¹¶é€‚é…çŽ°ä»£å›¾å½¢å¼•æ“Žï¼ˆå¦‚ Unreal Engine 5ï¼‰çš„æ›¿ä»£æ–¹æ¡ˆã€‚\r\nCosys-AirSim ä½œä¸ºå®‰ç‰¹å«æ™®å¤§å­¦ï¼ˆUniversity of Antwerpï¼‰Cosys-Lab å¼€å‘å¹¶ç»´æŠ¤çš„æ´»è·ƒåˆ†æ”¯ï¼Œä¸ä»…å¡«è¡¥äº†å¾®è½¯é€€å‡ºåŽçš„ç”Ÿæ€ç©ºç™½ï¼Œæ›´åœ¨ä¼ æ„Ÿå™¨æ¨¡æ€çš„æ·±åº¦ã€ROS2 åŽŸç”Ÿæ”¯æŒçš„å¹¿åº¦ã€ç‰©ç†å¼•æ“Žçš„ä»£é™…è¿ç§»ï¼ˆä»Ž PhysX åˆ° Chaosï¼‰ä»¥åŠè·¨åŸŸä»¿çœŸï¼ˆå¦‚æ°´é¢æ— äººè‰‡ ASVSimï¼‰ç­‰æ–¹é¢å®žçŽ°äº†é‡å¤§çªç ´ã€‚\r\næœ¬æŠ¥å‘Šå°†æ·±å…¥å‰–æžä¸¤è€…åœ¨åº•å±‚æž¶æž„ã€æ¸²æŸ“ç®¡çº¿ã€API æŽ¥å£å…¼å®¹æ€§ã€å¤šæ™ºèƒ½ä½“ååŒæœºåˆ¶ä»¥åŠå¼€å‘ç”Ÿæ€ç­‰ç»´åº¦çš„å…·ä½“å·®å¼‚ã€‚ç‰¹åˆ«æ˜¯ï¼Œæˆ‘ä»¬å°†é‡ç‚¹è®¨è®º Cosys-AirSim å¦‚ä½•åˆ©ç”¨ Unreal Engine 5 çš„ Nanite å’Œ Lumen æŠ€æœ¯æå‡æ„ŸçŸ¥æ•°æ®çš„çœŸå®žæ€§ï¼Œä»¥åŠå…¶å½»åº•é‡æž„çš„ ROS2 æŽ¥å£å¦‚ä½•æ»¡è¶³çŽ°ä»£æœºå™¨äººå·¥ä¸šå¯¹å®žæ—¶æ€§å’Œåˆ†å¸ƒå¼é€šä¿¡çš„éœ€æ±‚ã€‚æ­¤å¤–ï¼ŒæŠ¥å‘Šè¿˜å°†è¯¦ç»†ä»‹ç»æ–°å¢žçš„ç”Ÿç‰©å¯å‘å¼ä¼ æ„Ÿå™¨ï¼ˆå¦‚å›žå£°å®šä½ä¼ æ„Ÿå™¨ï¼‰å’Œæ°´é¢è½½å…·æ¨¡æ‹Ÿèƒ½åŠ›ï¼Œä¸ºæœºå™¨äººç ”ç©¶äººå‘˜ã€è‡ªåŠ¨é©¾é©¶å·¥ç¨‹å¸ˆåŠä»¿çœŸæž¶æž„å¸ˆæä¾›æƒå¨çš„è¿ç§»æŒ‡å—ä¸ŽæŠ€æœ¯å‚è€ƒã€‚\r\n#  2. å¼•è¨€ï¼šä»¿çœŸå¹³å°çš„ä»£é™…æ›´æ›¿ä¸ŽæŠ€æœ¯åˆ†å‰\r\n## 2.1 Microsoft AirSim çš„åŽ†å²åœ°ä½ä¸Žç»ˆç»“\r\nè‡ª 2017 å¹´ç”± Microsoft Research å‘å¸ƒä»¥æ¥ï¼ŒAirSim è¿…é€Ÿæˆä¸ºè‡ªä¸»ç³»ç»Ÿç ”ç©¶é¢†åŸŸçš„åŸºçŸ³ ã€‚å®ƒé€šè¿‡ä½œä¸º Unreal Engine çš„æ’ä»¶è¿è¡Œï¼Œåˆ©ç”¨æ¸¸æˆå¼•æ“Žå¼ºå¤§çš„æ¸²æŸ“èƒ½åŠ›æ¥ç”Ÿæˆé€¼çœŸçš„ RGB å›¾åƒã€æ·±åº¦å›¾å’Œè¯­ä¹‰åˆ†å‰²å›¾ï¼Œä»Žè€Œè§£å†³äº†æ·±åº¦å­¦ä¹ æ¨¡åž‹è®­ç»ƒä¸­æ•°æ®åŒ®ä¹çš„å…³é”®ç—›ç‚¹ï¼Œå³â€œæ¨¡æ‹Ÿ-çŽ°å®žå·®è·â€ï¼ˆSim-to-Real Gapï¼‰ã€‚æ— è®ºæ˜¯ç”¨äºŽæ— äººæœºé¿éšœçš„å¼ºåŒ–å­¦ä¹ ç®—æ³•ï¼Œè¿˜æ˜¯è‡ªåŠ¨é©¾é©¶æ±½è½¦çš„è®¡ç®—æœºè§†è§‰ç³»ç»Ÿï¼ŒAirSim éƒ½æä¾›äº†ç²¾ç¡®çš„ç‰©ç†æ¨¡æ‹Ÿå’Œä¸°å¯Œçš„æ•°æ®æŽ¥å£ã€‚\r\nç„¶è€Œï¼Œè½¯ä»¶ç”Ÿå‘½å‘¨æœŸæ€»æ˜¯æœ‰é™çš„ã€‚2022 å¹´ï¼Œå¾®è½¯å®£å¸ƒåŽŸç‰ˆ AirSim é¡¹ç›®å·²å®Œæˆå…¶åŽ†å²ä½¿å‘½ï¼Œå¹¶å°†å…¶ GitHub ä»“åº“å½’æ¡£ï¼ˆArchivedï¼‰ã€‚å¾®è½¯çš„æˆ˜ç•¥é‡å¿ƒè½¬ç§»åˆ°äº†å•†ä¸šé—­æºå¹³å° \"Project AirSim\" ä¸Šï¼Œæ—¨åœ¨ä¸ºèˆªç©ºå·¥ä¸šæä¾›æ›´é«˜çº§åˆ«çš„å•†ä¸šæ¨¡æ‹ŸæœåŠ¡ ã€‚è¿™ä¸€å†³å®šäº§ç”Ÿäº†æ·±è¿œçš„å½±å“ï¼šåŽŸç‰ˆ AirSim åœæ­¢äº†å¯¹æ–°ç‰¹æ€§çš„æ”¯æŒï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œå®ƒä¸å†é€‚é… Unreal Engine çš„åŽç»­ç‰ˆæœ¬ï¼ˆä¸»è¦æ˜¯ UE5ï¼‰ï¼Œå¯¼è‡´å…¶åœ¨å›¾å½¢æŠ€æœ¯é£žé€Ÿå‘å±•çš„å½“ä¸‹é€æ¸æ˜¾å¾—è¿‡æ—¶ã€‚ç¤¾åŒºç”¨æˆ·è™½ç„¶ä»å¯è®¿é—®ä»£ç ï¼Œä½†é¢ä¸´ç€ç»´æŠ¤ç¼ºå¤±ã€Bug æ— æ³•ä¿®å¤ä»¥åŠæ— æ³•åˆ©ç”¨æ–°ç¡¬ä»¶ç‰¹æ€§çš„å›°å¢ƒ ã€‚\r\n## 2.2 Cosys-AirSim çš„å´›èµ·ä¸Žå®šä½\r\nåœ¨å¾®è½¯å®£å¸ƒåœæ­¢ç»´æŠ¤çš„åŒæ—¶ï¼Œå­¦æœ¯ç•Œå’Œå·¥ä¸šç•Œå¯¹å¼€æºé«˜ä¿çœŸä»¿çœŸå™¨çš„éœ€æ±‚å¹¶æœªå‡å¼±ã€‚Cosys-AirSim æ­£æ˜¯åœ¨è¿™ä¸€èƒŒæ™¯ä¸‹åº”è¿è€Œç”Ÿã€‚å®ƒå¹¶éžç®€å•çš„ä»£ç æ‰˜ç®¡æˆ–å¾®å°çš„ç»´æŠ¤æ€§åˆ†æ”¯ï¼Œè€Œæ˜¯ç”±å®‰ç‰¹å«æ™®å¤§å­¦ï¼ˆUniversity of Antwerpï¼‰çš„ Cosys-Labï¼ˆç½‘ç»œç‰©ç†ç³»ç»Ÿå®žéªŒå®¤ï¼‰å‘èµ·å¹¶æ·±åº¦å®šåˆ¶çš„æ¼”è¿›ç‰ˆæœ¬ ã€‚\r\nCosys-AirSim çš„æ ¸å¿ƒå®šä½æ˜¯ä»Žä¸€ä¸ªé€šç”¨çš„ AI ç ”ç©¶æ¼”ç¤ºå¹³å°ï¼Œè½¬åž‹ä¸ºé¢å‘å¤æ‚å·¥ä¸šåº”ç”¨ã€å¤šé¢†åŸŸæœºå™¨äººç ”ç©¶çš„ç”Ÿäº§åŠ›å·¥å…· ã€‚Cosys-Lab å›¢é˜Ÿä¸ä»…æ‰¿æ‹…äº†ä»£ç ç»´æŠ¤çš„é‡ä»»ï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œä»–ä»¬å¯¹åº•å±‚æž¶æž„è¿›è¡Œäº†å¤§åˆ€é˜”æ–§çš„é‡æž„ï¼Œä»¥é€‚é… Unreal Engine 5 çš„é©å‘½æ€§ç‰¹æ€§ ã€‚è¿™ä¸€åˆ†å‰ç‰ˆæœ¬ï¼ˆForkï¼‰å¼•å…¥äº†å¯¹æ°´é¢æ— äººè‰‡ï¼ˆASVSimï¼‰ã€å·¥ä¸šçº§ç§»åŠ¨æœºå™¨äººï¼ˆå¦‚ Huskyï¼‰ã€ä»¥åŠç”Ÿç‰©å£°çº³æ„ŸçŸ¥ï¼ˆSonoNERFï¼‰çš„æ”¯æŒï¼Œæžå¤§åœ°æ‰©å±•äº† AirSim çš„åº”ç”¨è¾¹ç•Œ ã€‚\r\næœ¬è´¨ä¸Šï¼ŒCosys-AirSim ä»£è¡¨äº† AirSim æŠ€æœ¯æ ˆçš„çŽ°ä»£åŒ–é‡ç”Ÿã€‚å®ƒä¸ä»…è§£å†³äº†åŽŸç‰ˆåœ¨ UE5 çŽ¯å¢ƒä¸‹çš„å…¼å®¹æ€§é—®é¢˜ï¼Œè¿˜é’ˆå¯¹çŽ°ä»£æœºå™¨äººå¼€å‘æµç¨‹ï¼ˆç‰¹åˆ«æ˜¯ ROS2ï¼‰è¿›è¡Œäº†åŽŸç”Ÿé€‚é…ï¼Œæˆä¸ºäº†ç›®å‰å”¯ä¸€æ´»è·ƒä¸”åŠŸèƒ½å®Œå¤‡çš„ AirSim åŽç»§è€… ã€‚\r\n# 3. æ ¸å¿ƒæž¶æž„ä¸Žå¼•æ“Žæ”¯æŒ\r\nåŽŸç‰ˆ AirSim ä¸Ž Cosys-AirSim æœ€æ ¹æœ¬çš„åŒºåˆ«åœ¨äºŽå…¶æ‰€ä¾é™„çš„åº•å±‚æ¸¸æˆå¼•æ“Žç‰ˆæœ¬åŠå…¶é…å¥—çš„ç‰©ç†ç³»ç»Ÿã€‚è¿™ç§åº•å±‚çš„å·®å¼‚å†³å®šäº†ä»¿çœŸå™¨çš„æ¸²æŸ“ä¸Šé™ã€ç‰©ç†è®¡ç®—ç²¾åº¦ä»¥åŠæœªæ¥çš„å¯æ‰©å±•æ€§ã€‚\r\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/f3605f34ae7b43e88483fb6eede35ced.jpeg)\r\n\r\n## 3.1 ç‰©ç†å¼•æ“Žçš„èŒƒå¼è½¬ç§»ï¼šPhysX vs. Chaos\r\nç‰©ç†å¼•æ“Žæ˜¯ä»¿çœŸå™¨çš„â€œå¿ƒè„â€ï¼Œè´Ÿè´£è®¡ç®—ç¢°æ’žæ£€æµ‹ã€åˆšä½“åŠ¨åŠ›å­¦ã€è½¦è¾†æ‚¬æŒ‚ä»¥åŠç©ºæ°”åŠ¨åŠ›å­¦æ•ˆåº”ã€‚åœ¨ Unreal Engine 4 åˆ° 5 çš„å‡çº§è¿‡ç¨‹ä¸­ï¼Œç‰©ç†å¼•æ“Žå‘ç”Ÿäº†å½»åº•çš„æ›´æ›¿ï¼Œè¿™ä¹Ÿæ˜¯åŽŸç‰ˆ AirSim æ— æ³•ç›´æŽ¥è¿è¡Œåœ¨ UE5 ä¸Šçš„ä¸»è¦åŽŸå› ã€‚\r\n###  * Microsoft AirSim (Legacy) - æ·±åº¦ç»‘å®š NVIDIA PhysX\r\n   * æŠ€æœ¯èƒŒæ™¯: åœ¨ UE4 æ—¶ä»£ï¼ŒNVIDIA çš„ PhysX æ˜¯å¼•æ“Žé»˜è®¤é›†æˆçš„ç‰©ç†è§£å†³æ–¹æ¡ˆã€‚åŽŸç‰ˆ AirSim çš„æ ¸å¿ƒç±» FastPhysicsEngine ä»¥åŠè½¦è¾†åŠ¨åŠ›å­¦æ¨¡åž‹ PhysXCar æ˜¯ç›´æŽ¥åŸºäºŽ PhysX API æž„å»ºçš„ ã€‚å®ƒä¾èµ– PhysX æ¥å¤„ç†è½¦è¾†çš„è½®èƒŽæ‘©æ“¦ã€æ‚¬æŒ‚é˜»å°¼ä»¥åŠå¤šæ—‹ç¿¼æ— äººæœºçš„åˆšä½“è¿åŠ¨ã€‚\r\n   * å±€é™æ€§: éšç€ UE5 çš„å‘å¸ƒï¼ŒEpic Games ä¸ºäº†è¿½æ±‚æ›´é«˜çš„ç‰©ç†è®¡ç®—ç¡®å®šæ€§å’Œè·¨å¹³å°ä¸€è‡´æ€§ï¼Œå¼ƒç”¨äº† PhysXï¼Œå…¨é¢è½¬å‘è‡ªç ”çš„ Chaos ç‰©ç†å¼•æ“Žã€‚ç”±äºŽåŽŸç‰ˆ AirSim çš„ä»£ç åº“ä¸­å……æ–¥ç€å¯¹ PhysX æ•°æ®ç»“æž„å’Œå‡½æ•°è°ƒç”¨çš„ä¾èµ–ï¼Œè¿™å¯¼è‡´å…¶åœ¨ UE5 çŽ¯å¢ƒä¸‹æ— æ³•ç¼–è¯‘ï¼Œç›´æŽ¥é™åˆ¶äº†å…¶ç”Ÿå‘½å‘¨æœŸ ã€‚\r\n   * çŽ°çŠ¶: åŽŸç‰ˆ AirSim ä»…èƒ½ç¨³å®šè¿è¡ŒäºŽ UE 4.27 åŠæ›´æ—©ç‰ˆæœ¬ï¼Œæ— æ³•äº«å—åŽç»­å¼•æ“Žæ›´æ–°å¸¦æ¥çš„æ€§èƒ½å’ŒåŠŸèƒ½æå‡ã€‚\r\n * Cosys-AirSim (Modern) - å…¨é¢è¿ç§»è‡³ Chaos Physics\r\n   * æŠ€æœ¯é‡æž„: Cosys-Lab æŠ•å…¥äº†å¤§é‡å·¥ç¨‹èµ„æºï¼Œå°†åº•å±‚çš„ç‰©ç†äº¤äº’é€»è¾‘ä»Ž PhysX è¿ç§»åˆ°äº† Chaosã€‚è¿™ä¸ä»…ä»…æ˜¯ç®€å•çš„ API æ›¿æ¢ï¼Œè¿˜æ¶‰åŠåˆ°è½¦è¾†åŠ¨åŠ›å­¦æ¨¡åž‹çš„é‡æ–°æ ¡å‡†ã€‚Cosys-AirSim åˆ©ç”¨ UE5 çš„ Chaos Vehicles æ’ä»¶é‡å†™äº†å››è½®è½¦è¾†æ¨¡åž‹ï¼Œç¡®ä¿äº†åœ¨æ–°çš„ç‰©ç†æ±‚è§£å™¨ä¸‹ï¼Œè½¦è¾†çš„åŠ å‡é€Ÿã€è½¬å‘å’Œæ‚¬æŒ‚è¡Œä¸ºä¾ç„¶ç¬¦åˆç‰©ç†è§„å¾‹ ã€‚\r\n   * ä¼˜åŠ¿: Chaos ç‰©ç†å¼•æ“Žæ”¯æŒå¼‚æ­¥ç‰©ç†æ­¥è¿›ï¼ˆAsync Physics Tickingï¼‰ï¼Œå…è®¸ç‰©ç†æ¨¡æ‹Ÿä»¥ç‹¬ç«‹äºŽæ¸²æŸ“å¸§çŽ‡çš„å›ºå®šé¢‘çŽ‡è¿è¡Œï¼Œè¿™å¯¹äºŽä¿è¯ä»¿çœŸæ•°æ®çš„æ—¶é—´ä¸€è‡´æ€§è‡³å…³é‡è¦ã€‚æ­¤å¤–ï¼ŒChaos åœ¨å¤„ç†å¤æ‚å‡ ä½•ä½“ç¢°æ’žï¼ˆComplex Collisionï¼‰å’Œå¤§è§„æ¨¡ç ´ç¢Žæ•ˆæžœæ–¹é¢è¡¨çŽ°æ›´ä¼˜ï¼Œä¸ºæ¨¡æ‹Ÿæœºå™¨äººä¸ŽçŽ¯å¢ƒçš„äº¤äº’ï¼ˆå¦‚æ— äººæœºæ’žå‡»éšœç¢ç‰©ï¼‰æä¾›äº†æ›´çœŸå®žçš„åé¦ˆã€‚\r\n   * ç‰ˆæœ¬æ”¯æŒ: Cosys-AirSim å®˜æ–¹æä¾›äº†é’ˆå¯¹ UE 5.2 (LTS) å’Œæœ€æ–° UE 5.5 çš„é¢„ç¼–è¯‘æ’ä»¶å’Œæºç æ”¯æŒï¼Œç¡®ä¿ç”¨æˆ·å§‹ç»ˆå¤„äºŽæŠ€æœ¯å‰æ²¿ ã€‚\r\n3.2 æ¸²æŸ“ç®¡çº¿ä¸Žè§†è§‰é«˜ä¿çœŸåº¦ï¼šNanite ä¸Ž Lumen çš„å¼•å…¥\r\nè§†è§‰ä¼ æ„Ÿå™¨ï¼ˆæ‘„åƒå¤´ï¼‰æ˜¯è‡ªä¸»ç³»ç»Ÿä¸­æœ€å¸¸ç”¨çš„æ„ŸçŸ¥æ‰‹æ®µã€‚ä»¿çœŸå›¾åƒçš„é€¼çœŸåº¦ï¼ˆPhotorealismï¼‰ç›´æŽ¥å†³å®šäº†åœ¨ä»¿çœŸä¸­è®­ç»ƒçš„è®¡ç®—æœºè§†è§‰ï¼ˆCVï¼‰æ¨¡åž‹èƒ½å¦è¿ç§»åˆ°çŽ°å®žä¸–ç•Œã€‚Cosys-AirSim é€šè¿‡æ”¯æŒ UE5ï¼Œå¼•å…¥äº†å›¾å½¢å­¦é¢†åŸŸçš„ä¸¤é¡¹é¢ è¦†æ€§æŠ€æœ¯ï¼šNanite å’Œ Lumenï¼Œè¿™æ˜¯åŽŸç‰ˆ AirSim æ— æ³•ä¼åŠçš„ã€‚\r\n * Lumen å…¨åŠ¨æ€å…¨å±€å…‰ç…§ (Global Illumination):\r\n   * åŽŸç‰ˆ AirSim: ä¸»è¦ä¾èµ– UE4 çš„é¢„çƒ˜ç„™å…‰ç…§ï¼ˆBaked Lightingï¼‰æˆ–ç®€å•çš„å±å¹•ç©ºé—´æŠ€æœ¯ï¼ˆSSGIï¼‰ã€‚åœ¨å…‰ç…§æ¡ä»¶å¿«é€Ÿå˜åŒ–çš„åœºæ™¯ï¼ˆå¦‚æ— äººæœºä»Žå®¤å†…é£žåˆ°å®¤å¤–ï¼Œæˆ–æ—¥å¤œäº¤æ›¿ï¼‰ä¸­ï¼Œå…‰å½±æ•ˆæžœå¾€å¾€æ˜¾å¾—ç”Ÿç¡¬ä¸”ä¸çœŸå®žã€‚\r\n   * Cosys-AirSim: å¯ç”¨äº† Lumen ç³»ç»Ÿï¼Œèƒ½å¤Ÿå®žæ—¶æ¨¡æ‹Ÿå…‰çº¿çš„æ— é™æ¬¡åå¼¹å’Œé—´æŽ¥ç…§æ˜Žã€‚è¿™æ„å‘³ç€å½“çº¢è‰²çš„å¡è½¦é©¶è¿‡ç™½è‰²å¢™å£æ—¶ï¼Œå¢™å£ä¼šçœŸå®žåœ°å‘ˆçŽ°å‡ºçº¢è‰²çš„æ¼«åå°„å…‰ï¼ˆColor Bleedingï¼‰ã€‚å¯¹äºŽä¾èµ–å…‰ç…§ä¸€è‡´æ€§çš„è§†è§‰ SLAM å’Œç›®æ ‡æ£€æµ‹ç®—æ³•ï¼ŒLumen æä¾›äº†æžå…¶æŽ¥è¿‘çœŸå®žç‰©ç†ä¸–ç•Œçš„å…‰ç…§çŽ¯å¢ƒï¼Œæ˜¾è‘—é™ä½Žäº† Domain Gap ã€‚\r\n * Nanite è™šæ‹ŸåŒ–å¾®å¤šè¾¹å½¢å‡ ä½•ä½“:\r\n   * åŽŸç‰ˆ AirSim: å—é™äºŽä¼ ç»Ÿæ¸²æŸ“ç®¡çº¿ï¼Œåœºæ™¯ä¸­çš„æ¨¡åž‹å¿…é¡»åˆ¶ä½œå¤šä¸ªç»†èŠ‚å±‚æ¬¡ï¼ˆLODsï¼‰ä»¥å¹³è¡¡æ€§èƒ½ã€‚é«˜ç²¾åº¦çš„å‡ ä½•ä½“ï¼ˆå¦‚æžå…¶å¤æ‚çš„æ ‘æœ¨æˆ–å²©çŸ³ï¼‰ä¼šå¯¼è‡´æ¸²æŸ“å¸§çŽ‡éª¤é™ã€‚\r\n   * Cosys-AirSim: æ”¯æŒ Nanite æŠ€æœ¯ï¼Œå…è®¸ç›´æŽ¥å¯¼å…¥æ‹¥æœ‰æ•°äº¿å¤šè¾¹å½¢çš„ç”µå½±çº§èµ„äº§ï¼ˆå¦‚ Quixel Megascans åº“ï¼‰ã€‚Nanite ä¼šæ ¹æ®æ‘„åƒæœºè·ç¦»è‡ªåŠ¨æµå¼ä¼ è¾“å‡ ä½•ç»†èŠ‚ï¼Œä½¿å¾—ä»¿çœŸåœºæ™¯ä¸­çš„ç‰©ä½“å¯ä»¥æ‹¥æœ‰åƒç´ çº§åˆ«çš„å‡ ä½•ç²¾åº¦ã€‚è¿™å¯¹äºŽæ¿€å…‰é›·è¾¾ï¼ˆLiDARï¼‰ä»¿çœŸå°¤ä¸ºå…³é”®ï¼Œå› ä¸ºæ›´ç»†è‡´çš„è¡¨é¢å‡ ä½•æ„å‘³ç€æ›´çœŸå®žçš„æ¿€å…‰åå°„ç‚¹äº‘ï¼Œå°¤å…¶æ˜¯åœ¨æ¨¡æ‹Ÿéžç»“æž„åŒ–çŽ¯å¢ƒï¼ˆå¦‚æ£®æž—ã€åºŸå¢Ÿï¼‰æ—¶ ã€‚\r\n3.3 æ€§èƒ½ä¼˜åŒ–ä¸Žåœºæ™¯ç®¡ç†\r\nè™½ç„¶ UE5 å¸¦æ¥äº†ç”»è´¨çš„é£žè·ƒï¼Œä½†ä¹Ÿå¼•å…¥äº†æ›´é«˜çš„è®¡ç®—è´Ÿè½½ã€‚Cosys-AirSim é’ˆå¯¹è¿™ä¸€æŒ‘æˆ˜è¿›è¡Œäº†ç‰¹å®šçš„ä¼˜åŒ–ï¼š\r\n### * å®žä¾‹åŒ–æ¸²æŸ“ä¼˜åŒ– (Instanced Rendering): \r\næ”¹è¿›äº†å¯¹å¤§è§„æ¨¡åœºæ™¯ä¸­é‡å¤å¯¹è±¡ï¼ˆå¦‚ä»“åº“ä¸­çš„æ•°åƒä¸ªé›†è£…ç®±æˆ–æ£®æž—ä¸­çš„æ ‘æœ¨ï¼‰çš„æ¸²æŸ“æ•ˆçŽ‡ï¼Œå‡å°‘äº† Draw Call çš„å¼€é”€ã€‚\r\n### * ä¼ æ„Ÿå™¨è§£è€¦ (Sensor Decoupling): \r\né‡æž„äº†ä¼ æ„Ÿå™¨æ›´æ–°å¾ªçŽ¯ã€‚åœ¨åŽŸç‰ˆ AirSim ä¸­ï¼Œä¼ æ„Ÿå™¨å¾€å¾€ä¸Žä¸»ç‰©ç†å¾ªçŽ¯å¼ºç»‘å®šã€‚Cosys-AirSim å…è®¸ä¼ æ„Ÿå™¨ä»¥ç‹¬ç«‹é¢‘çŽ‡è¿è¡Œï¼Œä¸”æ”¯æŒä¼ æ„Ÿå™¨åœ¨ä¸åŒè½¦è¾†é—´çš„çµæ´»æŒ‚è½½ï¼Œç”šè‡³æ”¯æŒç‹¬ç«‹äºŽè½¦è¾†çš„â€œä¸–ç•Œä¼ æ„Ÿå™¨â€ï¼ˆWorld Sensorsï¼‰ï¼Œç”¨äºŽæ¨¡æ‹Ÿç›‘æŽ§æ‘„åƒå¤´ç­‰å›ºå®šè®¾æ–½ ã€‚\r\nä¸‹è¡¨æ€»ç»“äº†ä¸¤è€…åœ¨å¼•æ“Žæ”¯æŒæ–¹é¢çš„å…³é”®å·®å¼‚ï¼š\r\n\r\n| ç‰¹æ€§ç»´åº¦       | Microsoft AirSim (Original) |Cosys-AirSim         | æŠ€æœ¯å½±å“   |\r\n| -------------- | ---------------------- | --------------- | ----------------- |\r\n| æ”¯æŒçš„è™šå¹»å¼•æ“Ž | UE 4.27 åŠæ›´æ—©      | UE 5.2, UE 5.5    | å›¾å½¢æ¸²æŸ“è´¨é‡ä¸Šé™     |\r\n| ç‰©ç†å¼•æ“Ž       | NVIDIA PhysX      | Chaos Physics  | ç‰©ç†ä»¿çœŸç²¾åº¦ä¸Žå…¼å®¹æ€§ |\r\n| å‡ ä½•ç³»ç»Ÿ       | ä¼ ç»Ÿ Mesh LODs     | Nanite         | æ”¯æŒæžé«˜ç²¾åº¦çŽ¯å¢ƒå»ºæ¨¡ |\r\n| å…‰ç…§ç³»ç»Ÿ       | çƒ˜ç„™/å…‰æ …åŒ–å…‰ç…§      | Lumen (å®žæ—¶å…¨å±€å…‰ç…§) | åŠ¨æ€å…‰å½±çœŸå®žåº¦       |\r\n| ç»´æŠ¤çŠ¶æ€       | å½’æ¡£ (åœæ­¢æ›´æ–°)      | æ´»è·ƒ (æŒç»­è¿­ä»£)      | å¯¹æ–°ç¡¬ä»¶/é©±åŠ¨çš„é€‚é…  |\r\n\r\n\r\n# 4.ä¼ æ„Ÿå™¨ç”Ÿæ€ç³»ç»Ÿçš„æ‰©å±•ä¸Žæ·±åŒ–\r\n ä¼ æ„Ÿå™¨ä»¿çœŸæ˜¯ Cosys-AirSim ä¸ŽåŽŸç‰ˆ AirSim å·®å¼‚æœ€å¤§çš„é¢†åŸŸä¹‹ä¸€ã€‚Cosys-Lab ä¸ä»…ä¿®å¤äº†åŽŸç‰ˆä¼ æ„Ÿå™¨æ¨¡åž‹ä¸­çš„å·²çŸ¥ç¼ºé™·ï¼Œè¿˜å¼•å…¥äº†å…¨æ–°çš„ä¼ æ„Ÿå™¨ç±»åž‹ï¼Œç‰¹åˆ«æ˜¯é’ˆå¯¹å·¥ä¸šåº”ç”¨å’Œç”Ÿç‰©ä»¿ç”Ÿç ”ç©¶çš„éœ€æ±‚è¿›è¡Œäº†å®šåˆ¶ã€‚\r\n## 4.1 æ¿€å…‰é›·è¾¾ï¼ˆLiDARï¼‰çš„é©æ–°ï¼šä»Ž CPU åˆ° GPU\r\næ¿€å…‰é›·è¾¾æ˜¯è‡ªåŠ¨é©¾é©¶æ„ŸçŸ¥çš„æ ¸å¿ƒä¼ æ„Ÿå™¨ã€‚åŽŸç‰ˆ AirSim çš„ LiDAR å®žçŽ°å­˜åœ¨æ˜¾è‘—çš„æ€§èƒ½ç“¶é¢ˆå’ŒåŠŸèƒ½ç¼ºå¤±ï¼Œè€Œ Cosys-AirSim å¯¹æ­¤è¿›è¡Œäº†å½»åº•çš„é‡å†™ã€‚\r\n * è®¡ç®—æž¶æž„ï¼šCPU Raycast vs. GPU Acceleration\r\n   * åŽŸç‰ˆ AirSim: ä½¿ç”¨ CPU è¿›è¡Œå°„çº¿æŠ•å°„ï¼ˆRay-castingï¼‰æ¥æ¨¡æ‹Ÿæ¿€å…‰æŸã€‚å½“æ¨¡æ‹Ÿä½Žçº¿æŸé›·è¾¾ï¼ˆå¦‚ 16 çº¿ VLP-16ï¼‰æ—¶æ€§èƒ½å°šå¯ï¼Œä½†åœ¨æ¨¡æ‹Ÿé«˜çº¿æŸé›·è¾¾ï¼ˆå¦‚ 64 çº¿æˆ– 128 çº¿ï¼‰æˆ–é«˜åˆ†è¾¨çŽ‡å›ºæ€é›·è¾¾æ—¶ï¼ŒCPU è´Ÿè½½ä¼šå‘ˆæŒ‡æ•°çº§ä¸Šå‡ï¼Œå¯¼è‡´ä»¿çœŸå¸§çŽ‡å¤§å¹…ä¸‹é™ï¼Œç”šè‡³æ— æ³•æ»¡è¶³å®žæ—¶æ€§è¦æ±‚ã€‚\r\n   * Cosys-AirSim: å¼•å…¥äº† GPU LiDAR ä¼ æ„Ÿå™¨ç±»åž‹ã€‚å®ƒåˆ©ç”¨çŽ°ä»£ GPU çš„è®¡ç®—ç€è‰²å™¨ï¼ˆCompute Shadersï¼‰æˆ–å…‰æ …åŒ–ç®¡çº¿å¹¶è¡Œå¤„ç†æˆåƒä¸Šä¸‡ä¸ªæ¿€å…‰ç‚¹çš„ç¢°æ’žæ£€æµ‹ã€‚è¿™ä½¿å¾—åœ¨ä¿æŒé«˜å¸§çŽ‡çš„åŒæ—¶ï¼Œèƒ½å¤Ÿæ¨¡æ‹Ÿæžé«˜ç‚¹å¯†åº¦çš„é›·è¾¾æ‰«æï¼Œæ”¯æŒæ¨¡æ‹Ÿå¦‚ Velodyne Alpha Prime æˆ– Ouster OS-128 ç­‰é«˜ç«¯ä¼ æ„Ÿå™¨ ã€‚\r\n * å›žæ³¢å¼ºåº¦ï¼ˆIntensityï¼‰ä¸Žç‰©ç†å»ºæ¨¡\r\n   * åŽŸç‰ˆ AirSim: ç”Ÿæˆçš„ç‚¹äº‘æ•°æ®é€šå¸¸ç¼ºä¹çœŸå®žçš„å¼ºåº¦ä¿¡æ¯ï¼Œæˆ–è€…ä»…æä¾›åŸºäºŽè·ç¦»çš„ç®€å•è¡°å‡ï¼Œæ— æ³•åæ˜ ç‰©ä½“æè´¨å¯¹æ¿€å…‰åå°„çŽ‡çš„å½±å“ã€‚\r\n   * Cosys-AirSim: å®žçŽ°äº†åŸºäºŽç‰©ç†çš„å¼ºåº¦æ¨¡æ‹Ÿã€‚æ¨¡åž‹è€ƒè™‘äº†ç‰©ä½“è¡¨é¢çš„æè´¨å±žæ€§ï¼ˆåå°„çŽ‡ï¼‰ã€æ¿€å…‰å…¥å°„è§’ã€å¤§æ°”è¡°å‡ä»¥åŠæ¿€å…‰é›·è¾¾è‡ªèº«çš„å‘å°„åŠŸçŽ‡æ›²çº¿ã€‚ç”Ÿæˆçš„ç‚¹äº‘åŒ…å«çœŸå®žçš„ Intensity é€šé“ï¼Œè¿™å¯¹äºŽå¼€å‘åŸºäºŽå¼ºåº¦çš„å®šä½ç®—æ³•ï¼ˆIntensity-based Localizationï¼‰å’Œè¯­ä¹‰åˆ†å‰²ç®—æ³•è‡³å…³é‡è¦ ã€‚\r\n * æ•°æ®äº¤ä»˜ä¸Žç•¸å˜æ¨¡æ‹Ÿ\r\n   * å…¨æ‰«æäº¤ä»˜ (Full Scan): åŽŸç‰ˆ AirSim çš„ LiDAR æ•°æ®å¾€å¾€å—åˆ°æ¸²æŸ“å¸§çŽ‡çš„é™åˆ¶ï¼Œä¸€æ¬¡ API è°ƒç”¨å¯èƒ½åªè¿”å›žéƒ¨åˆ†æ‰«ææ‰‡åŒºçš„æ•°æ®ã€‚Cosys-AirSim æ”¹è¿›äº† APIï¼Œæ”¯æŒè¾“å‡ºå®Œæ•´çš„ 360 åº¦æ‰«æå¸§ï¼ˆFull Scanï¼‰ï¼Œç¡®ä¿äº†æ•°æ®çš„å®Œæ•´æ€§ ã€‚\r\n   * è¿åŠ¨ç•¸å˜ (Motion Distortion): èƒ½å¤Ÿåœ¨ä»¿çœŸä¸­æ¨¡æ‹Ÿç”±äºŽè½¦è¾†é«˜é€Ÿè¿åŠ¨å¯¼è‡´çš„æ¿€å…‰ç‚¹äº‘ç•¸å˜ï¼ˆRolling Shutter effectï¼‰ï¼Œè¿™å¯¹äºŽéªŒè¯åŽ»ç•¸å˜ç®—æ³•ï¼ˆDe-skewingï¼‰éžå¸¸æœ‰ç”¨ã€‚\r\n4.2 è§†è§‰ä¼ æ„Ÿå™¨ï¼šå…‰å­¦ç¼ºé™·çš„çœŸå®žå†çŽ°\r\nä¸ºäº†ç¼©å° Sim-to-Real Gapï¼ŒCosys-AirSim å¢žå¼ºäº†ç›¸æœºæ¨¡åž‹ï¼Œä½¿å…¶åŒ…å«æ›´å¤šçœŸå®žä¸–ç•Œç›¸æœºçš„å…‰å­¦ç‘•ç–µï¼Œä»Žè€Œé˜²æ­¢ç¥žç»ç½‘ç»œæ¨¡åž‹åœ¨è¿‡äºŽå®Œç¾Žçš„ä»¿çœŸå›¾åƒä¸Šå‘ç”Ÿè¿‡æ‹Ÿåˆã€‚\r\n * é«˜çº§ç•¸å˜æ¨¡åž‹: æ–°å¢žäº†å¯¹ è‰²å·® (Chromatic Aberration)ã€è¿åŠ¨æ¨¡ç³Š (Motion Blur) å’Œ é€é•œç•¸å˜ (Lens Distortion) çš„è¯¦ç»†å‚æ•°é…ç½®ã€‚ç”¨æˆ·å¯ä»¥ç²¾ç¡®æŽ§åˆ¶å¾„å‘ç•¸å˜å’Œåˆ‡å‘ç•¸å˜çš„ç³»æ•°ï¼Œä»¥åŒ¹é…çœŸå®žç›¸æœºçš„å†…å‚ ã€‚\r\n * å…‰ç…§ä¼ æ„Ÿå™¨ (Lighting Sensor): å¼•å…¥äº†ä¸€ç§åä¸º Lighting çš„æ–°å›¾åƒç±»åž‹ã€‚è¿™ç§å›¾åƒä¸åŒ…å«ç‰©ä½“çš„çº¹ç†æè´¨ï¼Œä»…æ¸²æŸ“åœºæ™¯ä¸­çš„å…‰ç…§åˆ†å¸ƒï¼ˆåŒ…æ‹¬é˜´å½±å’Œé«˜å…‰ï¼‰ã€‚è¿™ä¸ºç ”ç©¶å…‰ç…§ä¸å˜æ€§ç®—æ³•æä¾›äº†ç‹¬ç‰¹çš„ Ground Truth æ•°æ® ã€‚\r\n * *å™ªå£°æ¨¡åž‹*: å®žçŽ°äº†æ›´å¤æ‚çš„æ·±åº¦ç›¸æœºå™ªå£°æ¨¡åž‹ï¼Œèƒ½å¤Ÿæ¨¡æ‹ŸçœŸå®ž RGB-D ç›¸æœºï¼ˆå¦‚ RealSenseï¼‰åœ¨ä¸åŒè·ç¦»å’Œæè´¨ä¸‹çš„æµ‹é‡è¯¯å·®ï¼ŒRå¹³æ–¹å€¼è¾¾åˆ° 0.62ï¼Œæ˜¾è‘—ä¼˜äºŽåŽŸç‰ˆç®€å•çš„å™ªå£°å åŠ  ã€‚\r\n4.3 ç”Ÿç‰©å¯å‘å¼æ„ŸçŸ¥ï¼šå£°çº³ä¸Žå›žå£°å®šä½\r\nè¿™æ˜¯ Cosys-AirSim ç‹¬æœ‰çš„ç‰¹è‰²åŠŸèƒ½ï¼ŒæºäºŽ Cosys-Lab åœ¨è™è å›žå£°å®šä½ï¼ˆEcholocationï¼‰æ–¹é¢çš„ç ”ç©¶èƒŒæ™¯ã€‚\r\n * Echo Sensor: å¼•å…¥äº†é«˜ä¿çœŸçš„å£°å­¦ä¼ æ„Ÿå™¨æ¨¡åž‹ï¼Œèƒ½å¤Ÿæ¨¡æ‹Ÿå£°æ³¢åœ¨ä¸‰ç»´çŽ¯å¢ƒä¸­çš„ä¼ æ’­ã€åå°„ã€è¡å°„å’Œå¤šæ™®å‹’æ•ˆåº”ã€‚ç»“åˆç›¸å…³çš„å¼€æºé¡¹ç›® SonoNERFï¼ˆç¥žç»è¾å°„åœºå£°å­¦å»ºæ¨¡ï¼‰ï¼ŒCosys-AirSim èƒ½å¤Ÿç”Ÿæˆé€¼çœŸçš„å£°çº³å›¾è°±ï¼ˆSpectrogramsï¼‰ã€‚\r\n * åº”ç”¨: è¿™ä¸€åŠŸèƒ½ä½¿å¾— Cosys-AirSim æˆä¸ºç ”ç©¶å£°å­¦å¯¼èˆªã€æ°´ä¸‹å£°çº³æˆåƒä»¥åŠç”Ÿç‰©ä»¿ç”Ÿæœºå™¨äººçš„ç‹¬ç‰¹å¹³å°ï¼Œè€ŒåŽŸç‰ˆ AirSim å®Œå…¨ä¸å…·å¤‡å¤„ç†å£°å­¦ä¿¡å·çš„èƒ½åŠ› ã€‚\r\n4.4 è¯­ä¹‰åˆ†å‰²ä¸ŽçœŸå€¼ç³»ç»Ÿçš„çªç ´\r\nè¯­ä¹‰åˆ†å‰²æ˜¯è®¡ç®—æœºè§†è§‰è®­ç»ƒä¸­æœ€é‡è¦çš„æ•°æ®ä¹‹ä¸€ã€‚åŽŸç‰ˆ AirSim åœ¨è¿™æ–¹é¢å­˜åœ¨ä¸€ä¸ªè‘—åçš„â€œç¡¬ä¼¤â€ã€‚\r\n * *ID é™åˆ¶çªç ´*: åŽŸç‰ˆ AirSim çš„åˆ†å‰² ID è¢«é™åˆ¶åœ¨ 0-255 ä¹‹é—´ï¼ˆ8ä½æ•´æ•°ï¼‰ï¼Œè¿™æ„å‘³ç€åœ¨åŒä¸€åœºæ™¯ä¸­æœ€å¤šåªèƒ½åŒºåˆ† 255 ç±»ç‰©ä½“ã€‚å¯¹äºŽåŒ…å«æˆåƒä¸Šä¸‡ä¸ªç‹¬ç«‹å¯¹è±¡ï¼ˆå¦‚æ£®æž—ä¸­çš„æ¯ä¸€æ£µæ ‘ï¼Œæˆ–ä»“åº“ä¸­çš„æ¯ä¸€ä¸ªåŒ…è£¹ï¼‰çš„å¤§è§„æ¨¡åœºæ™¯ï¼Œè¿™ä¸€é™åˆ¶æ˜¯è‡´å‘½çš„ã€‚Cosys-AirSim é‡å†™äº†åº•å±‚çš„åˆ†å‰² ID åˆ†é…é€»è¾‘ï¼Œæ”¯æŒæ•°ç™¾ä¸‡ä¸ªå”¯ä¸€å¯¹è±¡çš„ ID æ˜ å°„ï¼Œæ»¡è¶³äº†å®žä¾‹åˆ†å‰²ï¼ˆInstance Segmentationï¼‰å’Œå…¨æ™¯åˆ†å‰²ï¼ˆPanoptic Segmentationï¼‰çš„éœ€æ±‚ ã€‚\r\n * è‡ªåŠ¨æ ‡æ³¨ç³»ç»Ÿ: åˆ©ç”¨ Unreal Engine çš„é¡¶ç‚¹é¢œè‰²ï¼ˆVertex Colorï¼‰æŠ€æœ¯ï¼ŒCosys-AirSim å®žçŽ°äº†å¯¹é™æ€å’ŒåŠ¨æ€å¯¹è±¡çš„è‡ªåŠ¨ç€è‰²å’Œæ ‡ç­¾ç”Ÿæˆã€‚ç”¨æˆ·æ— éœ€æ‰‹åŠ¨ä¸ºæ¯ä¸ªèµ„äº§é…ç½® IDï¼Œç³»ç»Ÿä¼šæ ¹æ®ç½‘æ ¼å®žä¾‹è‡ªåŠ¨ç”Ÿæˆå”¯ä¸€çš„ RGB æŽ©ç ï¼Œå¹¶å¯¼å‡ºå¯¹åº”çš„ ID-åç§°æ˜ å°„è¡¨ ã€‚\r\n# 5.æœºå™¨äººä¸­é—´ä»¶é›†æˆï¼šROS1 åˆ° ROS2 çš„å…¨é¢è¿›åŒ–\r\nå¯¹äºŽæœºå™¨äººç ”ç©¶è€…è€Œè¨€ï¼Œä»¿çœŸå™¨ä¸Ž ROSï¼ˆRobot Operating Systemï¼‰çš„é›†æˆåº¦æ˜¯å†³å®šå…¶æ˜“ç”¨æ€§çš„å…³é”®ã€‚éšç€æœºå™¨äººå·¥ä¸šç•Œå…¨é¢å‘ ROS2 è½¬åž‹ä»¥è¿½æ±‚æ›´å¥½çš„å®žæ—¶æ€§å’Œå®‰å…¨æ€§ï¼ŒCosys-AirSim åœ¨è¿™æ–¹é¢çš„é‡æž„æ˜¾å¾—å°¤ä¸ºé‡è¦ã€‚\r\n## 5.1 Microsoft AirSim çš„ ROS1 é—äº§\r\nåŽŸç‰ˆ AirSim çš„ ROS é›†æˆä¸»è¦é€šè¿‡ airsim_ros_pkgs å®žçŽ°ï¼Œè¿™æ˜¯ä¸€ä¸ªåŸºäºŽ ROS1ï¼ˆä¸»è¦æ˜¯ Melodic/Noetic ç‰ˆæœ¬ï¼‰çš„å°è£…å™¨ï¼ˆWrapperï¼‰ã€‚\r\n * æž¶æž„é™åˆ¶: åŽŸç‰ˆ Wrapper æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæ¡¥æŽ¥èŠ‚ç‚¹ï¼ˆBridge Nodeï¼‰ã€‚å®ƒè¿è¡Œåœ¨ ROS çŽ¯å¢ƒä¸­ï¼Œé€šè¿‡ TCP/IP åè®®çš„ RPC æŽ¥å£ä¸Ž AirSim äºŒè¿›åˆ¶ç¨‹åºé€šä¿¡ï¼ŒèŽ·å–æ•°æ®åŽå†å°è£…ä¸º ROS æ¶ˆæ¯å‘å¸ƒã€‚è¿™ç§æž¶æž„è™½ç„¶è§£è€¦äº†ä»¿çœŸå™¨å’Œ ROSï¼Œä½†åœ¨é«˜é¢‘æ•°æ®ä¼ è¾“æ—¶å­˜åœ¨æ˜Žæ˜¾çš„å»¶è¿Ÿã€‚\r\n * ROS2 æ”¯æŒç¼ºå¤±: è™½ç„¶ç¤¾åŒºæ›¾å°è¯•é€šè¿‡ ros1_bridge æˆ–æ—©æœŸçš„å®žéªŒæ€§åˆ†æ”¯æ¥æ”¯æŒ ROS2ï¼Œä½†åŽŸç‰ˆ AirSim ä»Žæœªæä¾›å®˜æ–¹ç¨³å®šçš„ ROS2 æ”¯æŒã€‚è¿™æ„å‘³ç€åœ¨åŽŸç‰ˆ AirSim ä¸Šå¼€å‘ ROS2 åº”ç”¨éœ€è¦å¤æ‚çš„æ¡¥æŽ¥é…ç½®ï¼Œä¸”éš¾ä»¥åˆ©ç”¨ ROS2 çš„ DDSï¼ˆData Distribution Serviceï¼‰ç‰¹æ€§ ã€‚\r\n5.2 Cosys-AirSim çš„åŽŸç”Ÿ ROS2 é‡æž„\r\nCosys-AirSim å½»åº•é‡å†™äº† ROS é›†æˆå±‚ï¼Œä½¿å…¶æˆä¸º ROS2 Native çš„å®žçŽ°ï¼Œå®Œå…¨æ‹¥æŠ±äº† ROS2 ç”Ÿæ€ ã€‚\r\n * åŸºäºŽ rclcpp çš„åŽŸç”Ÿå®žçŽ°:\r\n   * Cosys-AirSim æ‘’å¼ƒäº†æ—§çš„ Wrapper æž¶æž„ï¼Œç›´æŽ¥ä½¿ç”¨ ROS2 çš„ C++ å®¢æˆ·ç«¯åº“ (rclcpp) åœ¨æ’ä»¶å†…éƒ¨ç¼–å†™èŠ‚ç‚¹ã€‚è¿™æ„å‘³ç€ä»¿çœŸå™¨æœ¬èº«å°±æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ª ROS2 èŠ‚ç‚¹ï¼Œå¯ä»¥ç›´æŽ¥å‚ä¸Ž ROS2 ç½‘ç»œçš„æ•°æ®äº¤æ¢ ã€‚\r\n   * ä¼˜åŠ¿: è¿™ç§åŽŸç”Ÿé›†æˆå…è®¸åˆ©ç”¨ ROS2 çš„é›¶æ‹·è´ï¼ˆZero-copyï¼‰é€šä¿¡æœºåˆ¶ï¼ˆåœ¨åŒä¸€è¿›ç¨‹å†…ï¼‰ï¼Œå¤§å¹…é™ä½Žäº†å›¾åƒå’Œç‚¹äº‘ç­‰å¤§æ•°æ®é‡ä¼ è¾“çš„å»¶è¿Ÿã€‚åŒæ—¶ï¼Œå®ƒæ”¯æŒ ROS2 çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼ˆLifecycle Nodesï¼‰ï¼Œå…è®¸å¤–éƒ¨æŽ§åˆ¶å™¨åŠ¨æ€ç®¡ç†ä»¿çœŸèŠ‚ç‚¹çš„å¯åŠ¨ã€æš‚åœå’Œé…ç½®ã€‚\r\n * TF æ ‘ä¸Žåæ ‡ç³»çš„æ ‡å‡†åŒ–:\r\n   * åŽŸç‰ˆ AirSim ä¸­ï¼Œåæ ‡ç³»è½¬æ¢ï¼ˆä»Ž Unreal çš„å·¦æ‰‹ç³» NED åˆ° ROS çš„å³æ‰‹ç³» ENUï¼‰ç»å¸¸å¼•èµ·æ··æ·†ã€‚Cosys-AirSim é‡æ–°è®¾è®¡äº†åæ ‡å˜æ¢ï¼ˆTFï¼‰æ ‘çš„ç»“æž„ï¼Œä¸¥æ ¼éµå¾ª REP-105 æ ‡å‡†ï¼šworld -> odom -> vehicle -> sensors ã€‚\r\n   * è¿™ä¿®æ­£äº†åŽŸç‰ˆä¸­å¸¸è§çš„åæ ‡ç³»ä¸ä¸€è‡´é—®é¢˜ï¼Œä½¿å¾— Cosys-AirSim èƒ½å¤Ÿæ— ç¼å¯¹æŽ¥ Nav2ï¼ˆROS2 Navigation Stackï¼‰ç­‰æ ‡å‡†å¯¼èˆªåŒ…ï¼Œæ— éœ€ç”¨æˆ·æ‰‹åŠ¨ç¼–å†™å¤æ‚çš„åæ ‡è½¬æ¢è„šæœ¬ ã€‚\r\n * è‡ªå®šä¹‰æ¶ˆæ¯ä¸ŽæœåŠ¡æ‰©å±•:\r\n   * Cosys-AirSim ä¸ä»…å‘å¸ƒæ ‡å‡†çš„ä¼ æ„Ÿå™¨è¯é¢˜ï¼Œè¿˜æ‰©å±•äº†å¤§é‡çš„ ROS2 Service å’Œ Actionã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡ ROS å‘½ä»¤è¡Œæˆ–èŠ‚ç‚¹ç›´æŽ¥æŽ§åˆ¶ä»¿çœŸçŽ¯å¢ƒï¼Œä¾‹å¦‚åŠ¨æ€æ”¹å˜å¤©æ°”å‚æ•°ã€æŽ§åˆ¶éžçŽ©å®¶è½¦è¾†ï¼ˆNPCï¼‰çš„è¡Œä¸ºã€æˆ–è€…è§¦å‘ç‰¹å®šçš„ä»¿çœŸäº‹ä»¶ã€‚\r\n   * è¯é¢˜åˆ—è¡¨ä¹Ÿè¿›è¡Œäº†çŽ°ä»£åŒ–æ›´æ–°ï¼Œä¾‹å¦‚ç›¸æœºå›¾åƒè¯é¢˜çŽ°åœ¨é‡‡ç”¨ç¬¦åˆ ROS2 æœ€ä½³å®žè·µçš„å‘½åç©ºé—´ç»“æž„ï¼Œå¦‚ /sensing/camera/image_rawï¼Œå¹¶æ”¯æŒ QoSï¼ˆQuality of Serviceï¼‰ç­–ç•¥é…ç½®ï¼Œå…è®¸åœ¨ä¸å¯é ç½‘ç»œä¸‹ä¸¢å¼ƒè¿‡æ—¶æ•°æ®ä»¥ä¿è¯å®žæ—¶æ€§ ã€‚\r\n * Unity æ”¯æŒçš„ç§»é™¤:\r\n   * ä¸ºäº†é›†ä¸­èµ„æºä¼˜åŒ– UE5 å’Œ ROS2 çš„ä½“éªŒï¼ŒCosys-AirSim æ˜Žç¡®åšå‡ºäº†æˆ˜ç•¥å–èˆï¼Œç§»é™¤äº†åŽŸç‰ˆ AirSim ä¸­å®žéªŒæ€§çš„ Unity å¼•æ“Žæ”¯æŒ ã€‚è¿™ä¸€å†³å®šè™½ç„¶å‡å°‘äº†å¼•æ“Žçš„é€‰æ‹©ï¼Œä½†æ¢æ¥çš„æ˜¯åœ¨ Unreal + ROS2 è¿™ä¸€ä¸»æµæŠ€æœ¯æ ˆä¸Šçš„æžè‡´ä¼˜åŒ–ã€‚\r\n# 6.è½½å…·åŠ¨åŠ›å­¦ä¸Žè·¨åŸŸæ‰©å±•ï¼šä»Žé™†ç©ºåˆ°æµ·æ´‹\r\nåŽŸç‰ˆ AirSim çš„è®¾è®¡åˆè¡·ä¸»è¦èšç„¦äºŽå››æ—‹ç¿¼æ— äººæœºï¼ˆMultirotorï¼‰å’Œä¹˜ç”¨è½¦ï¼ˆCarï¼‰ã€‚Cosys-AirSim åˆ™æ‰“ç ´äº†è¿™ä¸€å±€é™ï¼Œæžå¤§åœ°æ‰©å±•äº†è½½å…·åº“ï¼Œæ¶µç›–äº†æ›´å¤šæ ·çš„æœºå™¨äººå½¢æ€ï¼Œç”šè‡³æ‹“å±•åˆ°äº†æ°´é¢é¢†åŸŸï¼Œå®žçŽ°äº†â€œæµ·é™†ç©ºâ€å…¨åŸŸä»¿çœŸã€‚\r\n## 6.1 åœ°é¢ç§»åŠ¨æœºå™¨äººçš„å¤šæ ·åŒ–ï¼šä¸æ­¢äºŽæ±½è½¦\r\nåœ¨åŽŸç‰ˆ AirSim ä¸­ï¼Œå¦‚æžœæƒ³æ¨¡æ‹Ÿä¸€ä¸ªä»“åº“é‡Œçš„è½®å¼æœºå™¨äººï¼Œé€šå¸¸åªèƒ½å€Ÿç”¨ Car æ¨¡åž‹ï¼Œä½†è¿™ä¼šå¯¼è‡´ç‰©ç†è¡Œä¸ºçš„ä¸å‡†ç¡®ï¼ˆä¾‹å¦‚æ±½è½¦æ˜¯é˜¿å…‹æ›¼è½¬å‘ï¼Œè€Œæœºå™¨äººé€šå¸¸æ˜¯å·®é€Ÿè½¬å‘ï¼‰ã€‚\r\n * å·®é€Ÿ/æ»‘ç§»è½¬å‘æ¨¡åž‹ (Skid Steering):\r\n   * Cosys-AirSim å¼•å…¥äº†é€šç”¨çš„æ»‘ç§»è½¬å‘ç‰©ç†æ¨¡åž‹ã€‚è¿™æ˜¯å¤§å¤šæ•°å±¥å¸¦å¼è½¦è¾†å’Œå·®é€Ÿè½®å¼æœºå™¨äººçš„è¿åŠ¨åŸºç¡€ã€‚\r\n   * å†…ç½®æ¨¡åž‹: å®˜æ–¹å†…ç½®äº† ClearPath Husky å’Œ Pioneer P3DX ç­‰ç»å…¸ç§‘ç ”æœºå™¨äººçš„é«˜ç²¾åº¦æ¨¡åž‹ ã€‚è¿™ä½¿å¾— Cosys-AirSim å¯ä»¥ç›´æŽ¥ç”¨äºŽä»“å‚¨ç‰©æµæœºå™¨äººã€é‡Žå¤–å·¡æ£€æœºå™¨äººç­‰éžä¹˜ç”¨è½¦åž‹ç®—æ³•çš„å¼€å‘ä¸ŽéªŒè¯ã€‚\r\n * *BoxCar*:\r\n   * ä¸ºäº†åœ¨èµ„æºå—é™çš„çŽ¯å¢ƒä¸‹è¿›è¡Œå¿«é€Ÿç®—æ³•éªŒè¯ï¼ŒCosys-AirSim æ·»åŠ äº†ä¸€ä¸ªåä¸º BoxCar çš„ç®€åŒ–è½¦è¾†æ¨¡åž‹ã€‚å®ƒåŽ»é™¤äº†å¤æ‚çš„æ‚¬æŒ‚å’Œè½¦è½®ç‰©ç†è®¡ç®—ï¼Œä»…ä¿ç•™åŸºæœ¬çš„è¿åŠ¨å­¦ç‰¹æ€§ï¼Œéžå¸¸é€‚åˆç”¨äºŽå¤§è§„æ¨¡å¼ºåŒ–å­¦ä¹ è®­ç»ƒä¸­çš„å¿«é€Ÿè¿­ä»£ ã€‚\r\n## 6.2 ASVSimï¼šæ°´é¢æ— äººè‰‡ä»¿çœŸ\r\nè¿™æ˜¯ä¸€ä¸ªå…·æœ‰é‡Œç¨‹ç¢‘æ„ä¹‰çš„æ‰©å±•ï¼Œæ ‡å¿—ç€ AirSim ç”Ÿæ€ç³»ç»Ÿé¦–æ¬¡æ­£å¼è¿›å…¥æµ·æ´‹å·¥ç¨‹é¢†åŸŸã€‚åŸºäºŽ Cosys-AirSim æ¡†æž¶ï¼Œç ”ç©¶å›¢é˜Ÿå¼€å‘äº† ASVSimï¼ˆAirSim for Surface Vehiclesï¼‰ã€‚\r\n * æµä½“åŠ¨åŠ›å­¦ä¸Žæµ®åŠ›æ¨¡åž‹:\r\n   * ASVSim é›†æˆäº†ä¸“é—¨çš„èˆ¹èˆ¶æµä½“åŠ¨åŠ›å­¦æ¨¡åž‹ã€‚å®ƒä¸ä»…ä»…æ˜¯å°†èˆ¹è§†ä¸ºåœ¨â€œè“è‰²åœ°é¢â€ä¸Šæ»‘è¡Œçš„æ±½è½¦ï¼Œè€Œæ˜¯çœŸå®žæ¨¡æ‹Ÿäº†æ°´çš„æµ®åŠ›ï¼ˆBuoyancyï¼‰ã€æ°´åŠ¨é˜»åŠ›ï¼ˆHydrodynamic Dragï¼‰ä»¥åŠæ³¢æµªå¯¹èˆ¹ä½“äº§ç”Ÿçš„å…­è‡ªç”±åº¦è¿åŠ¨å½±å“ï¼ˆå¦‚æ¨ªæ‘‡ã€çºµæ‘‡ï¼‰ã€‚\r\n * æµ·äº‹ä¼ æ„Ÿå™¨ä»¿çœŸ:\r\n   * é›·è¾¾: å®žçŽ°äº†ä¸“é—¨çš„æµ·äº‹å¯¼èˆªé›·è¾¾æ¨¡æ‹Ÿã€‚ä¸åŒäºŽæ¿€å…‰é›·è¾¾ï¼ŒASVSim çš„é›·è¾¾æ¨¡åž‹åº”ç”¨äº†ç‚¹æ‰©æ•£å‡½æ•°ï¼ˆPSFï¼‰ï¼Œèƒ½å¤Ÿç”Ÿæˆå…·æœ‰çœŸå®žå™ªå£°å’Œæ‚æ³¢çš„é›·è¾¾æ‰«æå›¾åƒï¼ˆPPI æ˜¾ç¤ºï¼‰ï¼Œæ”¯æŒåŸºäºŽé›·è¾¾çš„æµ·å²¸çº¿æ£€æµ‹å’Œé¿éšœç®—æ³•å¼€å‘ ã€‚\r\n   * åº”ç”¨åœºæ™¯: è¿™ä¸€æ‰©å±•ä½¿å¾— Cosys-AirSim èƒ½å¤Ÿæ”¯æŒå†…æ²³èˆªè¿ã€æ¸¯å£è‡ªåŠ¨åŒ–ç›‘æµ‹ä»¥åŠæ°´é¢åžƒåœ¾æ¸…ç†æœºå™¨äººçš„ä»¿çœŸç ”ç©¶ï¼Œç‰¹åˆ«æ˜¯åœ¨å®‰ç‰¹å«æ™®æ¸¯ç­‰å¤æ‚æ°´åŸŸçŽ¯å¢ƒçš„æ¨¡æ‹Ÿä¸­å‘æŒ¥äº†é‡è¦ä½œç”¨ ã€‚\r\n## 6.3 èˆªç©ºåŠ¨åŠ›å­¦çš„ç²¾ç»†åŒ–\r\né’ˆå¯¹æ— äººæœºï¼ŒCosys-AirSim ä¹Ÿè¿›è¡Œäº†å¾®è°ƒã€‚å®ƒå¼•å…¥äº†æ”¹è¿›çš„ç©ºæ°”é˜»åŠ›æ¨¡åž‹ï¼Œç›¸æ¯”åŽŸç‰ˆåœ¨é«˜é€Ÿé£žè¡Œï¼ˆå¦‚ 10m/sï¼‰æ—¶çš„é˜»åŠ›æ¨¡æ‹Ÿè¯¯å·®é™ä½Žäº† 51%ï¼Œä½¿å¾—èƒ½è€—é¢„æµ‹å’Œè½¨è¿¹è§„åˆ’æ›´åŠ å‡†ç¡® ã€‚\r\n# 7.API ä¸Žå¼€å‘ç”Ÿæ€ï¼šç»§æ‰¿ä¸­çš„å˜é©\r\nCosys-AirSim åœ¨å¤§å¹…æ‰©å±•åŠŸèƒ½çš„åŒæ—¶ï¼Œä¹Ÿè‡´åŠ›äºŽä¿æŒå¼€å‘ä½“éªŒçš„è¿žç»­æ€§ï¼Œä½†ä¸ºäº†æŠ€æœ¯è¿›æ­¥ï¼Œä¸å¾—ä¸å¼•å…¥ä¸€äº›ç ´åæ€§å˜æ›´ï¼ˆBreaking Changesï¼‰ã€‚\r\n\r\n## 7.1 æŽ¥å£å…¼å®¹æ€§ä¸Žç ´åæ€§å˜æ›´\r\nCosys-AirSim å°½å¯èƒ½ä¿æŒäº† Python å’Œ C++ API çš„å‘åŽå…¼å®¹æ€§ï¼Œè¿™æ„å‘³ç€å¤§å¤šæ•°åŸºäºŽåŽŸç‰ˆ AirSim ç¼–å†™çš„æŽ§åˆ¶è„šæœ¬ï¼ˆå¦‚ moveByVelocityAsyncï¼‰æ— éœ€ä¿®æ”¹å³å¯è¿è¡Œã€‚ä½†åœ¨ä»¥ä¸‹å‡ ä¸ªå…³é”®é¢†åŸŸå‘ç”Ÿäº†å˜æ›´ï¼š\r\n * ç›¸æœºå‘½åè§„èŒƒ:\r\n   * åŽŸç‰ˆ AirSim: å…è®¸ä½¿ç”¨æ•°å­—ç´¢å¼•ï¼ˆ0, 1, 2...ï¼‰æˆ–å­—ç¬¦ä¸²IDæ¥è®¿é—®ç›¸æœºã€‚\r\n   * Cosys-AirSim: ä¸ºäº†æ”¯æŒæ›´å¤æ‚çš„ä¼ æ„Ÿå™¨é…ç½®ï¼Œå¼ºåˆ¶æŽ¨è¡ŒåŸºäºŽå­—ç¬¦ä¸²åç§°çš„è®¿é—®æ–¹å¼ï¼ˆå¦‚ \"front_center\", \"back_right\"ï¼‰ã€‚è™½ç„¶ä¸ºäº†å…¼å®¹æ€§ä¿ç•™äº†æ•°å­—å­—ç¬¦ä¸²åˆ«åï¼ˆ\"0\" è€Œéž 0ï¼‰ï¼Œä½†è¿™è¦æ±‚å¼€å‘è€…æ›´æ–°ä»£ç ä¹ æƒ¯ï¼Œæ˜¾å¼åœ°ä½¿ç”¨å…·æœ‰è¯­ä¹‰çš„ä¼ æ„Ÿå™¨åç§°ï¼Œä»¥é¿å…åœ¨å¤šä¼ æ„Ÿå™¨ç³»ç»Ÿä¸­çš„æ··æ·† ã€‚\r\n * ROS2 è¯é¢˜é‡å‘½å:\r\n   * å¦‚å‰æ‰€è¿°ï¼ŒROS ä¾§çš„è¯é¢˜åç§°å’Œæ¶ˆæ¯ç±»åž‹å‘ç”Ÿäº†æ ¹æœ¬æ€§å˜åŒ–ï¼Œä»¥ç¬¦åˆ ROS2 æ ‡å‡†ã€‚æ—§çš„ ROS1 å¯åŠ¨è„šæœ¬ï¼ˆLaunch filesï¼‰æ— æ³•ç›´æŽ¥ç”¨äºŽ Cosys-AirSimï¼Œå¿…é¡»é‡å†™ ã€‚\r\n## 7.2 Matlab å®¢æˆ·ç«¯çš„å¼•å…¥ï¼šå·¥ç¨‹ç§‘ç ”çš„ç¦éŸ³\r\nåŽŸç‰ˆ AirSim å®˜æ–¹ä»…æä¾› C++ å’Œ Python å®¢æˆ·ç«¯ï¼Œè¿™å¯¹äºŽä¹ æƒ¯ä½¿ç”¨ Matlab/Simulink è¿›è¡ŒæŽ§åˆ¶ç†è®ºç ”ç©¶ã€ä¿¡å·å¤„ç†å’Œç¡¬ä»¶åœ¨çŽ¯ï¼ˆHILï¼‰ä»¿çœŸçš„ä¼ ç»Ÿå·¥ç¨‹äººå‘˜æ¥è¯´æ˜¯ä¸€ä¸ªé—¨æ§›ã€‚\r\n * Cosys-AirSim Matlab Client: å®˜æ–¹å¼•å…¥å¹¶ç»´æŠ¤äº†ä¸€ä¸ªå®Œæ•´çš„ Matlab API å®¢æˆ·ç«¯å·¥å…·ç®± ã€‚\r\n * åŠŸèƒ½: å®ƒå…è®¸ç”¨æˆ·ç›´æŽ¥åœ¨ Matlab çŽ¯å¢ƒä¸­èŽ·å–ä¼ æ„Ÿå™¨æ•°æ®ã€å‘é€æŽ§åˆ¶æŒ‡ä»¤ï¼Œç”šè‡³ä¸Ž Simulink æ¨¡åž‹è¿›è¡Œè”åˆä»¿çœŸã€‚è¿™æžå¤§åœ°ç®€åŒ–äº†æŽ§åˆ¶ç®—æ³•ä»Žç†è®ºè®¾è®¡åˆ°ä»¿çœŸéªŒè¯çš„æµç¨‹ã€‚\r\n##  7.3 æ–‡æ¡£ä¸Žç¤¾åŒºæ”¯æŒæ¨¡å¼\r\n * æ–‡æ¡£è¿ç§»: éšç€ Microsoft å…³é—­å¹¶å½’æ¡£äº†åŽŸç‰ˆæ–‡æ¡£ç«™ï¼ŒCosys-AirSim å»ºç«‹äº†ç‹¬ç«‹çš„æ–‡æ¡£æ‰˜ç®¡ç«™ç‚¹ï¼ˆcosys-lab.github.io/Cosys-AirSim/ï¼‰ã€‚æ–‡æ¡£ç»“æž„è¿›è¡Œäº†é‡ç»„ï¼Œä¸“é—¨å¢žåŠ äº†é’ˆå¯¹ UE5 è¿ç§»å’Œ ROS2 é…ç½®çš„ç« èŠ‚ ã€‚\r\n * \"As-is\" æ”¯æŒæ¨¡å¼: éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½œä¸ºä¸€ä¸ªå­¦æœ¯å®žéªŒå®¤ç»´æŠ¤çš„å¼€æºé¡¹ç›®ï¼ŒCosys-AirSim æ˜Žç¡®å£°æ˜Žè½¯ä»¶æ˜¯â€œæŒ‰åŽŸæ ·æä¾›â€ï¼ˆProvided As-isï¼‰ï¼Œä¸æä¾›ç±»ä¼¼äºŽå¾®è½¯æ—¶æœŸçš„å•†ä¸šçº§æ”¯æŒæ‰¿è¯ºã€‚ç¤¾åŒºäº’åŠ¨ä¸»è¦ä¾èµ–äºŽ GitHub Issues å’Œç›¸å…³çš„å­¦æœ¯ä¼šè®®ï¼ˆå¦‚ ANNSIMï¼‰ï¼Œç”¨æˆ·éœ€è¦å…·å¤‡æ›´å¼ºçš„è‡ªæˆ‘æŽ’é”™èƒ½åŠ› ã€‚\r\n# 8. å¤šæ™ºèƒ½ä½“ä¸Žé›†ç¾¤ä»¿çœŸï¼ˆSwarm Simulationï¼‰\r\nå¤šæ™ºèƒ½ä½“ä¸Žé›†ç¾¤ä»¿çœŸï¼ˆSwarm Simulationï¼‰:åœ¨å¤æ‚çš„å·¥ä¸šå’Œæ•‘æ´åœºæ™¯ä¸­ï¼Œå•ä½“æœºå™¨äººçš„èƒ½åŠ›å¾€å¾€æœ‰é™ï¼Œå¤šæœºå™¨äººååŒï¼ˆSwarm Roboticsï¼‰æˆä¸ºç ”ç©¶çƒ­ç‚¹ã€‚Cosys-AirSim åˆ©ç”¨ UE5 å’Œ ROS2 çš„ç‰¹æ€§ï¼Œåœ¨é›†ç¾¤ä»¿çœŸæ–¹é¢å±•çŽ°äº†æ˜¾è‘—ä¼˜åŠ¿ã€‚\r\n## 8.1 æ€§èƒ½ä¼˜åŒ–ä¸Žåˆ†å¸ƒå¼æž¶æž„\r\nåŽŸç‰ˆ AirSim è™½ç„¶æ”¯æŒå¤šè½¦æ¨¡å¼ï¼Œä½†åœ¨è½¦è¾†æ•°é‡å¢žåŠ æ—¶ï¼Œç‰©ç†è®¡ç®—å’Œæ¸²æŸ“å¼€é”€ä¼šå¯¼è‡´æ€§èƒ½æ€¥å‰§ä¸‹é™ã€‚\r\n * å®žä¾‹åŒ–ä¸Žä¼˜åŒ–: Cosys-AirSim é€šè¿‡ UE5 çš„å®žä¾‹åŒ–æŠ€æœ¯ä¼˜åŒ–äº†å¤šæ™ºèƒ½ä½“çš„æ¸²æŸ“ã€‚æ›´é‡è¦çš„æ˜¯ï¼ŒåŸºäºŽ ROS2 çš„åˆ†å¸ƒå¼æž¶æž„å…è®¸å°†ç¹é‡çš„è®¡ç®—ä»»åŠ¡ï¼ˆå¦‚SLAMã€è·¯å¾„è§„åˆ’ï¼‰å¸è½½åˆ°ä¸åŒçš„è®¡ç®—èŠ‚ç‚¹ç”šè‡³ä¸åŒçš„ç‰©ç†æœºå™¨ä¸Šï¼Œä»…ä¿ç•™ä»¿çœŸå™¨è¿›è¡Œç‰©ç†å’Œæ¸²æŸ“è®¡ç®—ã€‚è¿™ä½¿å¾—åœ¨å•å°é«˜æ€§èƒ½å·¥ä½œç«™ä¸Šå®žæ—¶æ¨¡æ‹Ÿæ•°åå°æ— äººæœºçš„é›†ç¾¤æˆä¸ºå¯èƒ½ ã€‚\r\n## 8.2 å…¸åž‹åº”ç”¨åœºæ™¯\r\n * å·¥ä¸šå·¡æ£€: åœ¨å¸ƒæ»¡ç®¡é“ã€æ¢æŸ±å’Œè®¾å¤‡çš„åŒ–å·¥åŽ‚æˆ–æµ·ä¸Šé’»äº•å¹³å°ä¸­ï¼Œåˆ©ç”¨æ— äººæœºé›†ç¾¤è¿›è¡Œè¦†ç›–å¼å·¡æ£€ã€‚Cosys-AirSim çš„é«˜ä¿çœŸ LiDAR å’Œç›¸æœºèƒ½å¤Ÿç”Ÿæˆé€¼çœŸçš„å¤æ‚ç»“æž„ç‚¹äº‘ï¼Œç”¨äºŽè®­ç»ƒé›†ç¾¤é¿éšœå’ŒååŒå»ºå›¾ç®—æ³•ã€‚\r\n * æœç´¢ä¸Žæ•‘æ´ (SAR): æ¨¡æ‹Ÿåœ¨ç¾åŽåºŸå¢ŸçŽ¯å¢ƒä¸­çš„æœç´¢ä»»åŠ¡ã€‚åˆ©ç”¨å…¶ç‹¬ç‰¹çš„å£°çº³ï¼ˆEchoï¼‰ä¼ æ„Ÿå™¨æ¨¡æ‹Ÿï¼Œç ”ç©¶äººå‘˜å¯ä»¥å¼€å‘åœ¨çƒŸé›¾æˆ–å…‰çº¿ä¸è¶³çŽ¯å¢ƒä¸‹ä¾é å£°å­¦æ„ŸçŸ¥çš„æœç´¢ç®—æ³• ã€‚\r\n# 9. ç»“è®ºä¸Žå»ºè®®\r\n## 9.1 æ ¸å¿ƒç»“è®º\r\nç»¼ä¸Šæ‰€è¿°ï¼ŒCosys-AirSim å¹¶éžåŽŸç‰ˆ Microsoft AirSim çš„ç®€å•æ›¿ä»£å“ï¼Œè€Œæ˜¯ä¸€æ¬¡å…¨æ–¹ä½çš„çŽ°ä»£åŒ–å‡çº§ã€‚\r\n * ä¸å¯é€†çš„æ›¿ä»£: åŽŸç‰ˆ Microsoft AirSim å·²å±žâ€œåºŸå¼ƒè½¯ä»¶â€ï¼ˆAbandonwareï¼‰ï¼Œä¸”æŠ€æœ¯æ ˆåœç•™åœ¨ UE4 å’Œ PhysX æ—¶ä»£ã€‚å¯¹äºŽä»»ä½•è®¡åˆ’é•¿æœŸå‘å±•ã€ä¸”å¸Œæœ›åˆ©ç”¨ Unreal Engine 5 å¼ºå¤§åŠŸèƒ½çš„é¡¹ç›®ï¼ŒCosys-AirSim æ˜¯ç›®å‰å”¯ä¸€å¯è¡Œçš„å¼€æºé€‰æ‹©ã€‚\r\n * åŠŸèƒ½è¶…é›†: Cosys-AirSim åŒ…å«äº†åŽŸç‰ˆçš„æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½ï¼Œå¹¶åœ¨ç‰©ç†å¼•æ“Žã€æ¸²æŸ“ç®¡çº¿ã€ä¼ æ„Ÿå™¨æ¨¡æ€ï¼ˆGPU LiDAR, Sonarï¼‰ã€ROS2 é›†æˆä»¥åŠè½½å…·ç±»åž‹ï¼ˆUSV, Huskyï¼‰ä¸Šè¿›è¡Œäº†æ·±åº¦æ‰©å±•ã€‚\r\n * é—¨æ§›æå‡: è™½ç„¶åŠŸèƒ½å¼ºå¤§ï¼Œä½†å¯¹ UE5 å’Œ ROS2 çš„ä¾èµ–ä¹Ÿæé«˜äº†ç¡¬ä»¶é—¨æ§›ï¼ˆéœ€è¦æ”¯æŒ DirectX 12/Vulkan çš„é«˜æ€§èƒ½ GPUï¼‰å’ŒæŠ€æœ¯æ ˆè¦æ±‚ã€‚\r\n## 9.2 ç»™ç ”ç©¶äººå‘˜ä¸Žå·¥ç¨‹å¸ˆçš„å»ºè®®\r\n * è¿ç§»ç­–ç•¥: å¯¹äºŽä»åœ¨ä½¿ç”¨åŽŸç‰ˆ AirSim çš„ç”¨æˆ·ï¼Œå»ºè®®å°½æ—©å¯åŠ¨è¿ç§»è¯„ä¼°ã€‚è™½ç„¶ Python è„šæœ¬æ”¹åŠ¨ä¸å¤§ï¼Œä½† ROS æŽ¥å£å’Œç‰©ç†å‚æ•°çš„è°ƒæ•´éœ€è¦æ—¶é—´ã€‚\r\n * æ–°é¡¹ç›®å¯åŠ¨: å¼ºçƒˆå»ºè®®ç›´æŽ¥åŸºäºŽ Cosys-AirSim å’Œ UE 5.2/5.5 å¯åŠ¨æ–°é¡¹ç›®ã€‚åˆ©ç”¨å…¶é¢„ç¼–è¯‘æ’ä»¶å¯ä»¥å¤§å¹…é™ä½ŽçŽ¯å¢ƒé…ç½®çš„å¤æ‚åº¦ã€‚\r\n * å­¦æœ¯ä»·å€¼: Cosys-AirSim æä¾›çš„åœ°é¢çœŸå€¼ç”Ÿæˆï¼ˆè¯­ä¹‰åˆ†å‰²ã€å…‰ç…§å›¾ï¼‰å’Œæ–°åž‹ä¼ æ„Ÿå™¨ï¼ˆå£°çº³ã€é«˜ä¿çœŸ LiDARï¼‰ä¸ºå‘è¡¨é«˜è´¨é‡ã€æ•°æ®é©±åŠ¨çš„æœºå™¨äººå­¦è®ºæ–‡æä¾›äº†å¼ºæœ‰åŠ›çš„å·¥å…·æ”¯æŒã€‚\r\nCosys-AirSim æˆåŠŸåœ°æŽ¥è¿‡äº†å¼€æºé«˜ä¿çœŸä»¿çœŸçš„ç«ç‚¬ï¼Œå®ƒä¸ä»…å»¶ç»­äº† AirSim çš„ç”Ÿå‘½ï¼Œæ›´å°†å…¶æŽ¨å‘äº†æ›´å¹¿é˜”çš„å·¥ä¸šåº”ç”¨ä¸Žè·¨åŸŸæœºå™¨äººç ”ç©¶çš„å‰æ²¿ã€‚","src/content/posts/post_20251229070308.md","cbc6fbaa141f1cc2",{"html":195,"metadata":196},"\u003Ch1 id=\"cosys-airsim-ä¸Ž-microsoft-airsim-çš„æž¶æž„æ¼”è¿›åŠŸèƒ½å·®å¼‚åŠç”Ÿæ€ç³»ç»Ÿå¯¹æ¯”\">Cosys-AirSim ä¸Ž Microsoft AirSim çš„æž¶æž„æ¼”è¿›ã€åŠŸèƒ½å·®å¼‚åŠç”Ÿæ€ç³»ç»Ÿå¯¹æ¯”\u003C/h1>\n\u003Cblockquote>\n\u003Cp>\u003Cem>æœ¬ç¯‡æ–‡ç« ä¿¡æ¯ç”± Gemini3è¾…åŠ©æ”¶é›†æ‰€å¾—\u003C/em>\u003C/p>\n\u003C/blockquote>\n\u003Cp>\u003Cimg src=\"/uploads/images/1766991763707-719088700.jpeg\" alt=\"be7af7bafd5246889697ccdb05fffb7f.jpeg\">\u003C/p>\n\u003Cblockquote>\n\u003Cp>é™„å½•ï¼šè¯¦ç»†æŠ€æœ¯è§„æ ¼å¯¹æ¯”è¡¨\u003C/p>\n\u003C/blockquote>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>ç‰¹æ€§ç»´åº¦\u003C/th>\u003Cth>Microsoft AirSim (Original)\u003C/th>\u003Cth>Cosys-AirSim\u003C/th>\u003Cth>å…³é”®å½±å“\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>ç»´æŠ¤çŠ¶æ€\u003C/td>\u003Ctd>å·²å½’æ¡£ (åœæ­¢äºŽ 2022.07)\u003C/td>\u003Ctd>æ´»è·ƒå¼€å‘ä¸­\u003C/td>\u003Ctd>å®‰å…¨æ€§ã€æ–°åŠŸèƒ½æ”¯æŒã€Bugä¿®å¤\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Unreal Engine\u003C/td>\u003Ctd>UE 4.27 (ä¸»è¦)\u003C/td>\u003Ctd>UE 5.2 (LTS) / UE 5.5\u003C/td>\u003Ctd>å›¾å½¢è´¨é‡ (Lumen/Nanite)ã€æœªæ¥å…¼å®¹æ€§\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>ç‰©ç†å¼•æ“Ž\u003C/td>\u003Ctd>PhysX\u003C/td>\u003Ctd>Chaos Physics\u003C/td>\u003Ctd>æ¨¡æ‹Ÿç²¾åº¦ã€UE5 å…¼å®¹æ€§ã€ç¡®å®šæ€§\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>ROS æ”¯æŒ\u003C/td>\u003Ctd>ROS 1 (Wrapper)\u003C/td>\u003Ctd>ROS 2 (Native rclcpp)\u003C/td>\u003Ctd>å®žæ—¶æ€§ã€DDS é€šä¿¡ã€Nav2 å…¼å®¹æ€§\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>LiDAR æ¨¡åž‹\u003C/td>\u003Ctd>CPU Raycast, æ— å¼ºåº¦ä¿¡æ¯\u003C/td>\u003Ctd>GPU åŠ é€Ÿ, çœŸå®žå¼ºåº¦, å…¨æ‰«æ\u003C/td>\u003Ctd>è‡ªåŠ¨é©¾é©¶æ„ŸçŸ¥è®­ç»ƒã€é«˜é¢‘ä»¿çœŸ\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>ç‰¹æœ‰ä¼ æ„Ÿå™¨\u003C/td>\u003Ctd>åŸºç¡€ (IMU, GPS, Baro, Mag)\u003C/td>\u003Ctd>+ Echo (å£°çº³), GPU LiDAR, Light\u003C/td>\u003Ctd>ç”Ÿç‰©ä»¿ç”Ÿã€å…‰ç…§é²æ£’æ€§ç ”ç©¶\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>è½¦è¾†ç±»åž‹\u003C/td>\u003Ctd>Car, Multirotor\u003C/td>\u003Ctd>+ Skid Steer (Husky, P3DX), USV (ASVSim), BoxCar\u003C/td>\u003Ctd>ä»“å‚¨ç‰©æµã€æµ·äº‹åº”ç”¨ã€å¿«é€ŸéªŒè¯\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>å¼€å‘æŽ¥å£\u003C/td>\u003Ctd>C++, Python, Java\u003C/td>\u003Ctd>C++, Python, Matlab\u003C/td>\u003Ctd>å·¥ç¨‹ç§‘ç ”ä¾¿åˆ©æ€§ã€Simulink é›†æˆ\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Unity æ”¯æŒ\u003C/td>\u003Ctd>å®žéªŒæ€§æ”¯æŒ\u003C/td>\u003Ctd>å·²ç§»é™¤\u003C/td>\u003Ctd>èµ„æºé›†ä¸­äºŽ UE ä¼˜åŒ–\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>è¯­ä¹‰åˆ†å‰²\u003C/td>\u003Ctd>255 ID é™åˆ¶\u003C/td>\u003Ctd>æ— é™ ID, è‡ªåŠ¨ç½‘æ ¼ç€è‰²\u003C/td>\u003Ctd>å¤§è§„æ¨¡åœºæ™¯æ•°æ®é›†ç”Ÿæˆã€å®žä¾‹åˆ†å‰²\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch1 id=\"1-æ‰§è¡Œæ‘˜è¦\">1. æ‰§è¡Œæ‘˜è¦\u003C/h1>\n\u003Cp>æœ¬ç ”ç©¶æŠ¥å‘Šæ—¨åœ¨è¯¦å°½åˆ†æž Cosys-AirSim ä¸ŽåŽŸç‰ˆ Microsoft AirSim ä¹‹é—´çš„æŠ€æœ¯å·®å¼‚ã€æž¶æž„æ¼”è¿›åŠåº”ç”¨åœºæ™¯ã€‚åœ¨è‡ªä¸»ç³»ç»Ÿä»¿çœŸé¢†åŸŸï¼ŒMicrosoft AirSim æ›¾é•¿æœŸå æ®ä¸»å¯¼åœ°ä½ï¼Œä¸ºæ— äººæœºï¼ˆUAVï¼‰å’Œè‡ªåŠ¨é©¾é©¶æ±½è½¦çš„ç ”ç©¶æä¾›äº†åŸºäºŽè™šå¹»å¼•æ“Žï¼ˆUnreal Engineï¼‰çš„é«˜ä¿çœŸç‰©ç†ä¸Žè§†è§‰æ¨¡æ‹ŸçŽ¯å¢ƒã€‚ç„¶è€Œï¼Œéšç€ Microsoft äºŽ 2022 å¹´ 7 æœˆæ­£å¼å®£å¸ƒç»ˆæ­¢å¯¹åŽŸç‰ˆ AirSim çš„ç»´æŠ¤å¹¶å°†å…¶é¡¹ç›®å½’æ¡£ï¼Œå¼€æºç¤¾åŒºä¸Žå­¦æœ¯ç•Œè¿«åˆ‡éœ€è¦ä¸€ä¸ªèƒ½å¤Ÿç»§æ‰¿å…¶é«˜ä¿çœŸç‰©ç†ä»¿çœŸé—äº§å¹¶é€‚é…çŽ°ä»£å›¾å½¢å¼•æ“Žï¼ˆå¦‚ Unreal Engine 5ï¼‰çš„æ›¿ä»£æ–¹æ¡ˆã€‚\r\nCosys-AirSim ä½œä¸ºå®‰ç‰¹å«æ™®å¤§å­¦ï¼ˆUniversity of Antwerpï¼‰Cosys-Lab å¼€å‘å¹¶ç»´æŠ¤çš„æ´»è·ƒåˆ†æ”¯ï¼Œä¸ä»…å¡«è¡¥äº†å¾®è½¯é€€å‡ºåŽçš„ç”Ÿæ€ç©ºç™½ï¼Œæ›´åœ¨ä¼ æ„Ÿå™¨æ¨¡æ€çš„æ·±åº¦ã€ROS2 åŽŸç”Ÿæ”¯æŒçš„å¹¿åº¦ã€ç‰©ç†å¼•æ“Žçš„ä»£é™…è¿ç§»ï¼ˆä»Ž PhysX åˆ° Chaosï¼‰ä»¥åŠè·¨åŸŸä»¿çœŸï¼ˆå¦‚æ°´é¢æ— äººè‰‡ ASVSimï¼‰ç­‰æ–¹é¢å®žçŽ°äº†é‡å¤§çªç ´ã€‚\r\næœ¬æŠ¥å‘Šå°†æ·±å…¥å‰–æžä¸¤è€…åœ¨åº•å±‚æž¶æž„ã€æ¸²æŸ“ç®¡çº¿ã€API æŽ¥å£å…¼å®¹æ€§ã€å¤šæ™ºèƒ½ä½“ååŒæœºåˆ¶ä»¥åŠå¼€å‘ç”Ÿæ€ç­‰ç»´åº¦çš„å…·ä½“å·®å¼‚ã€‚ç‰¹åˆ«æ˜¯ï¼Œæˆ‘ä»¬å°†é‡ç‚¹è®¨è®º Cosys-AirSim å¦‚ä½•åˆ©ç”¨ Unreal Engine 5 çš„ Nanite å’Œ Lumen æŠ€æœ¯æå‡æ„ŸçŸ¥æ•°æ®çš„çœŸå®žæ€§ï¼Œä»¥åŠå…¶å½»åº•é‡æž„çš„ ROS2 æŽ¥å£å¦‚ä½•æ»¡è¶³çŽ°ä»£æœºå™¨äººå·¥ä¸šå¯¹å®žæ—¶æ€§å’Œåˆ†å¸ƒå¼é€šä¿¡çš„éœ€æ±‚ã€‚æ­¤å¤–ï¼ŒæŠ¥å‘Šè¿˜å°†è¯¦ç»†ä»‹ç»æ–°å¢žçš„ç”Ÿç‰©å¯å‘å¼ä¼ æ„Ÿå™¨ï¼ˆå¦‚å›žå£°å®šä½ä¼ æ„Ÿå™¨ï¼‰å’Œæ°´é¢è½½å…·æ¨¡æ‹Ÿèƒ½åŠ›ï¼Œä¸ºæœºå™¨äººç ”ç©¶äººå‘˜ã€è‡ªåŠ¨é©¾é©¶å·¥ç¨‹å¸ˆåŠä»¿çœŸæž¶æž„å¸ˆæä¾›æƒå¨çš„è¿ç§»æŒ‡å—ä¸ŽæŠ€æœ¯å‚è€ƒã€‚\u003C/p>\n\u003Ch1 id=\"2-å¼•è¨€ä»¿çœŸå¹³å°çš„ä»£é™…æ›´æ›¿ä¸ŽæŠ€æœ¯åˆ†å‰\">2. å¼•è¨€ï¼šä»¿çœŸå¹³å°çš„ä»£é™…æ›´æ›¿ä¸ŽæŠ€æœ¯åˆ†å‰\u003C/h1>\n\u003Ch2 id=\"21-microsoft-airsim-çš„åŽ†å²åœ°ä½ä¸Žç»ˆç»“\">2.1 Microsoft AirSim çš„åŽ†å²åœ°ä½ä¸Žç»ˆç»“\u003C/h2>\n\u003Cp>è‡ª 2017 å¹´ç”± Microsoft Research å‘å¸ƒä»¥æ¥ï¼ŒAirSim è¿…é€Ÿæˆä¸ºè‡ªä¸»ç³»ç»Ÿç ”ç©¶é¢†åŸŸçš„åŸºçŸ³ ã€‚å®ƒé€šè¿‡ä½œä¸º Unreal Engine çš„æ’ä»¶è¿è¡Œï¼Œåˆ©ç”¨æ¸¸æˆå¼•æ“Žå¼ºå¤§çš„æ¸²æŸ“èƒ½åŠ›æ¥ç”Ÿæˆé€¼çœŸçš„ RGB å›¾åƒã€æ·±åº¦å›¾å’Œè¯­ä¹‰åˆ†å‰²å›¾ï¼Œä»Žè€Œè§£å†³äº†æ·±åº¦å­¦ä¹ æ¨¡åž‹è®­ç»ƒä¸­æ•°æ®åŒ®ä¹çš„å…³é”®ç—›ç‚¹ï¼Œå³â€œæ¨¡æ‹Ÿ-çŽ°å®žå·®è·â€ï¼ˆSim-to-Real Gapï¼‰ã€‚æ— è®ºæ˜¯ç”¨äºŽæ— äººæœºé¿éšœçš„å¼ºåŒ–å­¦ä¹ ç®—æ³•ï¼Œè¿˜æ˜¯è‡ªåŠ¨é©¾é©¶æ±½è½¦çš„è®¡ç®—æœºè§†è§‰ç³»ç»Ÿï¼ŒAirSim éƒ½æä¾›äº†ç²¾ç¡®çš„ç‰©ç†æ¨¡æ‹Ÿå’Œä¸°å¯Œçš„æ•°æ®æŽ¥å£ã€‚\r\nç„¶è€Œï¼Œè½¯ä»¶ç”Ÿå‘½å‘¨æœŸæ€»æ˜¯æœ‰é™çš„ã€‚2022 å¹´ï¼Œå¾®è½¯å®£å¸ƒåŽŸç‰ˆ AirSim é¡¹ç›®å·²å®Œæˆå…¶åŽ†å²ä½¿å‘½ï¼Œå¹¶å°†å…¶ GitHub ä»“åº“å½’æ¡£ï¼ˆArchivedï¼‰ã€‚å¾®è½¯çš„æˆ˜ç•¥é‡å¿ƒè½¬ç§»åˆ°äº†å•†ä¸šé—­æºå¹³å° â€œProject AirSimâ€ ä¸Šï¼Œæ—¨åœ¨ä¸ºèˆªç©ºå·¥ä¸šæä¾›æ›´é«˜çº§åˆ«çš„å•†ä¸šæ¨¡æ‹ŸæœåŠ¡ ã€‚è¿™ä¸€å†³å®šäº§ç”Ÿäº†æ·±è¿œçš„å½±å“ï¼šåŽŸç‰ˆ AirSim åœæ­¢äº†å¯¹æ–°ç‰¹æ€§çš„æ”¯æŒï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œå®ƒä¸å†é€‚é… Unreal Engine çš„åŽç»­ç‰ˆæœ¬ï¼ˆä¸»è¦æ˜¯ UE5ï¼‰ï¼Œå¯¼è‡´å…¶åœ¨å›¾å½¢æŠ€æœ¯é£žé€Ÿå‘å±•çš„å½“ä¸‹é€æ¸æ˜¾å¾—è¿‡æ—¶ã€‚ç¤¾åŒºç”¨æˆ·è™½ç„¶ä»å¯è®¿é—®ä»£ç ï¼Œä½†é¢ä¸´ç€ç»´æŠ¤ç¼ºå¤±ã€Bug æ— æ³•ä¿®å¤ä»¥åŠæ— æ³•åˆ©ç”¨æ–°ç¡¬ä»¶ç‰¹æ€§çš„å›°å¢ƒ ã€‚\u003C/p>\n\u003Ch2 id=\"22-cosys-airsim-çš„å´›èµ·ä¸Žå®šä½\">2.2 Cosys-AirSim çš„å´›èµ·ä¸Žå®šä½\u003C/h2>\n\u003Cp>åœ¨å¾®è½¯å®£å¸ƒåœæ­¢ç»´æŠ¤çš„åŒæ—¶ï¼Œå­¦æœ¯ç•Œå’Œå·¥ä¸šç•Œå¯¹å¼€æºé«˜ä¿çœŸä»¿çœŸå™¨çš„éœ€æ±‚å¹¶æœªå‡å¼±ã€‚Cosys-AirSim æ­£æ˜¯åœ¨è¿™ä¸€èƒŒæ™¯ä¸‹åº”è¿è€Œç”Ÿã€‚å®ƒå¹¶éžç®€å•çš„ä»£ç æ‰˜ç®¡æˆ–å¾®å°çš„ç»´æŠ¤æ€§åˆ†æ”¯ï¼Œè€Œæ˜¯ç”±å®‰ç‰¹å«æ™®å¤§å­¦ï¼ˆUniversity of Antwerpï¼‰çš„ Cosys-Labï¼ˆç½‘ç»œç‰©ç†ç³»ç»Ÿå®žéªŒå®¤ï¼‰å‘èµ·å¹¶æ·±åº¦å®šåˆ¶çš„æ¼”è¿›ç‰ˆæœ¬ ã€‚\r\nCosys-AirSim çš„æ ¸å¿ƒå®šä½æ˜¯ä»Žä¸€ä¸ªé€šç”¨çš„ AI ç ”ç©¶æ¼”ç¤ºå¹³å°ï¼Œè½¬åž‹ä¸ºé¢å‘å¤æ‚å·¥ä¸šåº”ç”¨ã€å¤šé¢†åŸŸæœºå™¨äººç ”ç©¶çš„ç”Ÿäº§åŠ›å·¥å…· ã€‚Cosys-Lab å›¢é˜Ÿä¸ä»…æ‰¿æ‹…äº†ä»£ç ç»´æŠ¤çš„é‡ä»»ï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œä»–ä»¬å¯¹åº•å±‚æž¶æž„è¿›è¡Œäº†å¤§åˆ€é˜”æ–§çš„é‡æž„ï¼Œä»¥é€‚é… Unreal Engine 5 çš„é©å‘½æ€§ç‰¹æ€§ ã€‚è¿™ä¸€åˆ†å‰ç‰ˆæœ¬ï¼ˆForkï¼‰å¼•å…¥äº†å¯¹æ°´é¢æ— äººè‰‡ï¼ˆASVSimï¼‰ã€å·¥ä¸šçº§ç§»åŠ¨æœºå™¨äººï¼ˆå¦‚ Huskyï¼‰ã€ä»¥åŠç”Ÿç‰©å£°çº³æ„ŸçŸ¥ï¼ˆSonoNERFï¼‰çš„æ”¯æŒï¼Œæžå¤§åœ°æ‰©å±•äº† AirSim çš„åº”ç”¨è¾¹ç•Œ ã€‚\r\næœ¬è´¨ä¸Šï¼ŒCosys-AirSim ä»£è¡¨äº† AirSim æŠ€æœ¯æ ˆçš„çŽ°ä»£åŒ–é‡ç”Ÿã€‚å®ƒä¸ä»…è§£å†³äº†åŽŸç‰ˆåœ¨ UE5 çŽ¯å¢ƒä¸‹çš„å…¼å®¹æ€§é—®é¢˜ï¼Œè¿˜é’ˆå¯¹çŽ°ä»£æœºå™¨äººå¼€å‘æµç¨‹ï¼ˆç‰¹åˆ«æ˜¯ ROS2ï¼‰è¿›è¡Œäº†åŽŸç”Ÿé€‚é…ï¼Œæˆä¸ºäº†ç›®å‰å”¯ä¸€æ´»è·ƒä¸”åŠŸèƒ½å®Œå¤‡çš„ AirSim åŽç»§è€… ã€‚\u003C/p>\n\u003Ch1 id=\"3-æ ¸å¿ƒæž¶æž„ä¸Žå¼•æ“Žæ”¯æŒ\">3. æ ¸å¿ƒæž¶æž„ä¸Žå¼•æ“Žæ”¯æŒ\u003C/h1>\n\u003Cp>åŽŸç‰ˆ AirSim ä¸Ž Cosys-AirSim æœ€æ ¹æœ¬çš„åŒºåˆ«åœ¨äºŽå…¶æ‰€ä¾é™„çš„åº•å±‚æ¸¸æˆå¼•æ“Žç‰ˆæœ¬åŠå…¶é…å¥—çš„ç‰©ç†ç³»ç»Ÿã€‚è¿™ç§åº•å±‚çš„å·®å¼‚å†³å®šäº†ä»¿çœŸå™¨çš„æ¸²æŸ“ä¸Šé™ã€ç‰©ç†è®¡ç®—ç²¾åº¦ä»¥åŠæœªæ¥çš„å¯æ‰©å±•æ€§ã€‚\r\n\u003Cimg src=\"https://i-blog.csdnimg.cn/direct/f3605f34ae7b43e88483fb6eede35ced.jpeg\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\">\u003C/p>\n\u003Ch2 id=\"31-ç‰©ç†å¼•æ“Žçš„èŒƒå¼è½¬ç§»physx-vs-chaos\">3.1 ç‰©ç†å¼•æ“Žçš„èŒƒå¼è½¬ç§»ï¼šPhysX vs. Chaos\u003C/h2>\n\u003Cp>ç‰©ç†å¼•æ“Žæ˜¯ä»¿çœŸå™¨çš„â€œå¿ƒè„â€ï¼Œè´Ÿè´£è®¡ç®—ç¢°æ’žæ£€æµ‹ã€åˆšä½“åŠ¨åŠ›å­¦ã€è½¦è¾†æ‚¬æŒ‚ä»¥åŠç©ºæ°”åŠ¨åŠ›å­¦æ•ˆåº”ã€‚åœ¨ Unreal Engine 4 åˆ° 5 çš„å‡çº§è¿‡ç¨‹ä¸­ï¼Œç‰©ç†å¼•æ“Žå‘ç”Ÿäº†å½»åº•çš„æ›´æ›¿ï¼Œè¿™ä¹Ÿæ˜¯åŽŸç‰ˆ AirSim æ— æ³•ç›´æŽ¥è¿è¡Œåœ¨ UE5 ä¸Šçš„ä¸»è¦åŽŸå› ã€‚\u003C/p>\n\u003Ch3 id=\"-microsoft-airsim-legacy---æ·±åº¦ç»‘å®š-nvidia-physx\">* Microsoft AirSim (Legacy) - æ·±åº¦ç»‘å®š NVIDIA PhysX\u003C/h3>\n\u003Cul>\n\u003Cli>æŠ€æœ¯èƒŒæ™¯: åœ¨ UE4 æ—¶ä»£ï¼ŒNVIDIA çš„ PhysX æ˜¯å¼•æ“Žé»˜è®¤é›†æˆçš„ç‰©ç†è§£å†³æ–¹æ¡ˆã€‚åŽŸç‰ˆ AirSim çš„æ ¸å¿ƒç±» FastPhysicsEngine ä»¥åŠè½¦è¾†åŠ¨åŠ›å­¦æ¨¡åž‹ PhysXCar æ˜¯ç›´æŽ¥åŸºäºŽ PhysX API æž„å»ºçš„ ã€‚å®ƒä¾èµ– PhysX æ¥å¤„ç†è½¦è¾†çš„è½®èƒŽæ‘©æ“¦ã€æ‚¬æŒ‚é˜»å°¼ä»¥åŠå¤šæ—‹ç¿¼æ— äººæœºçš„åˆšä½“è¿åŠ¨ã€‚\u003C/li>\n\u003Cli>å±€é™æ€§: éšç€ UE5 çš„å‘å¸ƒï¼ŒEpic Games ä¸ºäº†è¿½æ±‚æ›´é«˜çš„ç‰©ç†è®¡ç®—ç¡®å®šæ€§å’Œè·¨å¹³å°ä¸€è‡´æ€§ï¼Œå¼ƒç”¨äº† PhysXï¼Œå…¨é¢è½¬å‘è‡ªç ”çš„ Chaos ç‰©ç†å¼•æ“Žã€‚ç”±äºŽåŽŸç‰ˆ AirSim çš„ä»£ç åº“ä¸­å……æ–¥ç€å¯¹ PhysX æ•°æ®ç»“æž„å’Œå‡½æ•°è°ƒç”¨çš„ä¾èµ–ï¼Œè¿™å¯¼è‡´å…¶åœ¨ UE5 çŽ¯å¢ƒä¸‹æ— æ³•ç¼–è¯‘ï¼Œç›´æŽ¥é™åˆ¶äº†å…¶ç”Ÿå‘½å‘¨æœŸ ã€‚\u003C/li>\n\u003Cli>çŽ°çŠ¶: åŽŸç‰ˆ AirSim ä»…èƒ½ç¨³å®šè¿è¡ŒäºŽ UE 4.27 åŠæ›´æ—©ç‰ˆæœ¬ï¼Œæ— æ³•äº«å—åŽç»­å¼•æ“Žæ›´æ–°å¸¦æ¥çš„æ€§èƒ½å’ŒåŠŸèƒ½æå‡ã€‚\u003C/li>\n\u003Cli>Cosys-AirSim (Modern) - å…¨é¢è¿ç§»è‡³ Chaos Physics\n\u003Cul>\n\u003Cli>æŠ€æœ¯é‡æž„: Cosys-Lab æŠ•å…¥äº†å¤§é‡å·¥ç¨‹èµ„æºï¼Œå°†åº•å±‚çš„ç‰©ç†äº¤äº’é€»è¾‘ä»Ž PhysX è¿ç§»åˆ°äº† Chaosã€‚è¿™ä¸ä»…ä»…æ˜¯ç®€å•çš„ API æ›¿æ¢ï¼Œè¿˜æ¶‰åŠåˆ°è½¦è¾†åŠ¨åŠ›å­¦æ¨¡åž‹çš„é‡æ–°æ ¡å‡†ã€‚Cosys-AirSim åˆ©ç”¨ UE5 çš„ Chaos Vehicles æ’ä»¶é‡å†™äº†å››è½®è½¦è¾†æ¨¡åž‹ï¼Œç¡®ä¿äº†åœ¨æ–°çš„ç‰©ç†æ±‚è§£å™¨ä¸‹ï¼Œè½¦è¾†çš„åŠ å‡é€Ÿã€è½¬å‘å’Œæ‚¬æŒ‚è¡Œä¸ºä¾ç„¶ç¬¦åˆç‰©ç†è§„å¾‹ ã€‚\u003C/li>\n\u003Cli>ä¼˜åŠ¿: Chaos ç‰©ç†å¼•æ“Žæ”¯æŒå¼‚æ­¥ç‰©ç†æ­¥è¿›ï¼ˆAsync Physics Tickingï¼‰ï¼Œå…è®¸ç‰©ç†æ¨¡æ‹Ÿä»¥ç‹¬ç«‹äºŽæ¸²æŸ“å¸§çŽ‡çš„å›ºå®šé¢‘çŽ‡è¿è¡Œï¼Œè¿™å¯¹äºŽä¿è¯ä»¿çœŸæ•°æ®çš„æ—¶é—´ä¸€è‡´æ€§è‡³å…³é‡è¦ã€‚æ­¤å¤–ï¼ŒChaos åœ¨å¤„ç†å¤æ‚å‡ ä½•ä½“ç¢°æ’žï¼ˆComplex Collisionï¼‰å’Œå¤§è§„æ¨¡ç ´ç¢Žæ•ˆæžœæ–¹é¢è¡¨çŽ°æ›´ä¼˜ï¼Œä¸ºæ¨¡æ‹Ÿæœºå™¨äººä¸ŽçŽ¯å¢ƒçš„äº¤äº’ï¼ˆå¦‚æ— äººæœºæ’žå‡»éšœç¢ç‰©ï¼‰æä¾›äº†æ›´çœŸå®žçš„åé¦ˆã€‚\u003C/li>\n\u003Cli>ç‰ˆæœ¬æ”¯æŒ: Cosys-AirSim å®˜æ–¹æä¾›äº†é’ˆå¯¹ UE 5.2 (LTS) å’Œæœ€æ–° UE 5.5 çš„é¢„ç¼–è¯‘æ’ä»¶å’Œæºç æ”¯æŒï¼Œç¡®ä¿ç”¨æˆ·å§‹ç»ˆå¤„äºŽæŠ€æœ¯å‰æ²¿ ã€‚\r\n3.2 æ¸²æŸ“ç®¡çº¿ä¸Žè§†è§‰é«˜ä¿çœŸåº¦ï¼šNanite ä¸Ž Lumen çš„å¼•å…¥\r\nè§†è§‰ä¼ æ„Ÿå™¨ï¼ˆæ‘„åƒå¤´ï¼‰æ˜¯è‡ªä¸»ç³»ç»Ÿä¸­æœ€å¸¸ç”¨çš„æ„ŸçŸ¥æ‰‹æ®µã€‚ä»¿çœŸå›¾åƒçš„é€¼çœŸåº¦ï¼ˆPhotorealismï¼‰ç›´æŽ¥å†³å®šäº†åœ¨ä»¿çœŸä¸­è®­ç»ƒçš„è®¡ç®—æœºè§†è§‰ï¼ˆCVï¼‰æ¨¡åž‹èƒ½å¦è¿ç§»åˆ°çŽ°å®žä¸–ç•Œã€‚Cosys-AirSim é€šè¿‡æ”¯æŒ UE5ï¼Œå¼•å…¥äº†å›¾å½¢å­¦é¢†åŸŸçš„ä¸¤é¡¹é¢ è¦†æ€§æŠ€æœ¯ï¼šNanite å’Œ Lumenï¼Œè¿™æ˜¯åŽŸç‰ˆ AirSim æ— æ³•ä¼åŠçš„ã€‚\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>Lumen å…¨åŠ¨æ€å…¨å±€å…‰ç…§ (Global Illumination):\n\u003Cul>\n\u003Cli>åŽŸç‰ˆ AirSim: ä¸»è¦ä¾èµ– UE4 çš„é¢„çƒ˜ç„™å…‰ç…§ï¼ˆBaked Lightingï¼‰æˆ–ç®€å•çš„å±å¹•ç©ºé—´æŠ€æœ¯ï¼ˆSSGIï¼‰ã€‚åœ¨å…‰ç…§æ¡ä»¶å¿«é€Ÿå˜åŒ–çš„åœºæ™¯ï¼ˆå¦‚æ— äººæœºä»Žå®¤å†…é£žåˆ°å®¤å¤–ï¼Œæˆ–æ—¥å¤œäº¤æ›¿ï¼‰ä¸­ï¼Œå…‰å½±æ•ˆæžœå¾€å¾€æ˜¾å¾—ç”Ÿç¡¬ä¸”ä¸çœŸå®žã€‚\u003C/li>\n\u003Cli>Cosys-AirSim: å¯ç”¨äº† Lumen ç³»ç»Ÿï¼Œèƒ½å¤Ÿå®žæ—¶æ¨¡æ‹Ÿå…‰çº¿çš„æ— é™æ¬¡åå¼¹å’Œé—´æŽ¥ç…§æ˜Žã€‚è¿™æ„å‘³ç€å½“çº¢è‰²çš„å¡è½¦é©¶è¿‡ç™½è‰²å¢™å£æ—¶ï¼Œå¢™å£ä¼šçœŸå®žåœ°å‘ˆçŽ°å‡ºçº¢è‰²çš„æ¼«åå°„å…‰ï¼ˆColor Bleedingï¼‰ã€‚å¯¹äºŽä¾èµ–å…‰ç…§ä¸€è‡´æ€§çš„è§†è§‰ SLAM å’Œç›®æ ‡æ£€æµ‹ç®—æ³•ï¼ŒLumen æä¾›äº†æžå…¶æŽ¥è¿‘çœŸå®žç‰©ç†ä¸–ç•Œçš„å…‰ç…§çŽ¯å¢ƒï¼Œæ˜¾è‘—é™ä½Žäº† Domain Gap ã€‚\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>Nanite è™šæ‹ŸåŒ–å¾®å¤šè¾¹å½¢å‡ ä½•ä½“:\n\u003Cul>\n\u003Cli>åŽŸç‰ˆ AirSim: å—é™äºŽä¼ ç»Ÿæ¸²æŸ“ç®¡çº¿ï¼Œåœºæ™¯ä¸­çš„æ¨¡åž‹å¿…é¡»åˆ¶ä½œå¤šä¸ªç»†èŠ‚å±‚æ¬¡ï¼ˆLODsï¼‰ä»¥å¹³è¡¡æ€§èƒ½ã€‚é«˜ç²¾åº¦çš„å‡ ä½•ä½“ï¼ˆå¦‚æžå…¶å¤æ‚çš„æ ‘æœ¨æˆ–å²©çŸ³ï¼‰ä¼šå¯¼è‡´æ¸²æŸ“å¸§çŽ‡éª¤é™ã€‚\u003C/li>\n\u003Cli>Cosys-AirSim: æ”¯æŒ Nanite æŠ€æœ¯ï¼Œå…è®¸ç›´æŽ¥å¯¼å…¥æ‹¥æœ‰æ•°äº¿å¤šè¾¹å½¢çš„ç”µå½±çº§èµ„äº§ï¼ˆå¦‚ Quixel Megascans åº“ï¼‰ã€‚Nanite ä¼šæ ¹æ®æ‘„åƒæœºè·ç¦»è‡ªåŠ¨æµå¼ä¼ è¾“å‡ ä½•ç»†èŠ‚ï¼Œä½¿å¾—ä»¿çœŸåœºæ™¯ä¸­çš„ç‰©ä½“å¯ä»¥æ‹¥æœ‰åƒç´ çº§åˆ«çš„å‡ ä½•ç²¾åº¦ã€‚è¿™å¯¹äºŽæ¿€å…‰é›·è¾¾ï¼ˆLiDARï¼‰ä»¿çœŸå°¤ä¸ºå…³é”®ï¼Œå› ä¸ºæ›´ç»†è‡´çš„è¡¨é¢å‡ ä½•æ„å‘³ç€æ›´çœŸå®žçš„æ¿€å…‰åå°„ç‚¹äº‘ï¼Œå°¤å…¶æ˜¯åœ¨æ¨¡æ‹Ÿéžç»“æž„åŒ–çŽ¯å¢ƒï¼ˆå¦‚æ£®æž—ã€åºŸå¢Ÿï¼‰æ—¶ ã€‚\r\n3.3 æ€§èƒ½ä¼˜åŒ–ä¸Žåœºæ™¯ç®¡ç†\r\nè™½ç„¶ UE5 å¸¦æ¥äº†ç”»è´¨çš„é£žè·ƒï¼Œä½†ä¹Ÿå¼•å…¥äº†æ›´é«˜çš„è®¡ç®—è´Ÿè½½ã€‚Cosys-AirSim é’ˆå¯¹è¿™ä¸€æŒ‘æˆ˜è¿›è¡Œäº†ç‰¹å®šçš„ä¼˜åŒ–ï¼š\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Ch3 id=\"-å®žä¾‹åŒ–æ¸²æŸ“ä¼˜åŒ–-instanced-rendering\">* å®žä¾‹åŒ–æ¸²æŸ“ä¼˜åŒ– (Instanced Rendering):\u003C/h3>\n\u003Cp>æ”¹è¿›äº†å¯¹å¤§è§„æ¨¡åœºæ™¯ä¸­é‡å¤å¯¹è±¡ï¼ˆå¦‚ä»“åº“ä¸­çš„æ•°åƒä¸ªé›†è£…ç®±æˆ–æ£®æž—ä¸­çš„æ ‘æœ¨ï¼‰çš„æ¸²æŸ“æ•ˆçŽ‡ï¼Œå‡å°‘äº† Draw Call çš„å¼€é”€ã€‚\u003C/p>\n\u003Ch3 id=\"-ä¼ æ„Ÿå™¨è§£è€¦-sensor-decoupling\">* ä¼ æ„Ÿå™¨è§£è€¦ (Sensor Decoupling):\u003C/h3>\n\u003Cp>é‡æž„äº†ä¼ æ„Ÿå™¨æ›´æ–°å¾ªçŽ¯ã€‚åœ¨åŽŸç‰ˆ AirSim ä¸­ï¼Œä¼ æ„Ÿå™¨å¾€å¾€ä¸Žä¸»ç‰©ç†å¾ªçŽ¯å¼ºç»‘å®šã€‚Cosys-AirSim å…è®¸ä¼ æ„Ÿå™¨ä»¥ç‹¬ç«‹é¢‘çŽ‡è¿è¡Œï¼Œä¸”æ”¯æŒä¼ æ„Ÿå™¨åœ¨ä¸åŒè½¦è¾†é—´çš„çµæ´»æŒ‚è½½ï¼Œç”šè‡³æ”¯æŒç‹¬ç«‹äºŽè½¦è¾†çš„â€œä¸–ç•Œä¼ æ„Ÿå™¨â€ï¼ˆWorld Sensorsï¼‰ï¼Œç”¨äºŽæ¨¡æ‹Ÿç›‘æŽ§æ‘„åƒå¤´ç­‰å›ºå®šè®¾æ–½ ã€‚\r\nä¸‹è¡¨æ€»ç»“äº†ä¸¤è€…åœ¨å¼•æ“Žæ”¯æŒæ–¹é¢çš„å…³é”®å·®å¼‚ï¼š\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>ç‰¹æ€§ç»´åº¦\u003C/th>\u003Cth>Microsoft AirSim (Original)\u003C/th>\u003Cth>Cosys-AirSim\u003C/th>\u003Cth>æŠ€æœ¯å½±å“\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>æ”¯æŒçš„è™šå¹»å¼•æ“Ž\u003C/td>\u003Ctd>UE 4.27 åŠæ›´æ—©\u003C/td>\u003Ctd>UE 5.2, UE 5.5\u003C/td>\u003Ctd>å›¾å½¢æ¸²æŸ“è´¨é‡ä¸Šé™\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>ç‰©ç†å¼•æ“Ž\u003C/td>\u003Ctd>NVIDIA PhysX\u003C/td>\u003Ctd>Chaos Physics\u003C/td>\u003Ctd>ç‰©ç†ä»¿çœŸç²¾åº¦ä¸Žå…¼å®¹æ€§\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>å‡ ä½•ç³»ç»Ÿ\u003C/td>\u003Ctd>ä¼ ç»Ÿ Mesh LODs\u003C/td>\u003Ctd>Nanite\u003C/td>\u003Ctd>æ”¯æŒæžé«˜ç²¾åº¦çŽ¯å¢ƒå»ºæ¨¡\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>å…‰ç…§ç³»ç»Ÿ\u003C/td>\u003Ctd>çƒ˜ç„™/å…‰æ …åŒ–å…‰ç…§\u003C/td>\u003Ctd>Lumen (å®žæ—¶å…¨å±€å…‰ç…§)\u003C/td>\u003Ctd>åŠ¨æ€å…‰å½±çœŸå®žåº¦\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>ç»´æŠ¤çŠ¶æ€\u003C/td>\u003Ctd>å½’æ¡£ (åœæ­¢æ›´æ–°)\u003C/td>\u003Ctd>æ´»è·ƒ (æŒç»­è¿­ä»£)\u003C/td>\u003Ctd>å¯¹æ–°ç¡¬ä»¶/é©±åŠ¨çš„é€‚é…\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch1 id=\"4ä¼ æ„Ÿå™¨ç”Ÿæ€ç³»ç»Ÿçš„æ‰©å±•ä¸Žæ·±åŒ–\">4.ä¼ æ„Ÿå™¨ç”Ÿæ€ç³»ç»Ÿçš„æ‰©å±•ä¸Žæ·±åŒ–\u003C/h1>\n\u003Cp>ä¼ æ„Ÿå™¨ä»¿çœŸæ˜¯ Cosys-AirSim ä¸ŽåŽŸç‰ˆ AirSim å·®å¼‚æœ€å¤§çš„é¢†åŸŸä¹‹ä¸€ã€‚Cosys-Lab ä¸ä»…ä¿®å¤äº†åŽŸç‰ˆä¼ æ„Ÿå™¨æ¨¡åž‹ä¸­çš„å·²çŸ¥ç¼ºé™·ï¼Œè¿˜å¼•å…¥äº†å…¨æ–°çš„ä¼ æ„Ÿå™¨ç±»åž‹ï¼Œç‰¹åˆ«æ˜¯é’ˆå¯¹å·¥ä¸šåº”ç”¨å’Œç”Ÿç‰©ä»¿ç”Ÿç ”ç©¶çš„éœ€æ±‚è¿›è¡Œäº†å®šåˆ¶ã€‚\u003C/p>\n\u003Ch2 id=\"41-æ¿€å…‰é›·è¾¾lidarçš„é©æ–°ä»Ž-cpu-åˆ°-gpu\">4.1 æ¿€å…‰é›·è¾¾ï¼ˆLiDARï¼‰çš„é©æ–°ï¼šä»Ž CPU åˆ° GPU\u003C/h2>\n\u003Cp>æ¿€å…‰é›·è¾¾æ˜¯è‡ªåŠ¨é©¾é©¶æ„ŸçŸ¥çš„æ ¸å¿ƒä¼ æ„Ÿå™¨ã€‚åŽŸç‰ˆ AirSim çš„ LiDAR å®žçŽ°å­˜åœ¨æ˜¾è‘—çš„æ€§èƒ½ç“¶é¢ˆå’ŒåŠŸèƒ½ç¼ºå¤±ï¼Œè€Œ Cosys-AirSim å¯¹æ­¤è¿›è¡Œäº†å½»åº•çš„é‡å†™ã€‚\u003C/p>\n\u003Cul>\n\u003Cli>è®¡ç®—æž¶æž„ï¼šCPU Raycast vs. GPU Acceleration\n\u003Cul>\n\u003Cli>åŽŸç‰ˆ AirSim: ä½¿ç”¨ CPU è¿›è¡Œå°„çº¿æŠ•å°„ï¼ˆRay-castingï¼‰æ¥æ¨¡æ‹Ÿæ¿€å…‰æŸã€‚å½“æ¨¡æ‹Ÿä½Žçº¿æŸé›·è¾¾ï¼ˆå¦‚ 16 çº¿ VLP-16ï¼‰æ—¶æ€§èƒ½å°šå¯ï¼Œä½†åœ¨æ¨¡æ‹Ÿé«˜çº¿æŸé›·è¾¾ï¼ˆå¦‚ 64 çº¿æˆ– 128 çº¿ï¼‰æˆ–é«˜åˆ†è¾¨çŽ‡å›ºæ€é›·è¾¾æ—¶ï¼ŒCPU è´Ÿè½½ä¼šå‘ˆæŒ‡æ•°çº§ä¸Šå‡ï¼Œå¯¼è‡´ä»¿çœŸå¸§çŽ‡å¤§å¹…ä¸‹é™ï¼Œç”šè‡³æ— æ³•æ»¡è¶³å®žæ—¶æ€§è¦æ±‚ã€‚\u003C/li>\n\u003Cli>Cosys-AirSim: å¼•å…¥äº† GPU LiDAR ä¼ æ„Ÿå™¨ç±»åž‹ã€‚å®ƒåˆ©ç”¨çŽ°ä»£ GPU çš„è®¡ç®—ç€è‰²å™¨ï¼ˆCompute Shadersï¼‰æˆ–å…‰æ …åŒ–ç®¡çº¿å¹¶è¡Œå¤„ç†æˆåƒä¸Šä¸‡ä¸ªæ¿€å…‰ç‚¹çš„ç¢°æ’žæ£€æµ‹ã€‚è¿™ä½¿å¾—åœ¨ä¿æŒé«˜å¸§çŽ‡çš„åŒæ—¶ï¼Œèƒ½å¤Ÿæ¨¡æ‹Ÿæžé«˜ç‚¹å¯†åº¦çš„é›·è¾¾æ‰«æï¼Œæ”¯æŒæ¨¡æ‹Ÿå¦‚ Velodyne Alpha Prime æˆ– Ouster OS-128 ç­‰é«˜ç«¯ä¼ æ„Ÿå™¨ ã€‚\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>å›žæ³¢å¼ºåº¦ï¼ˆIntensityï¼‰ä¸Žç‰©ç†å»ºæ¨¡\n\u003Cul>\n\u003Cli>åŽŸç‰ˆ AirSim: ç”Ÿæˆçš„ç‚¹äº‘æ•°æ®é€šå¸¸ç¼ºä¹çœŸå®žçš„å¼ºåº¦ä¿¡æ¯ï¼Œæˆ–è€…ä»…æä¾›åŸºäºŽè·ç¦»çš„ç®€å•è¡°å‡ï¼Œæ— æ³•åæ˜ ç‰©ä½“æè´¨å¯¹æ¿€å…‰åå°„çŽ‡çš„å½±å“ã€‚\u003C/li>\n\u003Cli>Cosys-AirSim: å®žçŽ°äº†åŸºäºŽç‰©ç†çš„å¼ºåº¦æ¨¡æ‹Ÿã€‚æ¨¡åž‹è€ƒè™‘äº†ç‰©ä½“è¡¨é¢çš„æè´¨å±žæ€§ï¼ˆåå°„çŽ‡ï¼‰ã€æ¿€å…‰å…¥å°„è§’ã€å¤§æ°”è¡°å‡ä»¥åŠæ¿€å…‰é›·è¾¾è‡ªèº«çš„å‘å°„åŠŸçŽ‡æ›²çº¿ã€‚ç”Ÿæˆçš„ç‚¹äº‘åŒ…å«çœŸå®žçš„ Intensity é€šé“ï¼Œè¿™å¯¹äºŽå¼€å‘åŸºäºŽå¼ºåº¦çš„å®šä½ç®—æ³•ï¼ˆIntensity-based Localizationï¼‰å’Œè¯­ä¹‰åˆ†å‰²ç®—æ³•è‡³å…³é‡è¦ ã€‚\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>æ•°æ®äº¤ä»˜ä¸Žç•¸å˜æ¨¡æ‹Ÿ\n\u003Cul>\n\u003Cli>å…¨æ‰«æäº¤ä»˜ (Full Scan): åŽŸç‰ˆ AirSim çš„ LiDAR æ•°æ®å¾€å¾€å—åˆ°æ¸²æŸ“å¸§çŽ‡çš„é™åˆ¶ï¼Œä¸€æ¬¡ API è°ƒç”¨å¯èƒ½åªè¿”å›žéƒ¨åˆ†æ‰«ææ‰‡åŒºçš„æ•°æ®ã€‚Cosys-AirSim æ”¹è¿›äº† APIï¼Œæ”¯æŒè¾“å‡ºå®Œæ•´çš„ 360 åº¦æ‰«æå¸§ï¼ˆFull Scanï¼‰ï¼Œç¡®ä¿äº†æ•°æ®çš„å®Œæ•´æ€§ ã€‚\u003C/li>\n\u003Cli>è¿åŠ¨ç•¸å˜ (Motion Distortion): èƒ½å¤Ÿåœ¨ä»¿çœŸä¸­æ¨¡æ‹Ÿç”±äºŽè½¦è¾†é«˜é€Ÿè¿åŠ¨å¯¼è‡´çš„æ¿€å…‰ç‚¹äº‘ç•¸å˜ï¼ˆRolling Shutter effectï¼‰ï¼Œè¿™å¯¹äºŽéªŒè¯åŽ»ç•¸å˜ç®—æ³•ï¼ˆDe-skewingï¼‰éžå¸¸æœ‰ç”¨ã€‚\r\n4.2 è§†è§‰ä¼ æ„Ÿå™¨ï¼šå…‰å­¦ç¼ºé™·çš„çœŸå®žå†çŽ°\r\nä¸ºäº†ç¼©å° Sim-to-Real Gapï¼ŒCosys-AirSim å¢žå¼ºäº†ç›¸æœºæ¨¡åž‹ï¼Œä½¿å…¶åŒ…å«æ›´å¤šçœŸå®žä¸–ç•Œç›¸æœºçš„å…‰å­¦ç‘•ç–µï¼Œä»Žè€Œé˜²æ­¢ç¥žç»ç½‘ç»œæ¨¡åž‹åœ¨è¿‡äºŽå®Œç¾Žçš„ä»¿çœŸå›¾åƒä¸Šå‘ç”Ÿè¿‡æ‹Ÿåˆã€‚\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>é«˜çº§ç•¸å˜æ¨¡åž‹: æ–°å¢žäº†å¯¹ è‰²å·® (Chromatic Aberration)ã€è¿åŠ¨æ¨¡ç³Š (Motion Blur) å’Œ é€é•œç•¸å˜ (Lens Distortion) çš„è¯¦ç»†å‚æ•°é…ç½®ã€‚ç”¨æˆ·å¯ä»¥ç²¾ç¡®æŽ§åˆ¶å¾„å‘ç•¸å˜å’Œåˆ‡å‘ç•¸å˜çš„ç³»æ•°ï¼Œä»¥åŒ¹é…çœŸå®žç›¸æœºçš„å†…å‚ ã€‚\u003C/li>\n\u003Cli>å…‰ç…§ä¼ æ„Ÿå™¨ (Lighting Sensor): å¼•å…¥äº†ä¸€ç§åä¸º Lighting çš„æ–°å›¾åƒç±»åž‹ã€‚è¿™ç§å›¾åƒä¸åŒ…å«ç‰©ä½“çš„çº¹ç†æè´¨ï¼Œä»…æ¸²æŸ“åœºæ™¯ä¸­çš„å…‰ç…§åˆ†å¸ƒï¼ˆåŒ…æ‹¬é˜´å½±å’Œé«˜å…‰ï¼‰ã€‚è¿™ä¸ºç ”ç©¶å…‰ç…§ä¸å˜æ€§ç®—æ³•æä¾›äº†ç‹¬ç‰¹çš„ Ground Truth æ•°æ® ã€‚\u003C/li>\n\u003Cli>\u003Cem>å™ªå£°æ¨¡åž‹\u003C/em>: å®žçŽ°äº†æ›´å¤æ‚çš„æ·±åº¦ç›¸æœºå™ªå£°æ¨¡åž‹ï¼Œèƒ½å¤Ÿæ¨¡æ‹ŸçœŸå®ž RGB-D ç›¸æœºï¼ˆå¦‚ RealSenseï¼‰åœ¨ä¸åŒè·ç¦»å’Œæè´¨ä¸‹çš„æµ‹é‡è¯¯å·®ï¼ŒRå¹³æ–¹å€¼è¾¾åˆ° 0.62ï¼Œæ˜¾è‘—ä¼˜äºŽåŽŸç‰ˆç®€å•çš„å™ªå£°å åŠ  ã€‚\r\n4.3 ç”Ÿç‰©å¯å‘å¼æ„ŸçŸ¥ï¼šå£°çº³ä¸Žå›žå£°å®šä½\r\nè¿™æ˜¯ Cosys-AirSim ç‹¬æœ‰çš„ç‰¹è‰²åŠŸèƒ½ï¼ŒæºäºŽ Cosys-Lab åœ¨è™è å›žå£°å®šä½ï¼ˆEcholocationï¼‰æ–¹é¢çš„ç ”ç©¶èƒŒæ™¯ã€‚\u003C/li>\n\u003Cli>Echo Sensor: å¼•å…¥äº†é«˜ä¿çœŸçš„å£°å­¦ä¼ æ„Ÿå™¨æ¨¡åž‹ï¼Œèƒ½å¤Ÿæ¨¡æ‹Ÿå£°æ³¢åœ¨ä¸‰ç»´çŽ¯å¢ƒä¸­çš„ä¼ æ’­ã€åå°„ã€è¡å°„å’Œå¤šæ™®å‹’æ•ˆåº”ã€‚ç»“åˆç›¸å…³çš„å¼€æºé¡¹ç›® SonoNERFï¼ˆç¥žç»è¾å°„åœºå£°å­¦å»ºæ¨¡ï¼‰ï¼ŒCosys-AirSim èƒ½å¤Ÿç”Ÿæˆé€¼çœŸçš„å£°çº³å›¾è°±ï¼ˆSpectrogramsï¼‰ã€‚\u003C/li>\n\u003Cli>åº”ç”¨: è¿™ä¸€åŠŸèƒ½ä½¿å¾— Cosys-AirSim æˆä¸ºç ”ç©¶å£°å­¦å¯¼èˆªã€æ°´ä¸‹å£°çº³æˆåƒä»¥åŠç”Ÿç‰©ä»¿ç”Ÿæœºå™¨äººçš„ç‹¬ç‰¹å¹³å°ï¼Œè€ŒåŽŸç‰ˆ AirSim å®Œå…¨ä¸å…·å¤‡å¤„ç†å£°å­¦ä¿¡å·çš„èƒ½åŠ› ã€‚\r\n4.4 è¯­ä¹‰åˆ†å‰²ä¸ŽçœŸå€¼ç³»ç»Ÿçš„çªç ´\r\nè¯­ä¹‰åˆ†å‰²æ˜¯è®¡ç®—æœºè§†è§‰è®­ç»ƒä¸­æœ€é‡è¦çš„æ•°æ®ä¹‹ä¸€ã€‚åŽŸç‰ˆ AirSim åœ¨è¿™æ–¹é¢å­˜åœ¨ä¸€ä¸ªè‘—åçš„â€œç¡¬ä¼¤â€ã€‚\u003C/li>\n\u003Cli>\u003Cem>ID é™åˆ¶çªç ´\u003C/em>: åŽŸç‰ˆ AirSim çš„åˆ†å‰² ID è¢«é™åˆ¶åœ¨ 0-255 ä¹‹é—´ï¼ˆ8ä½æ•´æ•°ï¼‰ï¼Œè¿™æ„å‘³ç€åœ¨åŒä¸€åœºæ™¯ä¸­æœ€å¤šåªèƒ½åŒºåˆ† 255 ç±»ç‰©ä½“ã€‚å¯¹äºŽåŒ…å«æˆåƒä¸Šä¸‡ä¸ªç‹¬ç«‹å¯¹è±¡ï¼ˆå¦‚æ£®æž—ä¸­çš„æ¯ä¸€æ£µæ ‘ï¼Œæˆ–ä»“åº“ä¸­çš„æ¯ä¸€ä¸ªåŒ…è£¹ï¼‰çš„å¤§è§„æ¨¡åœºæ™¯ï¼Œè¿™ä¸€é™åˆ¶æ˜¯è‡´å‘½çš„ã€‚Cosys-AirSim é‡å†™äº†åº•å±‚çš„åˆ†å‰² ID åˆ†é…é€»è¾‘ï¼Œæ”¯æŒæ•°ç™¾ä¸‡ä¸ªå”¯ä¸€å¯¹è±¡çš„ ID æ˜ å°„ï¼Œæ»¡è¶³äº†å®žä¾‹åˆ†å‰²ï¼ˆInstance Segmentationï¼‰å’Œå…¨æ™¯åˆ†å‰²ï¼ˆPanoptic Segmentationï¼‰çš„éœ€æ±‚ ã€‚\u003C/li>\n\u003Cli>è‡ªåŠ¨æ ‡æ³¨ç³»ç»Ÿ: åˆ©ç”¨ Unreal Engine çš„é¡¶ç‚¹é¢œè‰²ï¼ˆVertex Colorï¼‰æŠ€æœ¯ï¼ŒCosys-AirSim å®žçŽ°äº†å¯¹é™æ€å’ŒåŠ¨æ€å¯¹è±¡çš„è‡ªåŠ¨ç€è‰²å’Œæ ‡ç­¾ç”Ÿæˆã€‚ç”¨æˆ·æ— éœ€æ‰‹åŠ¨ä¸ºæ¯ä¸ªèµ„äº§é…ç½® IDï¼Œç³»ç»Ÿä¼šæ ¹æ®ç½‘æ ¼å®žä¾‹è‡ªåŠ¨ç”Ÿæˆå”¯ä¸€çš„ RGB æŽ©ç ï¼Œå¹¶å¯¼å‡ºå¯¹åº”çš„ ID-åç§°æ˜ å°„è¡¨ ã€‚\u003C/li>\n\u003C/ul>\n\u003Ch1 id=\"5æœºå™¨äººä¸­é—´ä»¶é›†æˆros1-åˆ°-ros2-çš„å…¨é¢è¿›åŒ–\">5.æœºå™¨äººä¸­é—´ä»¶é›†æˆï¼šROS1 åˆ° ROS2 çš„å…¨é¢è¿›åŒ–\u003C/h1>\n\u003Cp>å¯¹äºŽæœºå™¨äººç ”ç©¶è€…è€Œè¨€ï¼Œä»¿çœŸå™¨ä¸Ž ROSï¼ˆRobot Operating Systemï¼‰çš„é›†æˆåº¦æ˜¯å†³å®šå…¶æ˜“ç”¨æ€§çš„å…³é”®ã€‚éšç€æœºå™¨äººå·¥ä¸šç•Œå…¨é¢å‘ ROS2 è½¬åž‹ä»¥è¿½æ±‚æ›´å¥½çš„å®žæ—¶æ€§å’Œå®‰å…¨æ€§ï¼ŒCosys-AirSim åœ¨è¿™æ–¹é¢çš„é‡æž„æ˜¾å¾—å°¤ä¸ºé‡è¦ã€‚\u003C/p>\n\u003Ch2 id=\"51-microsoft-airsim-çš„-ros1-é—äº§\">5.1 Microsoft AirSim çš„ ROS1 é—äº§\u003C/h2>\n\u003Cp>åŽŸç‰ˆ AirSim çš„ ROS é›†æˆä¸»è¦é€šè¿‡ airsim_ros_pkgs å®žçŽ°ï¼Œè¿™æ˜¯ä¸€ä¸ªåŸºäºŽ ROS1ï¼ˆä¸»è¦æ˜¯ Melodic/Noetic ç‰ˆæœ¬ï¼‰çš„å°è£…å™¨ï¼ˆWrapperï¼‰ã€‚\u003C/p>\n\u003Cul>\n\u003Cli>æž¶æž„é™åˆ¶: åŽŸç‰ˆ Wrapper æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæ¡¥æŽ¥èŠ‚ç‚¹ï¼ˆBridge Nodeï¼‰ã€‚å®ƒè¿è¡Œåœ¨ ROS çŽ¯å¢ƒä¸­ï¼Œé€šè¿‡ TCP/IP åè®®çš„ RPC æŽ¥å£ä¸Ž AirSim äºŒè¿›åˆ¶ç¨‹åºé€šä¿¡ï¼ŒèŽ·å–æ•°æ®åŽå†å°è£…ä¸º ROS æ¶ˆæ¯å‘å¸ƒã€‚è¿™ç§æž¶æž„è™½ç„¶è§£è€¦äº†ä»¿çœŸå™¨å’Œ ROSï¼Œä½†åœ¨é«˜é¢‘æ•°æ®ä¼ è¾“æ—¶å­˜åœ¨æ˜Žæ˜¾çš„å»¶è¿Ÿã€‚\u003C/li>\n\u003Cli>ROS2 æ”¯æŒç¼ºå¤±: è™½ç„¶ç¤¾åŒºæ›¾å°è¯•é€šè¿‡ ros1_bridge æˆ–æ—©æœŸçš„å®žéªŒæ€§åˆ†æ”¯æ¥æ”¯æŒ ROS2ï¼Œä½†åŽŸç‰ˆ AirSim ä»Žæœªæä¾›å®˜æ–¹ç¨³å®šçš„ ROS2 æ”¯æŒã€‚è¿™æ„å‘³ç€åœ¨åŽŸç‰ˆ AirSim ä¸Šå¼€å‘ ROS2 åº”ç”¨éœ€è¦å¤æ‚çš„æ¡¥æŽ¥é…ç½®ï¼Œä¸”éš¾ä»¥åˆ©ç”¨ ROS2 çš„ DDSï¼ˆData Distribution Serviceï¼‰ç‰¹æ€§ ã€‚\r\n5.2 Cosys-AirSim çš„åŽŸç”Ÿ ROS2 é‡æž„\r\nCosys-AirSim å½»åº•é‡å†™äº† ROS é›†æˆå±‚ï¼Œä½¿å…¶æˆä¸º ROS2 Native çš„å®žçŽ°ï¼Œå®Œå…¨æ‹¥æŠ±äº† ROS2 ç”Ÿæ€ ã€‚\u003C/li>\n\u003Cli>åŸºäºŽ rclcpp çš„åŽŸç”Ÿå®žçŽ°:\n\u003Cul>\n\u003Cli>Cosys-AirSim æ‘’å¼ƒäº†æ—§çš„ Wrapper æž¶æž„ï¼Œç›´æŽ¥ä½¿ç”¨ ROS2 çš„ C++ å®¢æˆ·ç«¯åº“ (rclcpp) åœ¨æ’ä»¶å†…éƒ¨ç¼–å†™èŠ‚ç‚¹ã€‚è¿™æ„å‘³ç€ä»¿çœŸå™¨æœ¬èº«å°±æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ª ROS2 èŠ‚ç‚¹ï¼Œå¯ä»¥ç›´æŽ¥å‚ä¸Ž ROS2 ç½‘ç»œçš„æ•°æ®äº¤æ¢ ã€‚\u003C/li>\n\u003Cli>ä¼˜åŠ¿: è¿™ç§åŽŸç”Ÿé›†æˆå…è®¸åˆ©ç”¨ ROS2 çš„é›¶æ‹·è´ï¼ˆZero-copyï¼‰é€šä¿¡æœºåˆ¶ï¼ˆåœ¨åŒä¸€è¿›ç¨‹å†…ï¼‰ï¼Œå¤§å¹…é™ä½Žäº†å›¾åƒå’Œç‚¹äº‘ç­‰å¤§æ•°æ®é‡ä¼ è¾“çš„å»¶è¿Ÿã€‚åŒæ—¶ï¼Œå®ƒæ”¯æŒ ROS2 çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼ˆLifecycle Nodesï¼‰ï¼Œå…è®¸å¤–éƒ¨æŽ§åˆ¶å™¨åŠ¨æ€ç®¡ç†ä»¿çœŸèŠ‚ç‚¹çš„å¯åŠ¨ã€æš‚åœå’Œé…ç½®ã€‚\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>TF æ ‘ä¸Žåæ ‡ç³»çš„æ ‡å‡†åŒ–:\n\u003Cul>\n\u003Cli>åŽŸç‰ˆ AirSim ä¸­ï¼Œåæ ‡ç³»è½¬æ¢ï¼ˆä»Ž Unreal çš„å·¦æ‰‹ç³» NED åˆ° ROS çš„å³æ‰‹ç³» ENUï¼‰ç»å¸¸å¼•èµ·æ··æ·†ã€‚Cosys-AirSim é‡æ–°è®¾è®¡äº†åæ ‡å˜æ¢ï¼ˆTFï¼‰æ ‘çš„ç»“æž„ï¼Œä¸¥æ ¼éµå¾ª REP-105 æ ‡å‡†ï¼šworld -> odom -> vehicle -> sensors ã€‚\u003C/li>\n\u003Cli>è¿™ä¿®æ­£äº†åŽŸç‰ˆä¸­å¸¸è§çš„åæ ‡ç³»ä¸ä¸€è‡´é—®é¢˜ï¼Œä½¿å¾— Cosys-AirSim èƒ½å¤Ÿæ— ç¼å¯¹æŽ¥ Nav2ï¼ˆROS2 Navigation Stackï¼‰ç­‰æ ‡å‡†å¯¼èˆªåŒ…ï¼Œæ— éœ€ç”¨æˆ·æ‰‹åŠ¨ç¼–å†™å¤æ‚çš„åæ ‡è½¬æ¢è„šæœ¬ ã€‚\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>è‡ªå®šä¹‰æ¶ˆæ¯ä¸ŽæœåŠ¡æ‰©å±•:\n\u003Cul>\n\u003Cli>Cosys-AirSim ä¸ä»…å‘å¸ƒæ ‡å‡†çš„ä¼ æ„Ÿå™¨è¯é¢˜ï¼Œè¿˜æ‰©å±•äº†å¤§é‡çš„ ROS2 Service å’Œ Actionã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡ ROS å‘½ä»¤è¡Œæˆ–èŠ‚ç‚¹ç›´æŽ¥æŽ§åˆ¶ä»¿çœŸçŽ¯å¢ƒï¼Œä¾‹å¦‚åŠ¨æ€æ”¹å˜å¤©æ°”å‚æ•°ã€æŽ§åˆ¶éžçŽ©å®¶è½¦è¾†ï¼ˆNPCï¼‰çš„è¡Œä¸ºã€æˆ–è€…è§¦å‘ç‰¹å®šçš„ä»¿çœŸäº‹ä»¶ã€‚\u003C/li>\n\u003Cli>è¯é¢˜åˆ—è¡¨ä¹Ÿè¿›è¡Œäº†çŽ°ä»£åŒ–æ›´æ–°ï¼Œä¾‹å¦‚ç›¸æœºå›¾åƒè¯é¢˜çŽ°åœ¨é‡‡ç”¨ç¬¦åˆ ROS2 æœ€ä½³å®žè·µçš„å‘½åç©ºé—´ç»“æž„ï¼Œå¦‚ /sensing/camera/image_rawï¼Œå¹¶æ”¯æŒ QoSï¼ˆQuality of Serviceï¼‰ç­–ç•¥é…ç½®ï¼Œå…è®¸åœ¨ä¸å¯é ç½‘ç»œä¸‹ä¸¢å¼ƒè¿‡æ—¶æ•°æ®ä»¥ä¿è¯å®žæ—¶æ€§ ã€‚\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>Unity æ”¯æŒçš„ç§»é™¤:\n\u003Cul>\n\u003Cli>ä¸ºäº†é›†ä¸­èµ„æºä¼˜åŒ– UE5 å’Œ ROS2 çš„ä½“éªŒï¼ŒCosys-AirSim æ˜Žç¡®åšå‡ºäº†æˆ˜ç•¥å–èˆï¼Œç§»é™¤äº†åŽŸç‰ˆ AirSim ä¸­å®žéªŒæ€§çš„ Unity å¼•æ“Žæ”¯æŒ ã€‚è¿™ä¸€å†³å®šè™½ç„¶å‡å°‘äº†å¼•æ“Žçš„é€‰æ‹©ï¼Œä½†æ¢æ¥çš„æ˜¯åœ¨ Unreal + ROS2 è¿™ä¸€ä¸»æµæŠ€æœ¯æ ˆä¸Šçš„æžè‡´ä¼˜åŒ–ã€‚\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Ch1 id=\"6è½½å…·åŠ¨åŠ›å­¦ä¸Žè·¨åŸŸæ‰©å±•ä»Žé™†ç©ºåˆ°æµ·æ´‹\">6.è½½å…·åŠ¨åŠ›å­¦ä¸Žè·¨åŸŸæ‰©å±•ï¼šä»Žé™†ç©ºåˆ°æµ·æ´‹\u003C/h1>\n\u003Cp>åŽŸç‰ˆ AirSim çš„è®¾è®¡åˆè¡·ä¸»è¦èšç„¦äºŽå››æ—‹ç¿¼æ— äººæœºï¼ˆMultirotorï¼‰å’Œä¹˜ç”¨è½¦ï¼ˆCarï¼‰ã€‚Cosys-AirSim åˆ™æ‰“ç ´äº†è¿™ä¸€å±€é™ï¼Œæžå¤§åœ°æ‰©å±•äº†è½½å…·åº“ï¼Œæ¶µç›–äº†æ›´å¤šæ ·çš„æœºå™¨äººå½¢æ€ï¼Œç”šè‡³æ‹“å±•åˆ°äº†æ°´é¢é¢†åŸŸï¼Œå®žçŽ°äº†â€œæµ·é™†ç©ºâ€å…¨åŸŸä»¿çœŸã€‚\u003C/p>\n\u003Ch2 id=\"61-åœ°é¢ç§»åŠ¨æœºå™¨äººçš„å¤šæ ·åŒ–ä¸æ­¢äºŽæ±½è½¦\">6.1 åœ°é¢ç§»åŠ¨æœºå™¨äººçš„å¤šæ ·åŒ–ï¼šä¸æ­¢äºŽæ±½è½¦\u003C/h2>\n\u003Cp>åœ¨åŽŸç‰ˆ AirSim ä¸­ï¼Œå¦‚æžœæƒ³æ¨¡æ‹Ÿä¸€ä¸ªä»“åº“é‡Œçš„è½®å¼æœºå™¨äººï¼Œé€šå¸¸åªèƒ½å€Ÿç”¨ Car æ¨¡åž‹ï¼Œä½†è¿™ä¼šå¯¼è‡´ç‰©ç†è¡Œä¸ºçš„ä¸å‡†ç¡®ï¼ˆä¾‹å¦‚æ±½è½¦æ˜¯é˜¿å…‹æ›¼è½¬å‘ï¼Œè€Œæœºå™¨äººé€šå¸¸æ˜¯å·®é€Ÿè½¬å‘ï¼‰ã€‚\u003C/p>\n\u003Cul>\n\u003Cli>å·®é€Ÿ/æ»‘ç§»è½¬å‘æ¨¡åž‹ (Skid Steering):\n\u003Cul>\n\u003Cli>Cosys-AirSim å¼•å…¥äº†é€šç”¨çš„æ»‘ç§»è½¬å‘ç‰©ç†æ¨¡åž‹ã€‚è¿™æ˜¯å¤§å¤šæ•°å±¥å¸¦å¼è½¦è¾†å’Œå·®é€Ÿè½®å¼æœºå™¨äººçš„è¿åŠ¨åŸºç¡€ã€‚\u003C/li>\n\u003Cli>å†…ç½®æ¨¡åž‹: å®˜æ–¹å†…ç½®äº† ClearPath Husky å’Œ Pioneer P3DX ç­‰ç»å…¸ç§‘ç ”æœºå™¨äººçš„é«˜ç²¾åº¦æ¨¡åž‹ ã€‚è¿™ä½¿å¾— Cosys-AirSim å¯ä»¥ç›´æŽ¥ç”¨äºŽä»“å‚¨ç‰©æµæœºå™¨äººã€é‡Žå¤–å·¡æ£€æœºå™¨äººç­‰éžä¹˜ç”¨è½¦åž‹ç®—æ³•çš„å¼€å‘ä¸ŽéªŒè¯ã€‚\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cem>BoxCar\u003C/em>:\n\u003Cul>\n\u003Cli>ä¸ºäº†åœ¨èµ„æºå—é™çš„çŽ¯å¢ƒä¸‹è¿›è¡Œå¿«é€Ÿç®—æ³•éªŒè¯ï¼ŒCosys-AirSim æ·»åŠ äº†ä¸€ä¸ªåä¸º BoxCar çš„ç®€åŒ–è½¦è¾†æ¨¡åž‹ã€‚å®ƒåŽ»é™¤äº†å¤æ‚çš„æ‚¬æŒ‚å’Œè½¦è½®ç‰©ç†è®¡ç®—ï¼Œä»…ä¿ç•™åŸºæœ¬çš„è¿åŠ¨å­¦ç‰¹æ€§ï¼Œéžå¸¸é€‚åˆç”¨äºŽå¤§è§„æ¨¡å¼ºåŒ–å­¦ä¹ è®­ç»ƒä¸­çš„å¿«é€Ÿè¿­ä»£ ã€‚\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Ch2 id=\"62-asvsimæ°´é¢æ— äººè‰‡ä»¿çœŸ\">6.2 ASVSimï¼šæ°´é¢æ— äººè‰‡ä»¿çœŸ\u003C/h2>\n\u003Cp>è¿™æ˜¯ä¸€ä¸ªå…·æœ‰é‡Œç¨‹ç¢‘æ„ä¹‰çš„æ‰©å±•ï¼Œæ ‡å¿—ç€ AirSim ç”Ÿæ€ç³»ç»Ÿé¦–æ¬¡æ­£å¼è¿›å…¥æµ·æ´‹å·¥ç¨‹é¢†åŸŸã€‚åŸºäºŽ Cosys-AirSim æ¡†æž¶ï¼Œç ”ç©¶å›¢é˜Ÿå¼€å‘äº† ASVSimï¼ˆAirSim for Surface Vehiclesï¼‰ã€‚\u003C/p>\n\u003Cul>\n\u003Cli>æµä½“åŠ¨åŠ›å­¦ä¸Žæµ®åŠ›æ¨¡åž‹:\n\u003Cul>\n\u003Cli>ASVSim é›†æˆäº†ä¸“é—¨çš„èˆ¹èˆ¶æµä½“åŠ¨åŠ›å­¦æ¨¡åž‹ã€‚å®ƒä¸ä»…ä»…æ˜¯å°†èˆ¹è§†ä¸ºåœ¨â€œè“è‰²åœ°é¢â€ä¸Šæ»‘è¡Œçš„æ±½è½¦ï¼Œè€Œæ˜¯çœŸå®žæ¨¡æ‹Ÿäº†æ°´çš„æµ®åŠ›ï¼ˆBuoyancyï¼‰ã€æ°´åŠ¨é˜»åŠ›ï¼ˆHydrodynamic Dragï¼‰ä»¥åŠæ³¢æµªå¯¹èˆ¹ä½“äº§ç”Ÿçš„å…­è‡ªç”±åº¦è¿åŠ¨å½±å“ï¼ˆå¦‚æ¨ªæ‘‡ã€çºµæ‘‡ï¼‰ã€‚\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>æµ·äº‹ä¼ æ„Ÿå™¨ä»¿çœŸ:\n\u003Cul>\n\u003Cli>é›·è¾¾: å®žçŽ°äº†ä¸“é—¨çš„æµ·äº‹å¯¼èˆªé›·è¾¾æ¨¡æ‹Ÿã€‚ä¸åŒäºŽæ¿€å…‰é›·è¾¾ï¼ŒASVSim çš„é›·è¾¾æ¨¡åž‹åº”ç”¨äº†ç‚¹æ‰©æ•£å‡½æ•°ï¼ˆPSFï¼‰ï¼Œèƒ½å¤Ÿç”Ÿæˆå…·æœ‰çœŸå®žå™ªå£°å’Œæ‚æ³¢çš„é›·è¾¾æ‰«æå›¾åƒï¼ˆPPI æ˜¾ç¤ºï¼‰ï¼Œæ”¯æŒåŸºäºŽé›·è¾¾çš„æµ·å²¸çº¿æ£€æµ‹å’Œé¿éšœç®—æ³•å¼€å‘ ã€‚\u003C/li>\n\u003Cli>åº”ç”¨åœºæ™¯: è¿™ä¸€æ‰©å±•ä½¿å¾— Cosys-AirSim èƒ½å¤Ÿæ”¯æŒå†…æ²³èˆªè¿ã€æ¸¯å£è‡ªåŠ¨åŒ–ç›‘æµ‹ä»¥åŠæ°´é¢åžƒåœ¾æ¸…ç†æœºå™¨äººçš„ä»¿çœŸç ”ç©¶ï¼Œç‰¹åˆ«æ˜¯åœ¨å®‰ç‰¹å«æ™®æ¸¯ç­‰å¤æ‚æ°´åŸŸçŽ¯å¢ƒçš„æ¨¡æ‹Ÿä¸­å‘æŒ¥äº†é‡è¦ä½œç”¨ ã€‚\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Ch2 id=\"63-èˆªç©ºåŠ¨åŠ›å­¦çš„ç²¾ç»†åŒ–\">6.3 èˆªç©ºåŠ¨åŠ›å­¦çš„ç²¾ç»†åŒ–\u003C/h2>\n\u003Cp>é’ˆå¯¹æ— äººæœºï¼ŒCosys-AirSim ä¹Ÿè¿›è¡Œäº†å¾®è°ƒã€‚å®ƒå¼•å…¥äº†æ”¹è¿›çš„ç©ºæ°”é˜»åŠ›æ¨¡åž‹ï¼Œç›¸æ¯”åŽŸç‰ˆåœ¨é«˜é€Ÿé£žè¡Œï¼ˆå¦‚ 10m/sï¼‰æ—¶çš„é˜»åŠ›æ¨¡æ‹Ÿè¯¯å·®é™ä½Žäº† 51%ï¼Œä½¿å¾—èƒ½è€—é¢„æµ‹å’Œè½¨è¿¹è§„åˆ’æ›´åŠ å‡†ç¡® ã€‚\u003C/p>\n\u003Ch1 id=\"7api-ä¸Žå¼€å‘ç”Ÿæ€ç»§æ‰¿ä¸­çš„å˜é©\">7.API ä¸Žå¼€å‘ç”Ÿæ€ï¼šç»§æ‰¿ä¸­çš„å˜é©\u003C/h1>\n\u003Cp>Cosys-AirSim åœ¨å¤§å¹…æ‰©å±•åŠŸèƒ½çš„åŒæ—¶ï¼Œä¹Ÿè‡´åŠ›äºŽä¿æŒå¼€å‘ä½“éªŒçš„è¿žç»­æ€§ï¼Œä½†ä¸ºäº†æŠ€æœ¯è¿›æ­¥ï¼Œä¸å¾—ä¸å¼•å…¥ä¸€äº›ç ´åæ€§å˜æ›´ï¼ˆBreaking Changesï¼‰ã€‚\u003C/p>\n\u003Ch2 id=\"71-æŽ¥å£å…¼å®¹æ€§ä¸Žç ´åæ€§å˜æ›´\">7.1 æŽ¥å£å…¼å®¹æ€§ä¸Žç ´åæ€§å˜æ›´\u003C/h2>\n\u003Cp>Cosys-AirSim å°½å¯èƒ½ä¿æŒäº† Python å’Œ C++ API çš„å‘åŽå…¼å®¹æ€§ï¼Œè¿™æ„å‘³ç€å¤§å¤šæ•°åŸºäºŽåŽŸç‰ˆ AirSim ç¼–å†™çš„æŽ§åˆ¶è„šæœ¬ï¼ˆå¦‚ moveByVelocityAsyncï¼‰æ— éœ€ä¿®æ”¹å³å¯è¿è¡Œã€‚ä½†åœ¨ä»¥ä¸‹å‡ ä¸ªå…³é”®é¢†åŸŸå‘ç”Ÿäº†å˜æ›´ï¼š\u003C/p>\n\u003Cul>\n\u003Cli>ç›¸æœºå‘½åè§„èŒƒ:\n\u003Cul>\n\u003Cli>åŽŸç‰ˆ AirSim: å…è®¸ä½¿ç”¨æ•°å­—ç´¢å¼•ï¼ˆ0, 1, 2â€¦ï¼‰æˆ–å­—ç¬¦ä¸²IDæ¥è®¿é—®ç›¸æœºã€‚\u003C/li>\n\u003Cli>Cosys-AirSim: ä¸ºäº†æ”¯æŒæ›´å¤æ‚çš„ä¼ æ„Ÿå™¨é…ç½®ï¼Œå¼ºåˆ¶æŽ¨è¡ŒåŸºäºŽå­—ç¬¦ä¸²åç§°çš„è®¿é—®æ–¹å¼ï¼ˆå¦‚ â€œfront_centerâ€, â€œback_rightâ€ï¼‰ã€‚è™½ç„¶ä¸ºäº†å…¼å®¹æ€§ä¿ç•™äº†æ•°å­—å­—ç¬¦ä¸²åˆ«åï¼ˆâ€œ0â€ è€Œéž 0ï¼‰ï¼Œä½†è¿™è¦æ±‚å¼€å‘è€…æ›´æ–°ä»£ç ä¹ æƒ¯ï¼Œæ˜¾å¼åœ°ä½¿ç”¨å…·æœ‰è¯­ä¹‰çš„ä¼ æ„Ÿå™¨åç§°ï¼Œä»¥é¿å…åœ¨å¤šä¼ æ„Ÿå™¨ç³»ç»Ÿä¸­çš„æ··æ·† ã€‚\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>ROS2 è¯é¢˜é‡å‘½å:\n\u003Cul>\n\u003Cli>å¦‚å‰æ‰€è¿°ï¼ŒROS ä¾§çš„è¯é¢˜åç§°å’Œæ¶ˆæ¯ç±»åž‹å‘ç”Ÿäº†æ ¹æœ¬æ€§å˜åŒ–ï¼Œä»¥ç¬¦åˆ ROS2 æ ‡å‡†ã€‚æ—§çš„ ROS1 å¯åŠ¨è„šæœ¬ï¼ˆLaunch filesï¼‰æ— æ³•ç›´æŽ¥ç”¨äºŽ Cosys-AirSimï¼Œå¿…é¡»é‡å†™ ã€‚\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Ch2 id=\"72-matlab-å®¢æˆ·ç«¯çš„å¼•å…¥å·¥ç¨‹ç§‘ç ”çš„ç¦éŸ³\">7.2 Matlab å®¢æˆ·ç«¯çš„å¼•å…¥ï¼šå·¥ç¨‹ç§‘ç ”çš„ç¦éŸ³\u003C/h2>\n\u003Cp>åŽŸç‰ˆ AirSim å®˜æ–¹ä»…æä¾› C++ å’Œ Python å®¢æˆ·ç«¯ï¼Œè¿™å¯¹äºŽä¹ æƒ¯ä½¿ç”¨ Matlab/Simulink è¿›è¡ŒæŽ§åˆ¶ç†è®ºç ”ç©¶ã€ä¿¡å·å¤„ç†å’Œç¡¬ä»¶åœ¨çŽ¯ï¼ˆHILï¼‰ä»¿çœŸçš„ä¼ ç»Ÿå·¥ç¨‹äººå‘˜æ¥è¯´æ˜¯ä¸€ä¸ªé—¨æ§›ã€‚\u003C/p>\n\u003Cul>\n\u003Cli>Cosys-AirSim Matlab Client: å®˜æ–¹å¼•å…¥å¹¶ç»´æŠ¤äº†ä¸€ä¸ªå®Œæ•´çš„ Matlab API å®¢æˆ·ç«¯å·¥å…·ç®± ã€‚\u003C/li>\n\u003Cli>åŠŸèƒ½: å®ƒå…è®¸ç”¨æˆ·ç›´æŽ¥åœ¨ Matlab çŽ¯å¢ƒä¸­èŽ·å–ä¼ æ„Ÿå™¨æ•°æ®ã€å‘é€æŽ§åˆ¶æŒ‡ä»¤ï¼Œç”šè‡³ä¸Ž Simulink æ¨¡åž‹è¿›è¡Œè”åˆä»¿çœŸã€‚è¿™æžå¤§åœ°ç®€åŒ–äº†æŽ§åˆ¶ç®—æ³•ä»Žç†è®ºè®¾è®¡åˆ°ä»¿çœŸéªŒè¯çš„æµç¨‹ã€‚\u003C/li>\n\u003C/ul>\n\u003Ch2 id=\"73-æ–‡æ¡£ä¸Žç¤¾åŒºæ”¯æŒæ¨¡å¼\">7.3 æ–‡æ¡£ä¸Žç¤¾åŒºæ”¯æŒæ¨¡å¼\u003C/h2>\n\u003Cul>\n\u003Cli>æ–‡æ¡£è¿ç§»: éšç€ Microsoft å…³é—­å¹¶å½’æ¡£äº†åŽŸç‰ˆæ–‡æ¡£ç«™ï¼ŒCosys-AirSim å»ºç«‹äº†ç‹¬ç«‹çš„æ–‡æ¡£æ‰˜ç®¡ç«™ç‚¹ï¼ˆcosys-lab.github.io/Cosys-AirSim/ï¼‰ã€‚æ–‡æ¡£ç»“æž„è¿›è¡Œäº†é‡ç»„ï¼Œä¸“é—¨å¢žåŠ äº†é’ˆå¯¹ UE5 è¿ç§»å’Œ ROS2 é…ç½®çš„ç« èŠ‚ ã€‚\u003C/li>\n\u003Cli>â€œAs-isâ€ æ”¯æŒæ¨¡å¼: éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½œä¸ºä¸€ä¸ªå­¦æœ¯å®žéªŒå®¤ç»´æŠ¤çš„å¼€æºé¡¹ç›®ï¼ŒCosys-AirSim æ˜Žç¡®å£°æ˜Žè½¯ä»¶æ˜¯â€œæŒ‰åŽŸæ ·æä¾›â€ï¼ˆProvided As-isï¼‰ï¼Œä¸æä¾›ç±»ä¼¼äºŽå¾®è½¯æ—¶æœŸçš„å•†ä¸šçº§æ”¯æŒæ‰¿è¯ºã€‚ç¤¾åŒºäº’åŠ¨ä¸»è¦ä¾èµ–äºŽ GitHub Issues å’Œç›¸å…³çš„å­¦æœ¯ä¼šè®®ï¼ˆå¦‚ ANNSIMï¼‰ï¼Œç”¨æˆ·éœ€è¦å…·å¤‡æ›´å¼ºçš„è‡ªæˆ‘æŽ’é”™èƒ½åŠ› ã€‚\u003C/li>\n\u003C/ul>\n\u003Ch1 id=\"8-å¤šæ™ºèƒ½ä½“ä¸Žé›†ç¾¤ä»¿çœŸswarm-simulation\">8. å¤šæ™ºèƒ½ä½“ä¸Žé›†ç¾¤ä»¿çœŸï¼ˆSwarm Simulationï¼‰\u003C/h1>\n\u003Cp>å¤šæ™ºèƒ½ä½“ä¸Žé›†ç¾¤ä»¿çœŸï¼ˆSwarm Simulationï¼‰:åœ¨å¤æ‚çš„å·¥ä¸šå’Œæ•‘æ´åœºæ™¯ä¸­ï¼Œå•ä½“æœºå™¨äººçš„èƒ½åŠ›å¾€å¾€æœ‰é™ï¼Œå¤šæœºå™¨äººååŒï¼ˆSwarm Roboticsï¼‰æˆä¸ºç ”ç©¶çƒ­ç‚¹ã€‚Cosys-AirSim åˆ©ç”¨ UE5 å’Œ ROS2 çš„ç‰¹æ€§ï¼Œåœ¨é›†ç¾¤ä»¿çœŸæ–¹é¢å±•çŽ°äº†æ˜¾è‘—ä¼˜åŠ¿ã€‚\u003C/p>\n\u003Ch2 id=\"81-æ€§èƒ½ä¼˜åŒ–ä¸Žåˆ†å¸ƒå¼æž¶æž„\">8.1 æ€§èƒ½ä¼˜åŒ–ä¸Žåˆ†å¸ƒå¼æž¶æž„\u003C/h2>\n\u003Cp>åŽŸç‰ˆ AirSim è™½ç„¶æ”¯æŒå¤šè½¦æ¨¡å¼ï¼Œä½†åœ¨è½¦è¾†æ•°é‡å¢žåŠ æ—¶ï¼Œç‰©ç†è®¡ç®—å’Œæ¸²æŸ“å¼€é”€ä¼šå¯¼è‡´æ€§èƒ½æ€¥å‰§ä¸‹é™ã€‚\u003C/p>\n\u003Cul>\n\u003Cli>å®žä¾‹åŒ–ä¸Žä¼˜åŒ–: Cosys-AirSim é€šè¿‡ UE5 çš„å®žä¾‹åŒ–æŠ€æœ¯ä¼˜åŒ–äº†å¤šæ™ºèƒ½ä½“çš„æ¸²æŸ“ã€‚æ›´é‡è¦çš„æ˜¯ï¼ŒåŸºäºŽ ROS2 çš„åˆ†å¸ƒå¼æž¶æž„å…è®¸å°†ç¹é‡çš„è®¡ç®—ä»»åŠ¡ï¼ˆå¦‚SLAMã€è·¯å¾„è§„åˆ’ï¼‰å¸è½½åˆ°ä¸åŒçš„è®¡ç®—èŠ‚ç‚¹ç”šè‡³ä¸åŒçš„ç‰©ç†æœºå™¨ä¸Šï¼Œä»…ä¿ç•™ä»¿çœŸå™¨è¿›è¡Œç‰©ç†å’Œæ¸²æŸ“è®¡ç®—ã€‚è¿™ä½¿å¾—åœ¨å•å°é«˜æ€§èƒ½å·¥ä½œç«™ä¸Šå®žæ—¶æ¨¡æ‹Ÿæ•°åå°æ— äººæœºçš„é›†ç¾¤æˆä¸ºå¯èƒ½ ã€‚\u003C/li>\n\u003C/ul>\n\u003Ch2 id=\"82-å…¸åž‹åº”ç”¨åœºæ™¯\">8.2 å…¸åž‹åº”ç”¨åœºæ™¯\u003C/h2>\n\u003Cul>\n\u003Cli>å·¥ä¸šå·¡æ£€: åœ¨å¸ƒæ»¡ç®¡é“ã€æ¢æŸ±å’Œè®¾å¤‡çš„åŒ–å·¥åŽ‚æˆ–æµ·ä¸Šé’»äº•å¹³å°ä¸­ï¼Œåˆ©ç”¨æ— äººæœºé›†ç¾¤è¿›è¡Œè¦†ç›–å¼å·¡æ£€ã€‚Cosys-AirSim çš„é«˜ä¿çœŸ LiDAR å’Œç›¸æœºèƒ½å¤Ÿç”Ÿæˆé€¼çœŸçš„å¤æ‚ç»“æž„ç‚¹äº‘ï¼Œç”¨äºŽè®­ç»ƒé›†ç¾¤é¿éšœå’ŒååŒå»ºå›¾ç®—æ³•ã€‚\u003C/li>\n\u003Cli>æœç´¢ä¸Žæ•‘æ´ (SAR): æ¨¡æ‹Ÿåœ¨ç¾åŽåºŸå¢ŸçŽ¯å¢ƒä¸­çš„æœç´¢ä»»åŠ¡ã€‚åˆ©ç”¨å…¶ç‹¬ç‰¹çš„å£°çº³ï¼ˆEchoï¼‰ä¼ æ„Ÿå™¨æ¨¡æ‹Ÿï¼Œç ”ç©¶äººå‘˜å¯ä»¥å¼€å‘åœ¨çƒŸé›¾æˆ–å…‰çº¿ä¸è¶³çŽ¯å¢ƒä¸‹ä¾é å£°å­¦æ„ŸçŸ¥çš„æœç´¢ç®—æ³• ã€‚\u003C/li>\n\u003C/ul>\n\u003Ch1 id=\"9-ç»“è®ºä¸Žå»ºè®®\">9. ç»“è®ºä¸Žå»ºè®®\u003C/h1>\n\u003Ch2 id=\"91-æ ¸å¿ƒç»“è®º\">9.1 æ ¸å¿ƒç»“è®º\u003C/h2>\n\u003Cp>ç»¼ä¸Šæ‰€è¿°ï¼ŒCosys-AirSim å¹¶éžåŽŸç‰ˆ Microsoft AirSim çš„ç®€å•æ›¿ä»£å“ï¼Œè€Œæ˜¯ä¸€æ¬¡å…¨æ–¹ä½çš„çŽ°ä»£åŒ–å‡çº§ã€‚\u003C/p>\n\u003Cul>\n\u003Cli>ä¸å¯é€†çš„æ›¿ä»£: åŽŸç‰ˆ Microsoft AirSim å·²å±žâ€œåºŸå¼ƒè½¯ä»¶â€ï¼ˆAbandonwareï¼‰ï¼Œä¸”æŠ€æœ¯æ ˆåœç•™åœ¨ UE4 å’Œ PhysX æ—¶ä»£ã€‚å¯¹äºŽä»»ä½•è®¡åˆ’é•¿æœŸå‘å±•ã€ä¸”å¸Œæœ›åˆ©ç”¨ Unreal Engine 5 å¼ºå¤§åŠŸèƒ½çš„é¡¹ç›®ï¼ŒCosys-AirSim æ˜¯ç›®å‰å”¯ä¸€å¯è¡Œçš„å¼€æºé€‰æ‹©ã€‚\u003C/li>\n\u003Cli>åŠŸèƒ½è¶…é›†: Cosys-AirSim åŒ…å«äº†åŽŸç‰ˆçš„æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½ï¼Œå¹¶åœ¨ç‰©ç†å¼•æ“Žã€æ¸²æŸ“ç®¡çº¿ã€ä¼ æ„Ÿå™¨æ¨¡æ€ï¼ˆGPU LiDAR, Sonarï¼‰ã€ROS2 é›†æˆä»¥åŠè½½å…·ç±»åž‹ï¼ˆUSV, Huskyï¼‰ä¸Šè¿›è¡Œäº†æ·±åº¦æ‰©å±•ã€‚\u003C/li>\n\u003Cli>é—¨æ§›æå‡: è™½ç„¶åŠŸèƒ½å¼ºå¤§ï¼Œä½†å¯¹ UE5 å’Œ ROS2 çš„ä¾èµ–ä¹Ÿæé«˜äº†ç¡¬ä»¶é—¨æ§›ï¼ˆéœ€è¦æ”¯æŒ DirectX 12/Vulkan çš„é«˜æ€§èƒ½ GPUï¼‰å’ŒæŠ€æœ¯æ ˆè¦æ±‚ã€‚\u003C/li>\n\u003C/ul>\n\u003Ch2 id=\"92-ç»™ç ”ç©¶äººå‘˜ä¸Žå·¥ç¨‹å¸ˆçš„å»ºè®®\">9.2 ç»™ç ”ç©¶äººå‘˜ä¸Žå·¥ç¨‹å¸ˆçš„å»ºè®®\u003C/h2>\n\u003Cul>\n\u003Cli>è¿ç§»ç­–ç•¥: å¯¹äºŽä»åœ¨ä½¿ç”¨åŽŸç‰ˆ AirSim çš„ç”¨æˆ·ï¼Œå»ºè®®å°½æ—©å¯åŠ¨è¿ç§»è¯„ä¼°ã€‚è™½ç„¶ Python è„šæœ¬æ”¹åŠ¨ä¸å¤§ï¼Œä½† ROS æŽ¥å£å’Œç‰©ç†å‚æ•°çš„è°ƒæ•´éœ€è¦æ—¶é—´ã€‚\u003C/li>\n\u003Cli>æ–°é¡¹ç›®å¯åŠ¨: å¼ºçƒˆå»ºè®®ç›´æŽ¥åŸºäºŽ Cosys-AirSim å’Œ UE 5.2/5.5 å¯åŠ¨æ–°é¡¹ç›®ã€‚åˆ©ç”¨å…¶é¢„ç¼–è¯‘æ’ä»¶å¯ä»¥å¤§å¹…é™ä½ŽçŽ¯å¢ƒé…ç½®çš„å¤æ‚åº¦ã€‚\u003C/li>\n\u003Cli>å­¦æœ¯ä»·å€¼: Cosys-AirSim æä¾›çš„åœ°é¢çœŸå€¼ç”Ÿæˆï¼ˆè¯­ä¹‰åˆ†å‰²ã€å…‰ç…§å›¾ï¼‰å’Œæ–°åž‹ä¼ æ„Ÿå™¨ï¼ˆå£°çº³ã€é«˜ä¿çœŸ LiDARï¼‰ä¸ºå‘è¡¨é«˜è´¨é‡ã€æ•°æ®é©±åŠ¨çš„æœºå™¨äººå­¦è®ºæ–‡æä¾›äº†å¼ºæœ‰åŠ›çš„å·¥å…·æ”¯æŒã€‚\r\nCosys-AirSim æˆåŠŸåœ°æŽ¥è¿‡äº†å¼€æºé«˜ä¿çœŸä»¿çœŸçš„ç«ç‚¬ï¼Œå®ƒä¸ä»…å»¶ç»­äº† AirSim çš„ç”Ÿå‘½ï¼Œæ›´å°†å…¶æŽ¨å‘äº†æ›´å¹¿é˜”çš„å·¥ä¸šåº”ç”¨ä¸Žè·¨åŸŸæœºå™¨äººç ”ç©¶çš„å‰æ²¿ã€‚\u003C/li>\n\u003C/ul>",{"headings":197,"localImagePaths":282,"remoteImagePaths":283,"frontmatter":190,"imagePaths":284},[198,201,204,207,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,264,267,270,273,276,279],{"depth":20,"slug":199,"text":200},"cosys-airsim-ä¸Ž-microsoft-airsim-çš„æž¶æž„æ¼”è¿›åŠŸèƒ½å·®å¼‚åŠç”Ÿæ€ç³»ç»Ÿå¯¹æ¯”","Cosys-AirSim ä¸Ž Microsoft AirSim çš„æž¶æž„æ¼”è¿›ã€åŠŸèƒ½å·®å¼‚åŠç”Ÿæ€ç³»ç»Ÿå¯¹æ¯”",{"depth":20,"slug":202,"text":203},"1-æ‰§è¡Œæ‘˜è¦","1. æ‰§è¡Œæ‘˜è¦",{"depth":20,"slug":205,"text":206},"2-å¼•è¨€ä»¿çœŸå¹³å°çš„ä»£é™…æ›´æ›¿ä¸ŽæŠ€æœ¯åˆ†å‰","2. å¼•è¨€ï¼šä»¿çœŸå¹³å°çš„ä»£é™…æ›´æ›¿ä¸ŽæŠ€æœ¯åˆ†å‰",{"depth":40,"slug":208,"text":209},"21-microsoft-airsim-çš„åŽ†å²åœ°ä½ä¸Žç»ˆç»“","2.1 Microsoft AirSim çš„åŽ†å²åœ°ä½ä¸Žç»ˆç»“",{"depth":40,"slug":211,"text":212},"22-cosys-airsim-çš„å´›èµ·ä¸Žå®šä½","2.2 Cosys-AirSim çš„å´›èµ·ä¸Žå®šä½",{"depth":20,"slug":214,"text":215},"3-æ ¸å¿ƒæž¶æž„ä¸Žå¼•æ“Žæ”¯æŒ","3. æ ¸å¿ƒæž¶æž„ä¸Žå¼•æ“Žæ”¯æŒ",{"depth":40,"slug":217,"text":218},"31-ç‰©ç†å¼•æ“Žçš„èŒƒå¼è½¬ç§»physx-vs-chaos","3.1 ç‰©ç†å¼•æ“Žçš„èŒƒå¼è½¬ç§»ï¼šPhysX vs. Chaos",{"depth":47,"slug":220,"text":221},"-microsoft-airsim-legacy---æ·±åº¦ç»‘å®š-nvidia-physx","* Microsoft AirSim (Legacy) - æ·±åº¦ç»‘å®š NVIDIA PhysX",{"depth":47,"slug":223,"text":224},"-å®žä¾‹åŒ–æ¸²æŸ“ä¼˜åŒ–-instanced-rendering","* å®žä¾‹åŒ–æ¸²æŸ“ä¼˜åŒ– (Instanced Rendering):",{"depth":47,"slug":226,"text":227},"-ä¼ æ„Ÿå™¨è§£è€¦-sensor-decoupling","* ä¼ æ„Ÿå™¨è§£è€¦ (Sensor Decoupling):",{"depth":20,"slug":229,"text":230},"4ä¼ æ„Ÿå™¨ç”Ÿæ€ç³»ç»Ÿçš„æ‰©å±•ä¸Žæ·±åŒ–","4.ä¼ æ„Ÿå™¨ç”Ÿæ€ç³»ç»Ÿçš„æ‰©å±•ä¸Žæ·±åŒ–",{"depth":40,"slug":232,"text":233},"41-æ¿€å…‰é›·è¾¾lidarçš„é©æ–°ä»Ž-cpu-åˆ°-gpu","4.1 æ¿€å…‰é›·è¾¾ï¼ˆLiDARï¼‰çš„é©æ–°ï¼šä»Ž CPU åˆ° GPU",{"depth":20,"slug":235,"text":236},"5æœºå™¨äººä¸­é—´ä»¶é›†æˆros1-åˆ°-ros2-çš„å…¨é¢è¿›åŒ–","5.æœºå™¨äººä¸­é—´ä»¶é›†æˆï¼šROS1 åˆ° ROS2 çš„å…¨é¢è¿›åŒ–",{"depth":40,"slug":238,"text":239},"51-microsoft-airsim-çš„-ros1-é—äº§","5.1 Microsoft AirSim çš„ ROS1 é—äº§",{"depth":20,"slug":241,"text":242},"6è½½å…·åŠ¨åŠ›å­¦ä¸Žè·¨åŸŸæ‰©å±•ä»Žé™†ç©ºåˆ°æµ·æ´‹","6.è½½å…·åŠ¨åŠ›å­¦ä¸Žè·¨åŸŸæ‰©å±•ï¼šä»Žé™†ç©ºåˆ°æµ·æ´‹",{"depth":40,"slug":244,"text":245},"61-åœ°é¢ç§»åŠ¨æœºå™¨äººçš„å¤šæ ·åŒ–ä¸æ­¢äºŽæ±½è½¦","6.1 åœ°é¢ç§»åŠ¨æœºå™¨äººçš„å¤šæ ·åŒ–ï¼šä¸æ­¢äºŽæ±½è½¦",{"depth":40,"slug":247,"text":248},"62-asvsimæ°´é¢æ— äººè‰‡ä»¿çœŸ","6.2 ASVSimï¼šæ°´é¢æ— äººè‰‡ä»¿çœŸ",{"depth":40,"slug":250,"text":251},"63-èˆªç©ºåŠ¨åŠ›å­¦çš„ç²¾ç»†åŒ–","6.3 èˆªç©ºåŠ¨åŠ›å­¦çš„ç²¾ç»†åŒ–",{"depth":20,"slug":253,"text":254},"7api-ä¸Žå¼€å‘ç”Ÿæ€ç»§æ‰¿ä¸­çš„å˜é©","7.API ä¸Žå¼€å‘ç”Ÿæ€ï¼šç»§æ‰¿ä¸­çš„å˜é©",{"depth":40,"slug":256,"text":257},"71-æŽ¥å£å…¼å®¹æ€§ä¸Žç ´åæ€§å˜æ›´","7.1 æŽ¥å£å…¼å®¹æ€§ä¸Žç ´åæ€§å˜æ›´",{"depth":40,"slug":259,"text":260},"72-matlab-å®¢æˆ·ç«¯çš„å¼•å…¥å·¥ç¨‹ç§‘ç ”çš„ç¦éŸ³","7.2 Matlab å®¢æˆ·ç«¯çš„å¼•å…¥ï¼šå·¥ç¨‹ç§‘ç ”çš„ç¦éŸ³",{"depth":40,"slug":262,"text":263},"73-æ–‡æ¡£ä¸Žç¤¾åŒºæ”¯æŒæ¨¡å¼","7.3 æ–‡æ¡£ä¸Žç¤¾åŒºæ”¯æŒæ¨¡å¼",{"depth":20,"slug":265,"text":266},"8-å¤šæ™ºèƒ½ä½“ä¸Žé›†ç¾¤ä»¿çœŸswarm-simulation","8. å¤šæ™ºèƒ½ä½“ä¸Žé›†ç¾¤ä»¿çœŸï¼ˆSwarm Simulationï¼‰",{"depth":40,"slug":268,"text":269},"81-æ€§èƒ½ä¼˜åŒ–ä¸Žåˆ†å¸ƒå¼æž¶æž„","8.1 æ€§èƒ½ä¼˜åŒ–ä¸Žåˆ†å¸ƒå¼æž¶æž„",{"depth":40,"slug":271,"text":272},"82-å…¸åž‹åº”ç”¨åœºæ™¯","8.2 å…¸åž‹åº”ç”¨åœºæ™¯",{"depth":20,"slug":274,"text":275},"9-ç»“è®ºä¸Žå»ºè®®","9. ç»“è®ºä¸Žå»ºè®®",{"depth":40,"slug":277,"text":278},"91-æ ¸å¿ƒç»“è®º","9.1 æ ¸å¿ƒç»“è®º",{"depth":40,"slug":280,"text":281},"92-ç»™ç ”ç©¶äººå‘˜ä¸Žå·¥ç¨‹å¸ˆçš„å»ºè®®","9.2 ç»™ç ”ç©¶äººå‘˜ä¸Žå·¥ç¨‹å¸ˆçš„å»ºè®®",[],[],[],"post_20251229070308.md"]